import{r as s,u as e,j as t}from"./vendor-react-rLLBBC7n.js";import{A as a}from"./AdminLayout-DGXoIbe0.js";import{d as r,C as i,b as d,c as l,a as o,I as n,B as m,s as c}from"./index-KxDfHqNJ.js";import{S as j}from"./separator-DByOkGf1.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-ui-BGi_EvHx.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const x=()=>{const[x,g]=s.useState([]),[h,p]=s.useState(""),[u,v]=s.useState(!1),f=e(),{toast:N}=r(),b=async()=>{const{data:s,error:e}=await c.from("skill_tests").select("id,title,created_at").eq("skill_slug","grammar-fix-it").order("created_at",{ascending:!1});e||g(s??[])};s.useEffect(()=>{document.title="Grammar Fix-it Tests | Admin",b()},[]);return t.jsx(a,{title:"Grammar Fix-it Tests",showBackButton:!0,children:t.jsxs("section",{className:"space-y-4",children:[t.jsxs(i,{children:[t.jsx(d,{children:t.jsx(l,{className:"text-base",children:"+ Add New Grammar Test"})}),t.jsxs(o,{className:"flex gap-2 items-center",children:[t.jsx(n,{placeholder:"Test title (e.g., Set 1)",value:h,onChange:s=>p(s.target.value)}),t.jsx(m,{onClick:async()=>{if(!h.trim())return;v(!0);const{data:s,error:e}=await c.from("skill_tests").insert({skill_slug:"grammar-fix-it",title:h.trim()}).select("id").maybeSingle();v(!1),e?N({title:"Failed to create test",description:e.message,variant:"destructive"}):(p(""),await b(),(null==s?void 0:s.id)&&f(`/admin/skills/grammar/tests/${s.id}`))},disabled:u,children:u?"Adding...":"Add"})]})]}),t.jsx(j,{}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[x.map(s=>t.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(d,{className:"pb-2",children:t.jsx(l,{className:"text-sm",children:s.title})}),t.jsx(o,{children:t.jsx(m,{size:"sm",variant:"secondary",onClick:()=>f(`/admin/skills/grammar/tests/${s.id}`),children:"Manage Test"})})]},s.id)),0===x.length&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{x as default};
