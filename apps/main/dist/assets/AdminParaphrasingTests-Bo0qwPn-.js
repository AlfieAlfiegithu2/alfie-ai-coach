import{r as s,u as e,h as a,j as t,C as i,b as r,d as l,a as n,I as d,B as c}from"./index-x_G9xLa2.js";import{A as o}from"./AdminLayout-BDgQJlLk.js";import{S as h}from"./separator-DTXMr79e.js";import{s as m}from"./supabase-DWL4C3fA.js";const g=()=>{const[g,p]=s.useState([]),[x,j]=s.useState(""),[u,f]=s.useState(!1),N=e(),{toast:k}=a(),v=async()=>{const{data:s,error:e}=await m.from("skill_tests").select("id,title,created_at").eq("skill_slug","paraphrasing-challenge").order("created_at",{ascending:!1});e||p(s??[])};s.useEffect(()=>{document.title="Paraphrasing Challenge Tests | Admin",v()},[]);return t.jsx(o,{title:"Paraphrasing Challenge Tests",showBackButton:!0,children:t.jsxs("section",{className:"space-y-4",children:[t.jsxs(i,{children:[t.jsx(r,{children:t.jsx(l,{className:"text-base",children:"+ Add New Paraphrasing Test"})}),t.jsxs(n,{className:"flex gap-2 items-center",children:[t.jsx(d,{placeholder:"Test title (e.g., Set 1)",value:x,onChange:s=>j(s.target.value)}),t.jsx(c,{onClick:async()=>{if(!x.trim())return;f(!0);const{data:s,error:e}=await m.from("skill_tests").insert({skill_slug:"paraphrasing-challenge",title:x.trim()}).select("id").maybeSingle();f(!1),e?k({title:"Failed to create test",description:e.message,variant:"destructive"}):(j(""),await v(),(null==s?void 0:s.id)&&N(`/admin/skills/paraphrasing-challenge/${s.id}`))},disabled:u,children:u?"Adding...":"Add"})]})]}),t.jsx(h,{}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[g.map(s=>t.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(r,{className:"pb-2",children:t.jsx(l,{className:"text-sm",children:s.title})}),t.jsx(n,{children:t.jsx(c,{size:"sm",variant:"secondary",onClick:()=>N(`/admin/skills/paraphrasing-challenge/${s.id}`),children:"Manage Test"})})]},s.id)),0===g.length&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{g as default};
