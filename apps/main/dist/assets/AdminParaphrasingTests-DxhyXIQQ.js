import{r as s,u as e,h as a,j as t,A as i,C as l,b as r,c as n,a as d,I as c,B as o,_ as h}from"./index-Buq3gaXX.js";import{s as g}from"./supabase-rhP1-bIs.js";const m=()=>{const[m,p]=s.useState([]),[x,u]=s.useState(""),[j,f]=s.useState(!1),N=e(),{toast:k}=a(),v=async()=>{const{data:s,error:e}=await g.from("skill_tests").select("id,title,created_at").eq("skill_slug","paraphrasing-challenge").order("created_at",{ascending:!1});e||p(s??[])};s.useEffect(()=>{document.title="Paraphrasing Challenge Tests | Admin",v()},[]);return t.jsx(i,{title:"Paraphrasing Challenge Tests",showBackButton:!0,children:t.jsxs("section",{className:"space-y-4",children:[t.jsxs(l,{children:[t.jsx(r,{children:t.jsx(n,{className:"text-base",children:"+ Add New Paraphrasing Test"})}),t.jsxs(d,{className:"flex gap-2 items-center",children:[t.jsx(c,{placeholder:"Test title (e.g., Set 1)",value:x,onChange:s=>u(s.target.value)}),t.jsx(o,{onClick:async()=>{if(!x.trim())return;f(!0);const{data:s,error:e}=await g.from("skill_tests").insert({skill_slug:"paraphrasing-challenge",title:x.trim()}).select("id").maybeSingle();f(!1),e?k({title:"Failed to create test",description:e.message,variant:"destructive"}):(u(""),await v(),(null==s?void 0:s.id)&&N(`/admin/skills/paraphrasing-challenge/${s.id}`))},disabled:j,children:j?"Adding...":"Add"})]})]}),t.jsx(h,{}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[m.map(s=>t.jsxs(l,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(r,{className:"pb-2",children:t.jsx(n,{className:"text-sm",children:s.title})}),t.jsx(d,{children:t.jsx(o,{size:"sm",variant:"secondary",onClick:()=>N(`/admin/skills/paraphrasing-challenge/${s.id}`),children:"Manage Test"})})]},s.id)),0===m.length&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{m as default};
