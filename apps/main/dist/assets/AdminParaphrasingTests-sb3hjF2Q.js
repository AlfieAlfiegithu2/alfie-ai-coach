import{r as s,u as e,j as a}from"./vendor-react-JN_hy__U.js";import{A as t}from"./AdminLayout-D3lPYw5Y.js";import{d as r,C as i,b as l,c as n,a as d,I as o,B as c,s as m}from"./index-DXpPY1B7.js";import{S as h}from"./separator-Bv0Pudil.js";import"./vendor-react-dom-Cb-iy8Oc.js";import"./vendor-animation-ClPlB6zo.js";import"./vendor-ui-DG51EGkO.js";import"./vendor-i18n-DlHrixAm.js";import"./vendor-utils-D5HPTFR9.js";import"./vendor-supabase-D7XYLCUu.js";import"./vendor-charts-BpOKEG9Z.js";import"./vendor-date-DT7Rq6D9.js";const p=()=>{const[p,g]=s.useState([]),[j,u]=s.useState(""),[x,v]=s.useState(!1),f=e(),{toast:N}=r(),b=async()=>{const{data:s,error:e}=await m.from("skill_tests").select("id,title,created_at").eq("skill_slug","paraphrasing-challenge").order("created_at",{ascending:!1});e||g(s??[])};s.useEffect(()=>{document.title="Paraphrasing Challenge Tests | Admin",b()},[]);return a.jsx(t,{title:"Paraphrasing Challenge Tests",showBackButton:!0,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs(i,{children:[a.jsx(l,{children:a.jsx(n,{className:"text-base",children:"+ Add New Paraphrasing Test"})}),a.jsxs(d,{className:"flex gap-2 items-center",children:[a.jsx(o,{placeholder:"Test title (e.g., Set 1)",value:j,onChange:s=>u(s.target.value)}),a.jsx(c,{onClick:async()=>{if(!j.trim())return;v(!0);const{data:s,error:e}=await m.from("skill_tests").insert({skill_slug:"paraphrasing-challenge",title:j.trim()}).select("id").maybeSingle();v(!1),e?N({title:"Failed to create test",description:e.message,variant:"destructive"}):(u(""),await b(),(null==s?void 0:s.id)&&f(`/admin/skills/paraphrasing-challenge/${s.id}`))},disabled:x,children:x?"Adding...":"Add"})]})]}),a.jsx(h,{}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[p.map(s=>a.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(l,{className:"pb-2",children:a.jsx(n,{className:"text-sm",children:s.title})}),a.jsx(d,{children:a.jsx(c,{size:"sm",variant:"secondary",onClick:()=>f(`/admin/skills/paraphrasing-challenge/${s.id}`),children:"Manage Test"})})]},s.id)),0===p.length&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{p as default};
