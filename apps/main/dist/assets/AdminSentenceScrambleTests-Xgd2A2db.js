import{r as e,u as s,j as t}from"./vendor-react-JN_hy__U.js";import{A as a}from"./AdminLayout-D3lPYw5Y.js";import{d as r,C as i,b as n,c,a as l,I as d,B as o,s as m}from"./index-DXpPY1B7.js";import{S as u}from"./separator-Bv0Pudil.js";import"./vendor-react-dom-Cb-iy8Oc.js";import"./vendor-animation-ClPlB6zo.js";import"./vendor-ui-DG51EGkO.js";import"./vendor-i18n-DlHrixAm.js";import"./vendor-utils-D5HPTFR9.js";import"./vendor-supabase-D7XYLCUu.js";import"./vendor-charts-BpOKEG9Z.js";import"./vendor-date-DT7Rq6D9.js";const j=()=>{const[j,h]=e.useState([]),[p,x]=e.useState(""),[g,b]=e.useState(!1),v=s(),{toast:f}=r(),S=async()=>{const{data:e,error:s}=await m.from("skill_tests").select("id,title,created_at").eq("skill_slug","sentence-structure-scramble").order("created_at",{ascending:!1});s||h(e??[])};e.useEffect(()=>{document.title="Sentence Scramble Tests | Admin";const e=document.querySelector('link[rel="canonical"]')||document.createElement("link");e.setAttribute("rel","canonical"),e.setAttribute("href",window.location.origin+"/admin/skills/sentence-scramble"),document.head.contains(e)||document.head.appendChild(e),S()},[]);return t.jsx(a,{title:"Sentence Structure Scramble Tests",showBackButton:!0,children:t.jsxs("section",{className:"space-y-4",children:[t.jsxs(i,{children:[t.jsx(n,{children:t.jsx(c,{className:"text-base",children:"+ Add New Sentence Scramble Test"})}),t.jsxs(l,{className:"flex gap-2 items-center",children:[t.jsx(d,{placeholder:"Test title (e.g., Set 1)",value:p,onChange:e=>x(e.target.value)}),t.jsx(o,{onClick:async()=>{if(!p.trim())return;b(!0);const{data:e,error:s}=await m.from("skill_tests").insert({skill_slug:"sentence-structure-scramble",title:p.trim()}).select("id").maybeSingle();b(!1),s?f({title:"Failed to create test",description:s.message,variant:"destructive"}):(x(""),await S(),(null==e?void 0:e.id)&&v(`/admin/skills/sentence-scramble/${e.id}`))},disabled:g,children:g?"Adding...":"Add"})]})]}),t.jsx(u,{}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[j.map(e=>t.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(n,{className:"pb-2",children:t.jsx(c,{className:"text-sm",children:e.title})}),t.jsx(l,{children:t.jsx(o,{size:"sm",variant:"secondary",onClick:()=>v(`/admin/skills/sentence-scramble/${e.id}`),children:"Manage Test"})})]},e.id)),0===j.length&&t.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{j as default};
