import{c as e,u as s,G as t,w as a,r as n,J as r,j as i,l as o,C as c,b as l,d,a as m,K as u,L as x,y as h,U as p,F as g,R as b,T as j,B as v,N as _,E as f,P as w,O as q,Q as N,k as E,I as y,S as D,p as A,q as B,s as C,t as k,e as F}from"./index-Bd6W0gvA.js";import{T as S,a as P,b as I,c as T}from"./tabs-vfHv0dw3.js";import{A as O}from"./AdminLayout-DVmSfiUm.js";import{I as Q}from"./ImageQuestionExtractor-fabj62pO.js";import{s as M}from"./supabase-DWL4C3fA.js";import{I as z}from"./image-BurkNk_b.js";import{W as $}from"./wand-sparkles-DNmdDyc1.js";import{S as R}from"./save-BqMRXDEk.js";import{C as U}from"./circle-alert-DNpyjQU-.js";import{T as V}from"./trash-2-B6Wddu2K.js";import"./upload-SRn1yFfB.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=e("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),J=e("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),K=[{number:5,name:"Incomplete Sentences",questions:40,description:"Choose the word or phrase that best completes the sentence",icon:H,hasPassages:!1},{number:6,name:"Text Completion",questions:12,description:"Complete passages with missing words or sentences",icon:g,hasPassages:!0},{number:7,name:"Reading Comprehension",questions:48,description:"Read passages and answer questions about them",icon:J,hasPassages:!0}],L=()=>{const e=s(),{testId:H}=t(),{admin:J,loading:L}=a(),[G,W]=n.useState(""),[Z,X]=n.useState("5"),[Y,ee]=n.useState("paste"),[se,te]=n.useState(!1),[ae,ne]=n.useState(!1),[re,ie]=n.useState(!1),[oe,ce]=n.useState(!1),[le,de]=n.useState(0),[me,ue]=n.useState(""),[xe,he]=n.useState(""),[pe,ge]=n.useState({5:{questions:[],passages:[],saved:!1},6:{questions:[],passages:[],saved:!1},7:{questions:[],passages:[],saved:!1}});n.useEffect(()=>{L||J||e("/admin/login")},[J,L,e]),n.useEffect(()=>{H&&be()},[H]);const be=async()=>{if(H)try{const{data:e,error:s}=await M.from("tests").select("*").eq("id",H).single();if(s)throw s;W(e.test_name);const{data:t,error:a}=await M.from("questions").select("*").eq("test_id",H).order("question_number_in_part",{ascending:!0});if(a)throw a;const{data:n,error:r}=await M.from("toeic_passages").select("*").eq("test_id",H).order("question_range_start",{ascending:!0}),i={5:{questions:[],passages:[],saved:!1},6:{questions:[],passages:[],saved:!1},7:{questions:[],passages:[],saved:!1}};null==t||t.forEach(e=>{const s=e.toeic_part||5;i[s]&&i[s].questions.push({id:e.id,question_number:e.question_number_in_part,question_text:e.question_text,question_type:e.question_type,options:e.choices?JSON.parse(e.choices):null,correct_answer:e.correct_answer,explanation:e.explanation||"",ai_explanation:e.ai_explanation,toeic_part:s,passage_context:e.passage_context,related_passage_id:e.related_passage_id})}),null==n||n.forEach(e=>{const s=e.part_number;i[s]&&i[s].passages.push({id:e.id,title:e.passage_title,content:e.passage_content,type:e.passage_type,imageUrl:e.passage_image_url,questionStart:e.question_range_start,questionEnd:e.question_range_end})}),ge(i)}catch(e){console.error("Error loading test data:",e),r.error("Failed to load test data")}},je=e=>{switch(e){case 5:return"incomplete_sentence";case 6:return"text_completion";case 7:return"reading_comprehension";default:return"multiple_choice"}},ve=(e,s,t,a)=>{ge(n=>{const r=[...n[e].questions];return r[s]={...r[s],[t]:a},{...n,[e]:{...n[e],questions:r,saved:!1}}})},_e=e=>{var s;const t=(null==(s=K.find(s=>s.number===e))?void 0:s.questions)||0,a=pe[e].questions.length;return{current:a,expected:t,percentage:t>0?a/t*100:0}};return L?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsx(O,{title:"TOEIC Reading Test",showBackButton:!0,backPath:"/admin/toeic",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-[#5D4E37]",children:G||"TOEIC Reading Test"}),i.jsx("p",{className:"text-[#8B6914]",children:"Manage Parts 5-7 (100 questions total)"})]}),i.jsx(o,{variant:"outline",className:"bg-[#FEF9E7] text-[#8B6914] border-[#E8D5A3]",children:"TOEIC Reading"})]}),i.jsxs(c,{className:"bg-[#FEF9E7] border-[#E8D5A3]",children:[i.jsx(l,{children:i.jsx(d,{className:"text-lg text-[#5D4E37]",children:"Question Progress"})}),i.jsx(m,{children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:K.map(e=>{const s=_e(e.number),t=e.icon;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"flex items-center gap-1 text-[#5D4E37]",children:[i.jsx(t,{className:"w-4 h-4 text-[#8B6914]"}),"Part ",e.number]}),i.jsxs("span",{className:"text-[#8B6914]",children:[s.current,"/",s.expected]})]}),i.jsx(u,{value:s.percentage,className:"h-2 bg-[#E8D5A3]"})]},e.number)})})})]}),i.jsxs(S,{value:Z,onValueChange:X,children:[i.jsx(P,{className:"grid grid-cols-3 w-full bg-[#E8D5A3]/20 border border-[#E8D5A3]",children:K.map(e=>{const s=_e(e.number),t=e.icon;return i.jsxs(I,{value:String(e.number),className:"flex items-center gap-2 data-[state=active]:bg-[#FEF9E7] data-[state=active]:text-[#5D4E37] text-[#8B6914]",children:[i.jsx(t,{className:"w-4 h-4"}),i.jsxs("span",{className:"hidden sm:inline",children:["Part ",e.number]}),i.jsxs("span",{className:"sm:hidden",children:["P",e.number]}),s.current===s.expected&&s.expected>0&&i.jsx(x,{className:"w-3 h-3 text-green-500"})]},e.number)})}),K.map(e=>{var s,t,a,n;return i.jsxs(T,{value:String(e.number),className:"space-y-6",children:[i.jsxs(c,{className:"bg-[#FEF9E7] border-[#E8D5A3]",children:[i.jsxs(l,{children:[i.jsxs(d,{className:"flex items-center gap-2 text-[#5D4E37]",children:[i.jsx(e.icon,{className:"w-5 h-5 text-[#8B6914]"}),"Part ",e.number,": ",e.name]}),i.jsx(h,{className:"text-[#8B6914]",children:e.description})]}),i.jsx(m,{children:i.jsxs("p",{className:"text-sm text-[#8B6914]",children:["Expected questions: ",i.jsx("span",{className:"font-semibold text-[#5D4E37]",children:e.questions})]})})]}),i.jsxs(c,{className:"bg-[#FEF9E7] border-[#E8D5A3]",children:[i.jsx(l,{children:i.jsx(d,{className:"text-lg text-[#5D4E37]",children:"Add Questions"})}),i.jsx(m,{children:i.jsxs(S,{value:Y,onValueChange:e=>ee(e),children:[i.jsxs(P,{className:"grid grid-cols-3 w-full mb-4 bg-[#E8D5A3]/20 border border-[#E8D5A3]",children:[i.jsxs(I,{value:"paste",className:"flex items-center gap-2 data-[state=active]:bg-[#FEF9E7] data-[state=active]:text-[#5D4E37] text-[#8B6914]",children:[i.jsx(p,{className:"w-4 h-4"}),"Paste Text"]}),i.jsxs(I,{value:"image",className:"flex items-center gap-2 data-[state=active]:bg-[#FEF9E7] data-[state=active]:text-[#5D4E37] text-[#8B6914]",children:[i.jsx(z,{className:"w-4 h-4"}),"Upload Image"]}),i.jsxs(I,{value:"answers",className:"flex items-center gap-2 data-[state=active]:bg-[#FEF9E7] data-[state=active]:text-[#5D4E37] text-[#8B6914]",children:[i.jsx(g,{className:"w-4 h-4"}),"Answer Key"]})]}),i.jsxs(T,{value:"paste",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Paste TOEIC Questions"}),i.jsx("p",{className:"text-sm text-[#8B6914] mb-2",children:"Paste questions in standard TOEIC format. Questions will be parsed automatically."}),i.jsx(j,{value:me,onChange:e=>ue(e.target.value),placeholder:"101. ------- you want to receive additional\ninformation regarding the services we\noffer, please log onto our website.\n(A) If\n(B) For\n(C) Despite\n(D) Whether\n\n102. Sandy Duncan was handpicked by the\ngeneral manager because of ------- experience.\n(A) her\n(B) hers\n(C) herself\n(D) she",rows:12,className:"font-mono text-sm bg-white border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914] text-[#5D4E37] placeholder:text-[#A68B5B]"})]}),i.jsxs(v,{onClick:()=>(e=>{if(me.trim()){ne(!0);try{const s=me.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim();console.log("Normalized text:",s.substring(0,200)+"...");const t=[],a=s.split(/(?=\b\d{1,3}\.\s)/);console.log("Found blocks:",a.length);for(const n of a){const s=n.trim();if(!s)continue;const a=s.match(/^(\d{1,3})\.\s*/);if(!a)continue;const r=parseInt(a[1]),i=s.slice(a[0].length),o=i.indexOf("(A)"),c=i.indexOf("(B)"),l=i.indexOf("(C)"),d=i.indexOf("(D)");if(-1===o||-1===c||-1===l||-1===d){console.log(`Question ${r}: Missing options, skipping`);continue}const m=i.slice(0,o).trim(),u=i.slice(o+3,c).trim(),x=i.slice(c+3,l).trim(),h=i.slice(l+3,d).trim(),p=i.slice(d+3).trim();console.log(`Q${r}:`,{qText:m.substring(0,50),optA:u,optB:x,optC:h,optD:p}),m&&t.push({question_number:r,question_text:m,question_type:je(e),options:[u,x,h,p],correct_answer:"",explanation:"",toeic_part:e})}t.length>0?(ge(s=>({...s,[e]:{...s[e],questions:[...s[e].questions,...t],saved:!1}})),ue(""),r.success(`${t.length} questions parsed successfully!`)):r.error("No questions could be parsed. Check format: 101. question text (A) opt (B) opt (C) opt (D) opt")}catch(s){console.error("Error parsing questions:",s),r.error("Failed to parse questions")}finally{ne(!1)}}else r.error("Please enter question text to parse")})(e.number),disabled:ae||!me.trim(),className:"bg-[#A68B5B] hover:bg-[#8B6914] text-white",children:[i.jsx($,{className:"w-4 h-4 mr-2"}),ae?"Parsing...":"Parse Questions"]})]}),i.jsx(T,{value:"image",children:i.jsx(Q,{testId:H||"",testType:"TOEIC",onQuestionsExtracted:s=>((e,s)=>{const t=s.map((s,t)=>({question_number:s.question_number||pe[e].questions.length+t+1,question_text:s.question_text,question_type:s.question_type||je(e),options:s.options,correct_answer:s.correct_answer||"",explanation:s.explanation||"",toeic_part:e,passage_context:s.passage_context}));ge(s=>({...s,[e]:{...s[e],questions:[...s[e].questions,...t],saved:!1}})),r.success(`${s.length} questions extracted for Part ${e}`)})(e.number,s)})}),i.jsxs(T,{value:"answers",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Paste Answer Key"}),i.jsx("p",{className:"text-sm text-[#8B6914] mb-2",children:'Paste answer key in format: "101. (A) 102. (B) 103. (C)..."'}),i.jsx(j,{value:xe,onChange:e=>he(e.target.value),placeholder:"101. (A) 102. (A) 103. (C) 104. (C) 105. (D) 106. (A) 107. (D) 108. (B) 109. (A) 110. (B)\n111. (A) 112. (C) 113. (A) 114. (D) 115. (B) 116. (A) 117. (A) 118. (C) 119. (A) 120. (C)",rows:6,className:"font-mono text-sm bg-white/50 border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914]"})]}),i.jsxs(v,{onClick:()=>(async e=>{if(xe.trim()){ne(!0);try{const{data:s,error:t}=await M.functions.invoke("toeic-parse-answers",{body:{text:xe,part:e}});if(t)throw t;if(s.answers){const t=pe[e].questions.map(e=>{const t=s.answers.find(s=>s.question_number===e.question_number);return t?{...e,correct_answer:t.answer}:e});ge(s=>({...s,[e]:{...s[e],questions:t,saved:!1}})),he(""),r.success(`${Object.keys(s.answers).length} answers matched!`)}}catch(s){console.error("Error parsing answers:",s),r.error("Failed to parse answer key")}finally{ne(!1)}}else r.error("Please enter answer key text")})(e.number),disabled:ae||!xe.trim()||0===pe[e.number].questions.length,className:"bg-[#A68B5B] hover:bg-[#8B6914] text-white",children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),ae?"Matching...":"Match Answers"]}),0===pe[e.number].questions.length&&i.jsx("p",{className:"text-sm text-amber-600",children:"Add questions first before matching answer keys."})]})]})})]}),i.jsxs(c,{className:"bg-[#FEF9E7] border-[#E8D5A3]",children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(d,{className:"text-[#5D4E37]",children:["Questions (",pe[e.number].questions.length,")"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(v,{variant:"outline",size:"sm",onClick:()=>{ce(!oe),de(0)},className:`border-[#E8D5A3] ${oe?"bg-[#A68B5B] text-white":"text-[#5D4E37]"} hover:bg-[#E8D5A3]/20`,disabled:0===pe[e.number].questions.length,children:[oe?i.jsx(_,{className:"w-4 h-4 mr-1"}):i.jsx(f,{className:"w-4 h-4 mr-1"}),oe?"Exit Preview":"Student Preview"]}),i.jsxs(v,{variant:"outline",size:"sm",onClick:()=>(e=>{const s={question_number:pe[e].questions.length+1,question_text:"",question_type:je(e),options:["","","",""],correct_answer:"",explanation:"",toeic_part:e};ge(t=>({...t,[e]:{...t[e],questions:[...t[e].questions,s],saved:!1}}))})(e.number),className:"border-[#E8D5A3] text-[#5D4E37] hover:bg-[#E8D5A3]/20",children:[i.jsx(w,{className:"w-4 h-4 mr-1"}),"Add Question"]}),i.jsxs(v,{variant:"outline",size:"sm",onClick:()=>(async e=>{ie(!0);try{const s=pe[e].questions,{data:t,error:a}=await M.functions.invoke("toeic-generate-explanations",{body:{questions:s.map(s=>({question_number:s.question_number,question_text:s.question_text,options:s.options,correct_answer:s.correct_answer,passage_context:s.passage_context,part:e})),testType:"TOEIC Reading",part:e}});if(a)throw a;if(t.explanations){const a=s.map((e,s)=>({...e,ai_explanation:t.explanations[s]||e.ai_explanation}));ge(s=>({...s,[e]:{...s[e],questions:a,saved:!1}})),r.success("AI explanations generated!")}}catch(s){console.error("Error generating explanations:",s),r.error("Failed to generate AI explanations")}finally{ie(!1)}})(e.number),disabled:re||0===pe[e.number].questions.length,className:"border-[#E8D5A3] text-[#5D4E37] hover:bg-[#E8D5A3]/20",children:[i.jsx(q,{className:"w-4 h-4 mr-1"}),re?"Generating...":"AI Explanations"]}),i.jsxs(v,{size:"sm",onClick:()=>(async e=>{if(H){te(!0);try{const s=pe[e].questions,t=pe[e].passages;if(await M.from("questions").delete().eq("test_id",H).eq("toeic_part",e),await M.from("toeic_passages").delete().eq("test_id",H).eq("part_number",e),t.length>0){const s=t.map(s=>({test_id:H,part_number:e,passage_type:s.type,passage_title:s.title,passage_content:s.content,passage_image_url:s.imageUrl,question_range_start:s.questionStart,question_range_end:s.questionEnd}));await M.from("toeic_passages").insert(s)}const a=s.map((s,t)=>({test_id:H,question_number_in_part:s.question_number||t+1,part_number:e,toeic_part:e,question_text:s.question_text,question_type:s.question_type,choices:s.options?JSON.stringify(s.options):null,correct_answer:s.correct_answer,explanation:s.explanation,ai_explanation:s.ai_explanation,passage_context:s.passage_context,related_passage_id:s.related_passage_id})),{error:n}=await M.from("questions").insert(a);if(n)throw n;ge(s=>({...s,[e]:{...s[e],saved:!0}})),r.success(`Part ${e} saved successfully!`)}catch(s){console.error("Error saving questions:",s),r.error("Failed to save questions")}finally{te(!1)}}})(e.number),disabled:se||pe[e.number].saved||0===pe[e.number].questions.length,className:"bg-[#A68B5B] hover:bg-[#8B6914] text-white",children:[i.jsx(R,{className:"w-4 h-4 mr-1"}),se?"Saving...":pe[e.number].saved?"Saved":"Save Questions"]})]})]})}),i.jsx(m,{children:pe[e.number].questions.length>0?oe?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 border border-[#E8D5A3]/60",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(o,{className:"bg-[#A68B5B] text-white text-sm px-3 py-1 hover:bg-[#8B6914]",children:["Question ",(null==(s=pe[e.number].questions[le])?void 0:s.question_number)||le+1]}),i.jsxs("span",{className:"text-sm text-[#8B6914]",children:[le+1," of ",pe[e.number].questions.length]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v,{variant:"outline",size:"icon",onClick:()=>de(Math.max(0,le-1)),disabled:0===le,className:"border-[#E8D5A3] text-[#5D4E37] hover:bg-[#FEF9E7] hover:text-[#8B6914] w-8 h-8",children:i.jsx(N,{className:"w-4 h-4"})}),i.jsx(v,{variant:"outline",size:"icon",onClick:()=>de(Math.min(pe[e.number].questions.length-1,le+1)),disabled:le>=pe[e.number].questions.length-1,className:"border-[#E8D5A3] text-[#5D4E37] hover:bg-[#FEF9E7] hover:text-[#8B6914] w-8 h-8",children:i.jsx(E,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"mb-8",children:i.jsx("p",{className:"text-xl text-[#5D4E37] leading-relaxed font-serif",children:(null==(t=pe[e.number].questions[le])?void 0:t.question_text)||"No question text"})}),i.jsx("div",{className:"space-y-3",children:((null==(a=pe[e.number].questions[le])?void 0:a.options)||[]).map((s,t)=>{var a;const n=String.fromCharCode(65+t),r=(null==(a=pe[e.number].questions[le])?void 0:a.correct_answer)===n;return i.jsxs("div",{className:"group flex items-center gap-4 p-4 rounded-xl border transition-all cursor-pointer hover:shadow-md\n                                  "+(r?"bg-green-50 border-green-200 shadow-sm":"bg-white border-[#E8D5A3] hover:border-[#A68B5B] hover:bg-[#FEF9E7]/30"),children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm transition-colors\n                                  "+(r?"bg-green-500 text-white":"bg-[#FEF9E7] text-[#8B6914] group-hover:bg-[#A68B5B] group-hover:text-white border border-[#E8D5A3] group-hover:border-[#A68B5B]"),children:n}),i.jsx("span",{className:"text-base flex-1 "+(r?"text-green-700 font-medium":"text-[#5D4E37]"),children:s}),r&&i.jsx(x,{className:"w-5 h-5 text-green-500 ml-auto"})]},t)})}),!(null==(n=pe[e.number].questions[le])?void 0:n.correct_answer)&&i.jsxs("div",{className:"flex items-center justify-center mt-6 text-amber-600 bg-amber-50 p-2 rounded-lg border border-amber-100",children:[i.jsx(U,{className:"w-4 h-4 mr-2"}),i.jsx("span",{className:"text-sm",children:"No correct answer set for this question"})]})]}):i.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:pe[e.number].questions.map((s,t)=>i.jsx(c,{className:"border border-[#E8D5A3] bg-white/50",children:i.jsxs(m,{className:"pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs(o,{variant:"outline",className:"border-[#E8D5A3] text-[#5D4E37]",children:["Q",s.question_number]}),i.jsxs("div",{className:"flex items-center gap-2",children:[s.correct_answer&&i.jsxs(o,{variant:"secondary",className:"bg-green-100 text-green-700",children:["Answer: ",s.correct_answer]}),i.jsx(v,{variant:"ghost",size:"sm",onClick:()=>{de(t),ce(!0)},children:i.jsx(f,{className:"w-4 h-4 text-[#8B6914]"})}),i.jsx(v,{variant:"ghost",size:"sm",onClick:()=>((e,s)=>{ge(t=>{const a=t[e].questions.filter((e,t)=>t!==s);return{...t,[e]:{...t[e],questions:a,saved:!1}}})})(e.number,t),children:i.jsx(V,{className:"w-4 h-4 text-red-500"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[e.hasPassages&&s.passage_context&&i.jsxs("div",{className:"bg-[#FEF9E7] border border-[#E8D5A3] p-3 rounded-lg mb-3",children:[i.jsx(b,{className:"text-xs text-[#8B6914]",children:"Passage Context"}),i.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap text-[#5D4E37]",children:s.passage_context})]}),i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Question Text"}),i.jsx(j,{value:s.question_text,onChange:s=>ve(e.number,t,"question_text",s.target.value),rows:2,className:"bg-white border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914] text-[#5D4E37]"})]}),s.options&&i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Options"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:s.options.map((a,n)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-medium w-6 text-[#5D4E37]",children:["(",String.fromCharCode(65+n),")"]}),i.jsx(y,{value:a,onChange:a=>{const r=[...s.options];r[n]=a.target.value,ve(e.number,t,"options",r)},placeholder:`Option ${String.fromCharCode(65+n)}`,className:"bg-white border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914] text-[#5D4E37]"})]},n))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Correct Answer"}),i.jsxs(D,{value:s.correct_answer,onValueChange:s=>ve(e.number,t,"correct_answer",s),children:[i.jsx(A,{className:"bg-white border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914] text-[#5D4E37]",children:i.jsx(B,{placeholder:"Select answer"})}),i.jsxs(C,{children:[i.jsx(k,{value:"A",children:"A"}),i.jsx(k,{value:"B",children:"B"}),i.jsx(k,{value:"C",children:"C"}),i.jsx(k,{value:"D",children:"D"})]})]})]}),i.jsxs("div",{children:[i.jsx(b,{className:"text-[#5D4E37]",children:"Question Type"}),i.jsx(y,{value:s.question_type,onChange:s=>ve(e.number,t,"question_type",s.target.value),className:"bg-white border-[#E8D5A3] focus:border-[#8B6914] focus:ring-[#8B6914] text-[#5D4E37]"})]})]}),s.ai_explanation&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[i.jsx(b,{className:"text-blue-700 dark:text-blue-400",children:"AI Explanation"}),i.jsx("p",{className:"text-sm mt-1",children:s.ai_explanation})]})]})]})},t))}):i.jsxs("div",{className:"text-center py-12 text-[#8B6914]",children:[i.jsx(F,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No questions added yet."}),i.jsx("p",{className:"text-sm",children:"Use the methods above to add questions."})]})})]})]},e.number)})]})]})})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{L as default};
