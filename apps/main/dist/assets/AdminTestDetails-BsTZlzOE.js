import{u as e,c as s,r as a,j as t}from"./vendor-react-rLLBBC7n.js";import{n as i,e as n,C as r,b as l,c as o,o as c,a as d,B as m}from"./index-KxDfHqNJ.js";import{T as x,a as p,b as j,c as g}from"./tabs-BVz_B7Kx.js";import{A as u}from"./AdminLayout-DGXoIbe0.js";import{C as h}from"./CSVImport-C647pYQq.js";import{ap as f,aV as v,aZ as N,ao as b,aJ as w,ax as y,aO as C}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";import"./alert-B-lacJTx.js";const k=()=>{const k=e(),{testType:M,testId:T}=s(),{admin:$,loading:I}=i();if(a.useEffect(()=>{I||$||k("/admin/login")},[$,I,k]),I)return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading Test Details..."})]})});if(!$)return null;const S=[{id:"reading",title:"Reading",icon:b,description:"Manage reading passages and comprehension questions",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"listening",title:"Listening",icon:w,description:"Manage audio files and listening comprehension questions",color:"text-green-600",bgColor:"bg-green-50"},{id:"writing",title:"Writing",icon:y,description:"Manage writing prompts and assessment criteria",color:"text-purple-600",bgColor:"bg-purple-50"},{id:"speaking",title:"Speaking",icon:C,description:"Manage speaking topics and assessment criteria",color:"text-orange-600",bgColor:"bg-orange-50"}];return t.jsx(u,{title:`${null==M?void 0:M.toUpperCase()} Test Management`,showBackButton:!0,backPath:`/admin/${M}`,children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["Multi-skill ",null==M?void 0:M.toUpperCase()," Test Management"]}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage content for all four skills: Listening, Reading, Writing, Speaking"})]}),t.jsx(n,{variant:"secondary",className:"text-sm",children:"Multi-skill Test"})]}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:S.map(e=>{const s=e.icon;return t.jsxs(r,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer border-border/40",children:[t.jsx(l,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${e.bgColor}`,children:t.jsx(s,{className:`h-6 w-6 ${e.color}`})}),t.jsxs("div",{children:[t.jsx(o,{className:"text-xl",children:e.title}),t.jsx(c,{children:e.description})]})]})}),t.jsx(d,{children:t.jsxs(x,{defaultValue:"content",className:"w-full",children:[t.jsxs(p,{className:"grid w-full grid-cols-2",children:[t.jsx(j,{value:"content",children:"Manage Content"}),t.jsx(j,{value:"upload",children:"Upload CSV"})]}),t.jsx(g,{value:"content",className:"mt-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Current Content:"}),t.jsx(n,{variant:"outline",children:"0 items"})]}),t.jsxs(m,{variant:"outline",className:"w-full",onClick:()=>k(`/admin/${M}/test/${T}/${e.id}`),children:[t.jsx(f,{className:"w-4 h-4 mr-2"}),"Manage ",e.title]})]})}),t.jsx(g,{value:"upload",className:"mt-4",children:t.jsx("div",{className:"space-y-3",children:t.jsx(h,{onImport:s=>(async(e,s,a=1)=>{try{console.log("Importing questions for section:",s,"part:",a)}catch(t){console.error("Error importing questions:",t)}})(0,e.id),type:e.id,module:M,testId:T,testType:M})})})]})})]},e.id)})}),t.jsxs(r,{className:"mt-8",children:[t.jsxs(l,{children:[t.jsxs(o,{className:"flex items-center space-x-2",children:[t.jsx(v,{className:"h-5 w-5"}),t.jsx("span",{children:"Bulk Operations"})]}),t.jsx(c,{children:"Perform bulk operations on test content"})]}),t.jsx(d,{children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs(m,{variant:"outline",className:"w-full",children:[t.jsx(v,{className:"w-4 h-4 mr-2"}),"Import All Sections"]}),t.jsxs(m,{variant:"outline",className:"w-full",children:[t.jsx(f,{className:"w-4 h-4 mr-2"}),"Export Test Data"]}),t.jsxs(m,{variant:"outline",className:"w-full",children:[t.jsx(N,{className:"w-4 h-4 mr-2"}),"Preview Test"]})]})})]})]})})};export{k as default};
