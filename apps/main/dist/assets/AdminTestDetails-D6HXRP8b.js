import{u as s,G as e,w as a,r as t,j as i,l as n,C as r,b as l,d as o,y as c,a as d,B as m,F as x,e as p,H as g,f as u,M as j}from"./index-snkdXCMk.js";import{T as h,a as f,b as N,c as b}from"./tabs-FzWc5v0u.js";import{A as v}from"./AdminLayout-C2OvIyk7.js";import{C as w}from"./CSVImport-CD1PrMGa.js";import{U as y}from"./upload-DDilge0U.js";import{U as C}from"./users-x9ufXjuA.js";import"./supabase-DWL4C3fA.js";import"./alert-BgY7OBsy.js";import"./circle-alert-CwdSeo3t.js";import"./circle-help-Hmo1gHJH.js";import"./download-DwGNXiEi.js";const k=()=>{const k=s(),{testType:M,testId:T}=e(),{admin:$,loading:I}=a();if(t.useEffect(()=>{I||$||k("/admin/login")},[$,I,k]),I)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading Test Details..."})]})});if(!$)return null;const S=[{id:"reading",title:"Reading",icon:p,description:"Manage reading passages and comprehension questions",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"listening",title:"Listening",icon:g,description:"Manage audio files and listening comprehension questions",color:"text-green-600",bgColor:"bg-green-50"},{id:"writing",title:"Writing",icon:u,description:"Manage writing prompts and assessment criteria",color:"text-purple-600",bgColor:"bg-purple-50"},{id:"speaking",title:"Speaking",icon:j,description:"Manage speaking topics and assessment criteria",color:"text-orange-600",bgColor:"bg-orange-50"}];return i.jsx(v,{title:`${null==M?void 0:M.toUpperCase()} Test Management`,showBackButton:!0,backPath:`/admin/${M}`,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["Multi-skill ",null==M?void 0:M.toUpperCase()," Test Management"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage content for all four skills: Listening, Reading, Writing, Speaking"})]}),i.jsx(n,{variant:"secondary",className:"text-sm",children:"Multi-skill Test"})]}),i.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:S.map(s=>{const e=s.icon;return i.jsxs(r,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer border-border/40",children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:i.jsx(e,{className:`h-6 w-6 ${s.color}`})}),i.jsxs("div",{children:[i.jsx(o,{className:"text-xl",children:s.title}),i.jsx(c,{children:s.description})]})]})}),i.jsx(d,{children:i.jsxs(h,{defaultValue:"content",className:"w-full",children:[i.jsxs(f,{className:"grid w-full grid-cols-2",children:[i.jsx(N,{value:"content",children:"Manage Content"}),i.jsx(N,{value:"upload",children:"Upload CSV"})]}),i.jsx(b,{value:"content",className:"mt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Current Content:"}),i.jsx(n,{variant:"outline",children:"0 items"})]}),i.jsxs(m,{variant:"outline",className:"w-full",onClick:()=>k(`/admin/${M}/test/${T}/${s.id}`),children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),"Manage ",s.title]})]})}),i.jsx(b,{value:"upload",className:"mt-4",children:i.jsx("div",{className:"space-y-3",children:i.jsx(w,{onImport:e=>(async(s,e,a=1)=>{try{console.log("Importing questions for section:",e,"part:",a)}catch(t){console.error("Error importing questions:",t)}})(0,s.id),type:s.id,module:M,testId:T,testType:M})})})]})})]},s.id)})}),i.jsxs(r,{className:"mt-8",children:[i.jsxs(l,{children:[i.jsxs(o,{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"h-5 w-5"}),i.jsx("span",{children:"Bulk Operations"})]}),i.jsx(c,{children:"Perform bulk operations on test content"})]}),i.jsx(d,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(y,{className:"w-4 h-4 mr-2"}),"Import All Sections"]}),i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(x,{className:"w-4 h-4 mr-2"}),"Export Test Data"]}),i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(C,{className:"w-4 h-4 mr-2"}),"Preview Test"]})]})})]})]})})};export{k as default};
