import{u as s,ak as e,v as a,r as t,j as i,k as r,C as n,b as l,c as o,x as c,a as d,B as m,d as x,H as p,e as u,M as g}from"./index-BIX8qkRl.js";import{T as j,a as h,b as f,c as N}from"./tabs-Cavc9Wbm.js";import{A as b}from"./AdminLayout-C0x8Y5g2.js";import{C as v}from"./CSVImport-CNmbyvc1.js";import{F as w}from"./file-text-Ce-sbh9B.js";import{U as y}from"./upload-GkiBFZHg.js";import{U as k}from"./users-A9cqg1oo.js";import"./supabase-Bqkrifq5.js";import"./alert-DgHXTk5x.js";import"./circle-alert-BNwhlbyW.js";import"./circle-help-CbwSBayn.js";import"./download-CdY8vt8s.js";const C=()=>{const C=s(),{testType:M,testId:T}=e(),{admin:$,loading:I}=a();if(t.useEffect(()=>{I||$||C("/admin/login")},[$,I,C]),I)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading Test Details..."})]})});if(!$)return null;const L=[{id:"reading",title:"Reading",icon:x,description:"Manage reading passages and comprehension questions",color:"text-blue-600",bgColor:"bg-blue-50"},{id:"listening",title:"Listening",icon:p,description:"Manage audio files and listening comprehension questions",color:"text-green-600",bgColor:"bg-green-50"},{id:"writing",title:"Writing",icon:u,description:"Manage writing prompts and assessment criteria",color:"text-purple-600",bgColor:"bg-purple-50"},{id:"speaking",title:"Speaking",icon:g,description:"Manage speaking topics and assessment criteria",color:"text-orange-600",bgColor:"bg-orange-50"}];return i.jsx(b,{title:`${null==M?void 0:M.toUpperCase()} Test Management`,showBackButton:!0,backPath:`/admin/${M}`,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["Multi-skill ",null==M?void 0:M.toUpperCase()," Test Management"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage content for all four skills: Listening, Reading, Writing, Speaking"})]}),i.jsx(r,{variant:"secondary",className:"text-sm",children:"Multi-skill Test"})]}),i.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:L.map(s=>{const e=s.icon;return i.jsxs(n,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer border-border/40",children:[i.jsx(l,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:i.jsx(e,{className:`h-6 w-6 ${s.color}`})}),i.jsxs("div",{children:[i.jsx(o,{className:"text-xl",children:s.title}),i.jsx(c,{children:s.description})]})]})}),i.jsx(d,{children:i.jsxs(j,{defaultValue:"content",className:"w-full",children:[i.jsxs(h,{className:"grid w-full grid-cols-2",children:[i.jsx(f,{value:"content",children:"Manage Content"}),i.jsx(f,{value:"upload",children:"Upload CSV"})]}),i.jsx(N,{value:"content",className:"mt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Current Content:"}),i.jsx(r,{variant:"outline",children:"0 items"})]}),i.jsxs(m,{variant:"outline",className:"w-full",onClick:()=>C(`/admin/${M}/test/${T}/${s.id}`),children:[i.jsx(w,{className:"w-4 h-4 mr-2"}),"Manage ",s.title]})]})}),i.jsx(N,{value:"upload",className:"mt-4",children:i.jsx("div",{className:"space-y-3",children:i.jsx(v,{onImport:e=>(async(s,e,a=1)=>{try{console.log("Importing questions for section:",e,"part:",a)}catch(t){console.error("Error importing questions:",t)}})(0,s.id),type:s.id,module:M,testId:T,testType:M})})})]})})]},s.id)})}),i.jsxs(n,{className:"mt-8",children:[i.jsxs(l,{children:[i.jsxs(o,{className:"flex items-center space-x-2",children:[i.jsx(y,{className:"h-5 w-5"}),i.jsx("span",{children:"Bulk Operations"})]}),i.jsx(c,{children:"Perform bulk operations on test content"})]}),i.jsx(d,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(y,{className:"w-4 h-4 mr-2"}),"Import All Sections"]}),i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(w,{className:"w-4 h-4 mr-2"}),"Export Test Data"]}),i.jsxs(m,{variant:"outline",className:"w-full",children:[i.jsx(k,{className:"w-4 h-4 mr-2"}),"Preview Test"]})]})})]})]})})};export{C as default};
