import{r as e,u as s,j as a}from"./vendor-react-rLLBBC7n.js";import{A as t}from"./AdminLayout-DGXoIbe0.js";import{d as r,C as i,b as l,c as o,a as n,B as d,I as c,s as m}from"./index-KxDfHqNJ.js";import{S as u}from"./separator-DByOkGf1.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-ui-BGi_EvHx.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const h=()=>{const[h,j]=e.useState([]),[x,p]=e.useState(""),[v,b]=e.useState(!1),g=s(),{toast:y}=r(),f=async()=>{const{data:e,error:s}=await m.from("skill_tests").select("id,title,created_at").eq("skill_slug","vocabulary-builder").order("created_at",{ascending:!1});s||j(e??[])};e.useEffect(()=>{document.title="Vocabulary Tests | Admin";const e=document.querySelector('link[rel="canonical"]')||document.createElement("link");e.setAttribute("rel","canonical"),e.setAttribute("href",window.location.origin+"/admin/skills/vocabulary/tests"),document.head.contains(e)||document.head.appendChild(e),f()},[]);return a.jsx(t,{title:"Vocabulary Builder Tests",showBackButton:!0,children:a.jsxs("section",{className:"space-y-4",children:[a.jsxs(i,{children:[a.jsx(l,{children:a.jsx(o,{className:"text-base",children:"Download Sample CSV (Vocabulary Book)"})}),a.jsx(n,{children:a.jsx(d,{variant:"secondary",asChild:!0,children:a.jsx("a",{href:"/examples/vocabulary-sample.csv",download:!0,children:"Download Example CSV"})})})]}),a.jsxs(i,{children:[a.jsx(l,{children:a.jsx(o,{className:"text-base",children:"+ Add New Vocabulary Test"})}),a.jsxs(n,{className:"flex gap-2 items-center",children:[a.jsx(c,{placeholder:"Test title (e.g., Set 1)",value:x,onChange:e=>p(e.target.value)}),a.jsx(d,{onClick:async()=>{if(!x.trim())return;b(!0);const{data:e,error:s}=await m.from("skill_tests").insert({skill_slug:"vocabulary-builder",title:x.trim()}).select("id").maybeSingle();b(!1),s?y({title:"Failed to create test",description:s.message,variant:"destructive"}):(p(""),await f(),(null==e?void 0:e.id)&&g(`/admin/skills/vocabulary/tests/${e.id}`))},disabled:v,children:v?"Adding...":"Add"})]})]}),a.jsx(u,{}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[h.map(e=>a.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(l,{className:"pb-2",children:a.jsx(o,{className:"text-sm",children:e.title})}),a.jsx(n,{children:a.jsx(d,{size:"sm",variant:"secondary",onClick:()=>g(`/admin/skills/vocabulary/tests/${e.id}`),children:"Manage Test"})})]},e.id)),0===h.length&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No tests yet. Create your first one above."})]})]})})};export{h as default};
