<<<<<<<< HEAD:apps/main/dist/assets/BlogDetail-DNgiW-dS.js
import{u as e,G as a,au as r,r as s,ac as t,j as l,C as o,a as n,B as i,ar as c,bn as d,ah as x,i as m}from"./index-Bb28XEtp.js";import{s as u}from"./supabase-DWL4C3fA.js";import{u as g,a as p,b,c as h,g as f}from"./blogUtils-BbSYMiFT.js";const y=()=>{const y=e(),j=a();r();const v=g(),[N,k]=s.useState(null),[w,_]=s.useState(!0),[C,P]=s.useState(!1),S=t.note.colors;s.useEffect(()=>{j.slug&&B()},[j.slug,v]);const B=async()=>{try{_(!0);const{data:e,error:a}=await u.from("blog_posts").select("id, slug, featured_image_url, published_at, created_at, updated_at").eq("slug",j.slug).eq("status","published").single();if(a||!e)return console.error("Error loading blog post:",a),void _(!1);const{data:r,error:s}=await u.from("blog_post_translations").select("title, content, excerpt, meta_description, meta_keywords, language_code").eq("blog_post_id",e.id);if(s)return console.error("Error loading translations:",s),void _(!1);const t=(null==r?void 0:r.find(e=>e.language_code===v))||(null==r?void 0:r.find(e=>"en"===e.language_code))||(null==r?void 0:r[0]),l=(null==r?void 0:r.map(e=>e.language_code))||[];k({...e,translation:t||null,availableLanguages:l})}catch(e){console.error("Error loading blog post:",e)}finally{_(!1)}},L=(null==N?void 0:N.availableLanguages)?p(j.slug||"",N.availableLanguages):[];return w?l.jsx("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:S.textPrimary}}),l.jsx("p",{className:"mt-4 font-serif",style:{color:S.textSecondary},children:"Loading article..."})]})})}):N&&N.translation?l.jsxs("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:[l.jsx(d,{title:N.translation.title,description:N.translation.meta_description||N.translation.excerpt||"",keywords:N.translation.meta_keywords||"",image:N.featured_image_url||void 0,type:"article",lang:v,url:b(N.slug,v),published:N.published_at||void 0,modified:N.updated_at||void 0,hreflang:L,schemaType:"article"}),l.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:[l.jsxs(i,{variant:"ghost",onClick:()=>y(`/${v}/blog`),className:"mb-6 hover:bg-transparent pl-0",style:{color:S.textPrimary},children:[l.jsx(c,{className:"mr-2 w-4 h-4"}),"Back to Blog"]}),N.availableLanguages.length>1&&l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsxs(i,{variant:"outline",onClick:()=>P(!C),className:"flex items-center gap-2 font-serif",style:{backgroundColor:"transparent",borderColor:S.border,color:S.textPrimary},children:[l.jsx(x,{className:"w-4 h-4"}),l.jsxs("span",{children:[h(v)," ",f(v)]}),l.jsx(m,{className:"w-4 h-4 transition-transform "+(C?"rotate-180":"")})]}),C&&l.jsx("div",{className:"absolute top-full left-0 mt-2 rounded-lg shadow-lg z-50 min-w-[200px] max-h-64 overflow-y-auto",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:N.availableLanguages.map(e=>l.jsxs("button",{onClick:()=>(e=>{j.slug&&(y(`/${e}/blog/${j.slug}`),P(!1))})(e),className:"w-full text-left px-4 py-2 transition-colors flex items-center gap-2 font-serif",style:{backgroundColor:e===v?S.border:"transparent",color:S.textPrimary},children:[l.jsx("span",{children:h(e)}),l.jsx("span",{children:f(e)})]},e))})]})}),l.jsxs("article",{className:"rounded-lg shadow-sm overflow-hidden",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:[N.featured_image_url&&l.jsx("div",{className:"aspect-video w-full overflow-hidden",style:{backgroundColor:S.border},children:l.jsx("img",{src:N.featured_image_url,alt:N.translation.title,className:"w-full h-full object-cover"})}),l.jsxs(n,{className:"p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm mb-6 font-serif",style:{color:S.textSecondary},children:[l.jsx("span",{children:(e=>{if(!e)return"";return new Date(e).toLocaleDateString(v,{year:"numeric",month:"long",day:"numeric"})})(N.published_at||N.created_at)}),l.jsx("span",{children:"·"}),l.jsxs("span",{children:[Math.ceil(N.translation.content.split(" ").length/200)," min read"]})]}),l.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6 font-serif",style:{color:S.textPrimary},children:N.translation.title}),N.translation.excerpt&&l.jsx("p",{className:"text-xl mb-8 leading-relaxed font-serif italic",style:{color:S.textSecondary},children:N.translation.excerpt}),l.jsx("div",{className:"prose prose-lg max-w-none prose-stone font-serif",style:{"--tw-prose-body":S.textPrimary,"--tw-prose-headings":S.textPrimary,"--tw-prose-links":S.buttonPrimary,"--tw-prose-bold":S.textPrimary,"--tw-prose-bullets":S.textSecondary,"--tw-prose-quotes":S.textSecondary,color:S.textPrimary},dangerouslySetInnerHTML:{__html:N.translation.content}})]})]}),l.jsx(o,{className:"mt-8 shadow-sm",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:l.jsxs(n,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-3 font-serif",style:{color:S.textPrimary},children:"Ready to Improve Your English?"}),l.jsx("p",{className:"mb-6 font-serif text-lg",style:{color:S.textSecondary},children:"Start practicing with our AI-powered learning platform"}),l.jsx(i,{onClick:()=>y("/ielts-portal"),size:"lg",className:"font-serif px-8",style:{backgroundColor:S.textPrimary,color:S.cardBackground},children:"Start Learning Now"})]})})]})]}):l.jsx("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:l.jsx(o,{style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:l.jsxs(n,{className:"p-12 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 font-serif",style:{color:S.textPrimary},children:"Article Not Found"}),l.jsx("p",{className:"mb-6 font-serif",style:{color:S.textSecondary},children:"The article you're looking for doesn't exist or isn't available in your selected language."}),l.jsxs(i,{onClick:()=>y(`/${v}/blog`),style:{backgroundColor:S.textPrimary,color:S.cardBackground},children:[l.jsx(c,{className:"mr-2 w-4 h-4"}),"Back to Blog"]})]})})})})};export{y as default};
========
import{u as e,G as a,au as r,r as s,ac as t,j as l,C as o,a as n,B as i,ar as c,bn as d,ah as x,i as m}from"./index-L9iD6gfi.js";import{s as u}from"./supabase-DWL4C3fA.js";import{u as g,a as p,b,c as h,g as f}from"./blogUtils-Q0P5mOUu.js";const y=()=>{const y=e(),j=a();r();const v=g(),[N,k]=s.useState(null),[w,_]=s.useState(!0),[C,P]=s.useState(!1),S=t.note.colors;s.useEffect(()=>{j.slug&&B()},[j.slug,v]);const B=async()=>{try{_(!0);const{data:e,error:a}=await u.from("blog_posts").select("id, slug, featured_image_url, published_at, created_at, updated_at").eq("slug",j.slug).eq("status","published").single();if(a||!e)return console.error("Error loading blog post:",a),void _(!1);const{data:r,error:s}=await u.from("blog_post_translations").select("title, content, excerpt, meta_description, meta_keywords, language_code").eq("blog_post_id",e.id);if(s)return console.error("Error loading translations:",s),void _(!1);const t=(null==r?void 0:r.find(e=>e.language_code===v))||(null==r?void 0:r.find(e=>"en"===e.language_code))||(null==r?void 0:r[0]),l=(null==r?void 0:r.map(e=>e.language_code))||[];k({...e,translation:t||null,availableLanguages:l})}catch(e){console.error("Error loading blog post:",e)}finally{_(!1)}},L=(null==N?void 0:N.availableLanguages)?p(j.slug||"",N.availableLanguages):[];return w?l.jsx("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:S.textPrimary}}),l.jsx("p",{className:"mt-4 font-serif",style:{color:S.textSecondary},children:"Loading article..."})]})})}):N&&N.translation?l.jsxs("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:[l.jsx(d,{title:N.translation.title,description:N.translation.meta_description||N.translation.excerpt||"",keywords:N.translation.meta_keywords||"",image:N.featured_image_url||void 0,type:"article",lang:v,url:b(N.slug,v),published:N.published_at||void 0,modified:N.updated_at||void 0,hreflang:L,schemaType:"article"}),l.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:[l.jsxs(i,{variant:"ghost",onClick:()=>y(`/${v}/blog`),className:"mb-6 hover:bg-transparent pl-0",style:{color:S.textPrimary},children:[l.jsx(c,{className:"mr-2 w-4 h-4"}),"Back to Blog"]}),N.availableLanguages.length>1&&l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative inline-block",children:[l.jsxs(i,{variant:"outline",onClick:()=>P(!C),className:"flex items-center gap-2 font-serif",style:{backgroundColor:"transparent",borderColor:S.border,color:S.textPrimary},children:[l.jsx(x,{className:"w-4 h-4"}),l.jsxs("span",{children:[h(v)," ",f(v)]}),l.jsx(m,{className:"w-4 h-4 transition-transform "+(C?"rotate-180":"")})]}),C&&l.jsx("div",{className:"absolute top-full left-0 mt-2 rounded-lg shadow-lg z-50 min-w-[200px] max-h-64 overflow-y-auto",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:N.availableLanguages.map(e=>l.jsxs("button",{onClick:()=>(e=>{j.slug&&(y(`/${e}/blog/${j.slug}`),P(!1))})(e),className:"w-full text-left px-4 py-2 transition-colors flex items-center gap-2 font-serif",style:{backgroundColor:e===v?S.border:"transparent",color:S.textPrimary},children:[l.jsx("span",{children:h(e)}),l.jsx("span",{children:f(e)})]},e))})]})}),l.jsxs("article",{className:"rounded-lg shadow-sm overflow-hidden",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:[N.featured_image_url&&l.jsx("div",{className:"aspect-video w-full overflow-hidden",style:{backgroundColor:S.border},children:l.jsx("img",{src:N.featured_image_url,alt:N.translation.title,className:"w-full h-full object-cover"})}),l.jsxs(n,{className:"p-8",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm mb-6 font-serif",style:{color:S.textSecondary},children:[l.jsx("span",{children:(e=>{if(!e)return"";return new Date(e).toLocaleDateString(v,{year:"numeric",month:"long",day:"numeric"})})(N.published_at||N.created_at)}),l.jsx("span",{children:"·"}),l.jsxs("span",{children:[Math.ceil(N.translation.content.split(" ").length/200)," min read"]})]}),l.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6 font-serif",style:{color:S.textPrimary},children:N.translation.title}),N.translation.excerpt&&l.jsx("p",{className:"text-xl mb-8 leading-relaxed font-serif italic",style:{color:S.textSecondary},children:N.translation.excerpt}),l.jsx("div",{className:"prose prose-lg max-w-none prose-stone font-serif",style:{"--tw-prose-body":S.textPrimary,"--tw-prose-headings":S.textPrimary,"--tw-prose-links":S.buttonPrimary,"--tw-prose-bold":S.textPrimary,"--tw-prose-bullets":S.textSecondary,"--tw-prose-quotes":S.textSecondary,color:S.textPrimary},dangerouslySetInnerHTML:{__html:N.translation.content}})]})]}),l.jsx(o,{className:"mt-8 shadow-sm",style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:l.jsxs(n,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold mb-3 font-serif",style:{color:S.textPrimary},children:"Ready to Improve Your English?"}),l.jsx("p",{className:"mb-6 font-serif text-lg",style:{color:S.textSecondary},children:"Start practicing with our AI-powered learning platform"}),l.jsx(i,{onClick:()=>y("/ielts-portal"),size:"lg",className:"font-serif px-8",style:{backgroundColor:S.textPrimary,color:S.cardBackground},children:"Start Learning Now"})]})})]})]}):l.jsx("div",{className:"min-h-screen font-serif",style:{backgroundColor:S.background},children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:l.jsx(o,{style:{backgroundColor:S.cardBackground,border:`1px solid ${S.border}`},children:l.jsxs(n,{className:"p-12 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4 font-serif",style:{color:S.textPrimary},children:"Article Not Found"}),l.jsx("p",{className:"mb-6 font-serif",style:{color:S.textSecondary},children:"The article you're looking for doesn't exist or isn't available in your selected language."}),l.jsxs(i,{onClick:()=>y(`/${v}/blog`),style:{backgroundColor:S.textPrimary,color:S.cardBackground},children:[l.jsx(c,{className:"mr-2 w-4 h-4"}),"Back to Blog"]})]})})})})};export{y as default};
>>>>>>>> 8b2dc1e78d12cf9688192c70f705f794453f22b3:apps/main/dist/assets/BlogDetail-DKxlB_-X.js
