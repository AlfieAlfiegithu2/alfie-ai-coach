import{u as e,G as s,an as r,r as t,bj as a,a1 as o,j as l,bh as n,C as i,a as d,ag as c,B as g,c0 as x,a9 as m,c9 as u}from"./index-BcRn0esQ.js";import{s as p}from"./supabase-DWL4C3fA.js";import{u as h,g as b}from"./blogUtils-DMeIFU2p.js";import{H as y}from"./Header-DjUzp7lg.js";import{S as f}from"./search-CjhjHx0x.js";import"./dropdown-menu-DrmFSAB3.js";import"./shield-zyDra3Nq.js";const v=()=>{const v=e();s(),r();const j=h(),[N,_]=t.useState([]),[w,C]=t.useState(!0),[S,k]=t.useState(""),{theme:E}=a(),L=o(),$="note"===E;t.useEffect(()=>{B()},[j]);const B=async()=>{try{C(!0);const{data:e,error:s}=await p.from("blog_posts").select("\n          id,\n          slug,\n          featured_image_url,\n          published_at,\n          created_at,\n          blog_post_translations!inner (\n            title,\n            excerpt,\n            language_code\n          )\n        ").eq("status","published").eq("blog_post_translations.language_code",j).order("published_at",{ascending:!1}).limit(20);if(s)return void console.error("Error loading blog posts:",s);const r=(e||[]).map(e=>({id:e.id,slug:e.slug,featured_image_url:e.featured_image_url,published_at:e.published_at,created_at:e.created_at,translation:Array.isArray(e.blog_post_translations)?e.blog_post_translations[0]:e.blog_post_translations}));_(r)}catch(e){console.error("Error loading blog posts:",e)}finally{C(!1)}},P=N.filter(e=>{var s,r,t;if(!S)return!0;const a=S.toLowerCase();return(null==(s=e.translation)?void 0:s.title.toLowerCase().includes(a))||(null==(t=null==(r=e.translation)?void 0:r.excerpt)?void 0:t.toLowerCase().includes(a))}),I=e=>{if(!e)return"";return new Date(e).toLocaleDateString(j,{year:"numeric",month:"long",day:"numeric"})};return l.jsxs("div",{className:"min-h-screen "+($?"font-serif":"bg-gradient-to-br from-slate-50 to-blue-50/30"),style:{backgroundColor:$?L.theme.colors.background:void 0},children:[l.jsx(y,{}),l.jsx(n,{title:"Blog - English Learning Tips & IELTS Preparation",description:"Discover expert tips, strategies, and insights for IELTS preparation and English learning. AI-powered guidance to help you achieve your language goals.",keywords:"IELTS blog, English learning tips, IELTS preparation, language learning blog",type:"website",lang:j,url:`https://englishaidol.com/${j}/blog`}),l.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-7xl",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 "+($?"font-serif":"text-gray-900"),style:$?{color:L.textPrimary}:void 0,children:"English Learning Blog"}),l.jsx("p",{className:"text-xl max-w-2xl mx-auto "+($?"":"text-gray-600"),style:$?{color:L.textSecondary}:void 0,children:"Expert tips, strategies, and insights for IELTS preparation and English mastery"})]}),l.jsx("div",{className:"mb-8 max-w-2xl mx-auto",children:l.jsxs("div",{className:"relative",children:[!$&&l.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search articles...",value:S,onChange:e=>k(e.target.value),className:`w-full ${$?"pl-4":"pl-10"} pr-4 py-3 rounded-lg focus:ring-2 focus:outline-none`,style:$?{backgroundColor:L.cardBackground,borderColor:L.border,border:`1px solid ${L.border}`,color:L.textPrimary}:{border:"1px solid #d1d5db"}})]})}),w&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:$?L.textPrimary:"#2563eb"}}),l.jsx("p",{className:"mt-4",style:{color:L.textSecondary},children:"Loading articles..."})]}),!w&&0===P.length&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-lg "+($?"":"text-gray-600"),style:$?{color:L.textSecondary}:void 0,children:S?"No articles found matching your search.":"No blog posts available yet. Check back soon!"})}),!w&&P.length>0&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:P.map(e=>{var s,r,t;return l.jsxs(i,{className:"hover:shadow-lg transition-shadow cursor-pointer overflow-hidden group",onClick:()=>v(`/${j}/blog/${e.slug}`),style:$?{backgroundColor:L.cardBackground,borderColor:L.border}:void 0,children:[e.featured_image_url&&l.jsx("div",{className:"aspect-video w-full overflow-hidden",style:{backgroundColor:$?L.border:"#e5e7eb"},children:l.jsx("img",{src:e.featured_image_url,alt:(null==(s=e.translation)?void 0:s.title)||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),l.jsxs(d,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm mb-3 "+($?"":"text-gray-500"),style:$?{color:L.textSecondary}:void 0,children:[!$&&l.jsx(c,{className:"w-4 h-4"}),l.jsx("span",{children:I(e.published_at||e.created_at)})]}),l.jsx("h2",{className:"text-xl font-bold mb-2 line-clamp-2 transition-colors "+($?"font-serif":"group-hover:text-blue-600 text-gray-900"),style:$?{color:L.textPrimary}:void 0,children:(null==(r=e.translation)?void 0:r.title)||"Untitled"}),(null==(t=e.translation)?void 0:t.excerpt)&&l.jsx("p",{className:"mb-4 line-clamp-3 "+($?"":"text-gray-600"),style:$?{color:L.textSecondary}:void 0,children:e.translation.excerpt}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(g,{variant:"ghost",size:"sm",className:$?"":"group-hover:text-blue-600",style:$?{color:L.textPrimary}:void 0,onClick:s=>{s.stopPropagation(),v(`/${j}/blog/${e.slug}`)},children:["Read More",!$&&l.jsx(x,{className:"ml-2 w-4 h-4"})]})})]})]},e.id)})}),l.jsx("div",{className:"mt-12 text-center",children:l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg shadow-sm",style:$?{backgroundColor:L.cardBackground,borderColor:L.border,border:`1px solid ${L.border}`}:{backgroundColor:"white",border:"1px solid #e5e7eb"},children:[!$&&l.jsx(m,{className:"w-4 h-4 text-gray-500"}),l.jsxs("span",{className:"text-sm "+($?"":"text-gray-600"),style:$?{color:L.textSecondary}:void 0,children:["Viewing articles in ",b(j)]}),l.jsx(u,{})]})})]})]})};export{v as default};
