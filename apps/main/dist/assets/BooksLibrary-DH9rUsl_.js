import{u as e,r as s,j as r}from"./vendor-react-rLLBBC7n.js";import{q as o,s as t,y as a,U as l,I as c,C as i,aa as n,b as d,a as m,B as x,c as h,o as u}from"./index-BDl0jLJK.js";import{aR as p,aW as y,ao as j,U as v,aA as g,cu as b}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const f=()=>{const f=e(),N=o(),w="note"===N.theme.name,[k,C]=s.useState([]),[S,L]=s.useState([]),[_,E]=s.useState(!0),[P,B]=s.useState("");s.useEffect(()=>{F()},[]),s.useEffect(()=>{if(P.trim()){const e=k.filter(e=>{var s;return e.title.toLowerCase().includes(P.toLowerCase())||e.author.toLowerCase().includes(P.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(P.toLowerCase()))});L(e)}else L(k)},[P,k]);const F=async()=>{E(!0);try{const{data:e,error:s}=await t.from("books").select("id, title, author, company, description, cover_url, total_chapters, published_at").eq("status","published").order("published_at",{ascending:!1});if(s)throw s;C(e||[]),L(e||[])}catch(e){console.error("Error loading books:",e)}finally{E(!1)}};return r.jsxs(a,{children:[r.jsx(l,{title:"Books Library | English AIdol",description:"Browse our collection of educational books to sharpen your English skills"}),r.jsxs("div",{className:"container max-w-7xl mx-auto px-4 py-8 space-y-8 "+(w?"font-serif":""),style:w?{backgroundColor:N.theme.colors.background}:void 0,children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[!w&&r.jsx(p,{className:"w-10 h-10 text-primary"}),r.jsx("h1",{className:"text-4xl font-bold "+(w?"":"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"),style:{color:N.textPrimary},children:"Books Library"})]}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",style:{color:w?N.textSecondary:void 0},children:"Explore our collection of educational books designed to help you master English and excel in your IELTS preparation."})]}),r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"relative",children:[!w&&r.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(c,{placeholder:"Search books by title, author, or topic...",value:P,onChange:e=>B(e.target.value),className:w?"":"pl-10",style:w?{borderColor:N.border,color:N.textPrimary}:void 0})]})}),r.jsx("div",{className:"flex items-center justify-center gap-6 text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-2",style:{color:w?N.textSecondary:void 0},children:[!w&&r.jsx(j,{className:"w-4 h-4"}),r.jsxs("span",{children:[k.length," books available"]})]})}),_?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(8)].map((e,s)=>r.jsxs(i,{className:"overflow-hidden",style:w?{backgroundColor:N.theme.colors.cardBackground,borderColor:N.border}:void 0,children:[r.jsx(n,{className:"h-48 w-full"}),r.jsxs(d,{children:[r.jsx(n,{className:"h-6 w-3/4"}),r.jsx(n,{className:"h-4 w-1/2 mt-2"})]}),r.jsxs(m,{children:[r.jsx(n,{className:"h-4 w-full"}),r.jsx(n,{className:"h-4 w-2/3 mt-2"})]})]},s))}):0===S.length?r.jsxs("div",{className:"text-center py-16",children:[!w&&r.jsx(j,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground/50"}),P?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:N.textPrimary},children:"No books found"}),r.jsxs("p",{className:"text-muted-foreground mb-4",style:{color:w?N.textSecondary:void 0},children:['No books match your search "',P,'"']}),r.jsx(x,{variant:"outline",onClick:()=>B(""),style:w?{borderColor:N.border,color:N.textPrimary}:void 0,children:"Clear search"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:N.textPrimary},children:"No books available yet"}),r.jsx("p",{className:"text-muted-foreground",style:{color:w?N.textSecondary:void 0},children:"Check back soon for new educational content!"})]})]}):r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:S.map(e=>{return r.jsxs(i,{className:`overflow-hidden cursor-pointer transition-all duration-300 ${w?"":"hover:shadow-xl hover:-translate-y-1"} group`,onClick:()=>f(`/books/${e.id}`),style:w?{backgroundColor:N.theme.colors.cardBackground,borderColor:N.border}:void 0,children:[r.jsxs("div",{className:"h-48 flex items-center justify-center overflow-hidden "+(w?"":"bg-gradient-to-br from-primary/20 via-secondary/10 to-primary/5"),style:w?{backgroundColor:"transparent",borderBottom:`1px solid ${N.border}`}:void 0,children:[e.cover_url?r.jsx("img",{src:e.cover_url,alt:e.title,className:`w-full h-full object-cover ${w?"":"group-hover:scale-105"} transition-transform duration-300`}):!w&&r.jsx(j,{className:"w-16 h-16 text-primary/30"}),w&&!e.cover_url&&r.jsx("span",{className:"text-xl font-serif italic",style:{color:N.textSecondary},children:e.title})]}),r.jsxs(d,{className:"pb-2",children:[r.jsx(h,{className:`text-lg line-clamp-2 ${w?"":"group-hover:text-primary"} transition-colors`,style:{color:N.textPrimary},children:e.title}),r.jsxs(u,{className:"flex items-center gap-1",style:{color:w?N.textSecondary:void 0},children:[!w&&r.jsx(v,{className:"w-3 h-3"}),e.author]})]}),r.jsxs(m,{className:"space-y-3",children:[e.description&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",style:{color:w?N.textSecondary:void 0},children:e.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",style:{color:w?N.textSecondary:void 0},children:[!w&&r.jsx(j,{className:"w-3 h-3"}),r.jsxs("span",{children:[e.total_chapters," chapters"]})]}),e.published_at&&r.jsxs("div",{className:"flex items-center gap-1",style:{color:w?N.textSecondary:void 0},children:[!w&&r.jsx(g,{className:"w-3 h-3"}),r.jsx("span",{children:(s=e.published_at,new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]})]}),e.company&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",style:{color:w?N.textSecondary:void 0},children:[!w&&r.jsx(b,{className:"w-3 h-3"}),r.jsx("span",{children:e.company})]}),r.jsx(x,{className:"w-full mt-2",size:"sm",style:w?{backgroundColor:N.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:"Start Reading"})]})]},e.id);var s})}),r.jsx("div",{className:"text-center pt-8",children:r.jsx(x,{variant:"outline",onClick:()=>f("/ielts"),style:w?{borderColor:N.border,color:N.textPrimary}:void 0,children:"‚Üê Back to IELTS Portal"})})]})]})};export{f as default};
