import{y as e,aU as n,at as t,r,au as o,j as a,ax as i,az as s,aD as l,aw as d,ba as u,b9 as c,bs as f,ar as m,B as p,br as h,ah as v,V as x}from"./index-D2Tta13M.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=e("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var g=["PageUp","PageDown"],S=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},y="Slider",[j,D,E]=n(y),[R,N]=t(y,[E]),[M,_]=R(y),P=r.forwardRef((e,n)=>{const{name:t,min:s=0,max:l=100,step:d=1,orientation:u="horizontal",disabled:c=!1,minStepsBetweenThumbs:m=0,defaultValue:p=[s],value:h,onValueChange:v=()=>{},onValueCommit:x=()=>{},inverted:w=!1,form:b,...y}=e,D=r.useRef(new Set),E=r.useRef(0),R="horizontal"===u?A:K,[N=[],_]=o({prop:h,defaultProp:p,onChange:e=>{var n;null==(n=[...D.current][E.current])||n.focus(),v(e)}}),P=r.useRef(N);function k(e,n,{commit:t}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(d),o=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-s)/d)*d+s,r),a=f(o,[s,l]);_((e=[])=>{const r=function(e=[],n,t){const r=[...e];return r[t]=n,r.sort((e,n)=>e-n)}(e,a,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(r,m*d)){E.current=r.indexOf(a);const n=String(r)!==String(e);return n&&t&&x(r),n?r:e}return e})}return a.jsx(M,{scope:e.__scopeSlider,name:t,disabled:c,min:s,max:l,valueIndexToChangeRef:E,thumbs:D.current,values:N,orientation:u,form:b,children:a.jsx(j.Provider,{scope:e.__scopeSlider,children:a.jsx(j.Slot,{scope:e.__scopeSlider,children:a.jsx(R,{"aria-disabled":c,"data-disabled":c?"":void 0,...y,ref:n,onPointerDown:i(y.onPointerDown,()=>{c||(P.current=N)}),min:s,max:l,inverted:w,onSlideStart:c?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),r=Math.min(...t);return t.indexOf(r)}(N,e);k(e,n)},onSlideMove:c?void 0:function(e){k(e,E.current)},onSlideEnd:c?void 0:function(){const e=P.current[E.current];N[E.current]!==e&&x(N)},onHomeKeyDown:()=>!c&&k(s,0,{commit:!0}),onEndKeyDown:()=>!c&&k(l,N.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!c){const t=g.includes(e.key)||e.shiftKey&&S.includes(e.key)?10:1,r=E.current;k(N[r]+d*t*n,r,{commit:!0})}}})})})})});P.displayName=y;var[k,C]=R(y,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A=r.forwardRef((e,n)=>{const{min:t,max:o,dir:i,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=e,[h,v]=r.useState(null),x=s(n,e=>v(e)),w=r.useRef(),g=l(i),S="ltr"===g,y=S&&!d||!S&&d;function j(e){const n=w.current||h.getBoundingClientRect(),r=X([0,n.width],y?[t,o]:[o,t]);return w.current=n,r(e-n.left)}return a.jsx(k,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(z,{dir:g,"data-orientation":"horizontal",...p,ref:x,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=j(e.clientX);null==u||u(n)},onSlideMove:e=>{const n=j(e.clientX);null==c||c(n)},onSlideEnd:()=>{w.current=void 0,null==f||f()},onStepKeyDown:e=>{const n=b[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:n?-1:1})}})})}),K=r.forwardRef((e,n)=>{const{min:t,max:o,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=r.useRef(null),p=s(n,m),h=r.useRef(),v=!i;function x(e){const n=h.current||m.current.getBoundingClientRect(),r=X([0,n.height],v?[o,t]:[t,o]);return h.current=n,r(e-n.top)}return a.jsx(k,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:a.jsx(z,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=x(e.clientY);null==l||l(n)},onSlideMove:e=>{const n=x(e.clientY);null==d||d(n)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const n=b[v?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:n?-1:1})}})})}),z=r.forwardRef((e,n)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:c,...f}=e,m=_(y,t);return a.jsx(d.span,{...f,ref:n,onKeyDown:i(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):g.concat(S).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:i(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(n)?n.focus():r(e)}),onPointerMove:i(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&o(e)}),onPointerUp:i(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),s(e))})})}),L="SliderTrack",I=r.forwardRef((e,n)=>{const{__scopeSlider:t,...r}=e,o=_(L,t);return a.jsx(d.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:n})});I.displayName=L;var H="SliderRange",T=r.forwardRef((e,n)=>{const{__scopeSlider:t,...o}=e,i=_(H,t),l=C(H,t),u=r.useRef(null),c=s(n,u),f=i.values.length,m=i.values.map(e=>O(e,i.min,i.max)),p=f>1?Math.min(...m):0,h=100-Math.max(...m);return a.jsx(d.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:c,style:{...e.style,[l.startEdge]:p+"%",[l.endEdge]:h+"%"}})});T.displayName=H;var V="SliderThumb",$=r.forwardRef((e,n)=>{const t=D(e.__scopeSlider),[o,i]=r.useState(null),l=s(n,e=>i(e)),d=r.useMemo(()=>o?t().findIndex(e=>e.ref.current===o):-1,[t,o]);return a.jsx(U,{...e,ref:l,index:d})}),U=r.forwardRef((e,n)=>{const{__scopeSlider:t,index:o,name:l,...c}=e,f=_(V,t),m=C(V,t),[p,h]=r.useState(null),v=s(n,e=>h(e)),x=!p||(f.form||!!p.closest("form")),w=u(p),g=f.values[o],S=void 0===g?0:O(g,f.min,f.max),b=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(o,f.values.length),y=null==w?void 0:w[m.size],D=y?function(e,n,t){const r=e/2,o=X([0,50],[0,r]);return(r-o(n)*t)*t}(y,S,m.direction):0;return r.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${S}% + ${D}px)`},children:[a.jsx(j.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(d.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":f.min,"aria-valuenow":g,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:v,style:void 0===g?{display:"none"}:e.style,onFocus:i(e.onFocus,()=>{f.valueIndexToChangeRef.current=o})})}),x&&a.jsx(B,{name:l??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:g},o)]})});$.displayName=V;var B=e=>{const{value:n,...t}=e,o=r.useRef(null),i=c(n);return r.useEffect(()=>{const e=o.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==n&&r){const t=new Event("input",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}},[i,n]),a.jsx("input",{style:{display:"none"},...t,ref:o,defaultValue:n})};function O(e,n,t){return f(100/(t-n)*(e-n),[0,100])}function X(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(t-e[0])}}var Y=P,F=I,q=T,G=$;const J=r.forwardRef(({className:e,...n},t)=>a.jsxs(Y,{ref:t,className:m("relative flex w-full touch-none select-none items-center",e),...n,children:[a.jsx(F,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(q,{className:"absolute h-full bg-primary"})}),a.jsx(G,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));J.displayName=Y.displayName;const Q=({src:e,className:n})=>{const t=r.useRef(null),[o,i]=r.useState(!1),[s,l]=r.useState(0),[d,u]=r.useState(0);r.useState(1);const[c,f]=r.useState(!1);r.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>{u(e.duration),l(e.currentTime)},r=()=>l(e.currentTime),o=()=>i(!1);return e.addEventListener("loadeddata",n),e.addEventListener("timeupdate",r),e.addEventListener("ended",o),()=>{e.removeEventListener("loadeddata",n),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",o)}},[]);const m=e=>{if(isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`};return a.jsxs("div",{className:`bg-white rounded-xl border border-slate-200 p-3 flex items-center gap-3 shadow-sm ${n}`,children:[a.jsx("audio",{ref:t,src:e,preload:"metadata"}),a.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-blue-50 text-blue-600",onClick:()=>{t.current&&(o?t.current.pause():t.current.play(),i(!o))},children:o?a.jsx(h,{className:"h-4 w-4"}):a.jsx(v,{className:"h-4 w-4 ml-0.5"})}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[a.jsx(J,{value:[s],max:d||100,step:.1,onValueChange:e=>{t.current&&(t.current.currentTime=e[0],l(e[0]))},className:"cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 font-medium px-0.5",children:[a.jsx("span",{children:m(s)}),a.jsx("span",{children:m(d)})]})]}),a.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-slate-400 hover:text-slate-600",onClick:()=>{t.current&&(t.current.muted=!c,f(!c))},children:c?a.jsx(w,{className:"h-4 w-4"}):a.jsx(x,{className:"h-4 w-4"})})]})};export{Q as C};
