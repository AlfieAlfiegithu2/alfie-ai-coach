import{u as e,a3 as s,r as t,j as a,a4 as r,a5 as i,B as l,ao as c,C as o,b as n,d,a as m,l as x,H as p,e as h,f as u,M as g}from"./index-DqajxfSZ.js";import{s as f}from"./supabase-DWL4C3fA.js";const j=[{skill:"Listening",icon:p,path:"/ielts/listening",description:"Practice IELTS listening comprehension",color:"from-blue-500 to-blue-600"},{skill:"Reading",icon:h,path:"/ielts/reading",description:"Master IELTS reading passages",color:"from-green-500 to-green-600"},{skill:"Writing",icon:u,path:"/ielts/writing",description:"Improve your IELTS writing skills",color:"from-purple-500 to-purple-600"},{skill:"Speaking",icon:g,path:"/ielts/speaking",description:"Practice IELTS speaking tasks",color:"from-red-500 to-red-600"}],k=()=>{const p=e(),{user:h}=s(),[u,g]=t.useState({}),[k,b]=t.useState(!0);t.useEffect(()=>{N()},[h]);const N=async()=>{b(!0);try{const{data:e,error:s}=await f.from("tests").select("module").eq("test_type","IELTS");if(s)throw s;const t={};if(j.forEach(s=>{t[s.skill]={tests:(null==e?void 0:e.filter(e=>e.module===s.skill).length)||0}}),h)for(const a of j){const{data:e,error:s}=await f.from("test_results").select("score_percentage, created_at").eq("user_id",h.id).ilike("test_type",`%${a.skill}%`).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!s&&null!=(null==e?void 0:e.score_percentage)){const s=y(e.score_percentage);t[a.skill].lastScore=`Band ${s}`}}g(t)}catch(e){console.error("Error loading skill stats:",e)}finally{b(!1)}},y=e=>e>=95?9:e>=90?8.5:e>=85?8:e>=80?7.5:e>=75?7:e>=70?6.5:e>=65?6:e>=60?5.5:e>=55?5:e>=50?4.5:e>=45?4:e>=40?3.5:e>=35?3:e>=30?2.5:e>=25?2:e>=20?1.5:e>=15?1:e>=10?.5:0;return k?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(r,{})}):a.jsx(i,{title:"IELTS Practice Tests",showBackButton:!0,children:a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto px-4",children:[a.jsx("div",{className:"flex items-center mb-4",children:a.jsxs(l,{variant:"ghost",onClick:()=>p("/"),className:"text-muted-foreground px-2 py-1 h-8",children:[a.jsx(c,{className:"mr-2 h-4 w-4"})," Home"]})}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"IELTS Practice Tests"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Choose your skill focus and practice with authentic IELTS test materials"})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:j.map(e=>{const s=u[e.skill]||{tests:0},t=e.icon;return a.jsxs(o,{className:"cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-2 hover:border-primary/20",onClick:()=>p(e.path),children:[a.jsxs(n,{className:"text-center pb-4",children:[a.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${e.color} mx-auto mb-4 flex items-center justify-center`,children:a.jsx(t,{className:"h-8 w-8 text-white"})}),a.jsx(d,{className:"text-2xl font-bold",children:e.skill}),a.jsx("p",{className:"text-muted-foreground",children:e.description})]}),a.jsxs(m,{className:"text-center space-y-3",children:[a.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[a.jsxs(x,{variant:"secondary",className:"text-sm",children:[s.tests," tests available"]}),s.lastScore&&a.jsxs(x,{variant:"outline",className:"text-sm",children:["Last: ",s.lastScore]})]}),a.jsx(l,{className:"w-full",size:"lg",disabled:0===s.tests,children:0===s.tests?"Coming Soon":`Practice ${e.skill}`})]})]},e.skill)})}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-6 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Complete IELTS Preparation"}),a.jsx("p",{className:"text-muted-foreground",children:"Each skill category contains authentic IELTS practice tests with detailed feedback and scoring. Track your progress and identify areas for improvement across all four skills."})]})]})})};export{k as default};
