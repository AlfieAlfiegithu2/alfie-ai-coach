import{u as e,r as s,j as t}from"./vendor-react-rLLBBC7n.js";import{E as r,s as a,x as i,y as l,B as o,C as c,b as n,c as d,a as m,e as x}from"./index-KxDfHqNJ.js";import{aG as p,aJ as h,ao as u,ax as g,aO as f}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const j=[{skill:"Listening",icon:h,path:"/ielts/listening",description:"Practice IELTS listening comprehension",color:"from-blue-500 to-blue-600"},{skill:"Reading",icon:u,path:"/ielts/reading",description:"Master IELTS reading passages",color:"from-green-500 to-green-600"},{skill:"Writing",icon:g,path:"/ielts/writing",description:"Improve your IELTS writing skills",color:"from-purple-500 to-purple-600"},{skill:"Speaking",icon:f,path:"/ielts/speaking",description:"Practice IELTS speaking tasks",color:"from-red-500 to-red-600"}],k=()=>{const h=e(),{user:u}=r(),[g,f]=s.useState({}),[k,v]=s.useState(!0);s.useEffect(()=>{b()},[u]);const b=async()=>{v(!0);try{const{data:e,error:s}=await a.from("tests").select("module").eq("test_type","IELTS");if(s)throw s;const t={};if(j.forEach(s=>{t[s.skill]={tests:(null==e?void 0:e.filter(e=>e.module===s.skill).length)||0}}),u)for(const r of j){const{data:e,error:s}=await a.from("test_results").select("score_percentage, created_at").eq("user_id",u.id).ilike("test_type",`%${r.skill}%`).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!s&&null!=(null==e?void 0:e.score_percentage)){const s=y(e.score_percentage);t[r.skill].lastScore=`Band ${s}`}}f(t)}catch(e){console.error("Error loading skill stats:",e)}finally{v(!1)}},y=e=>e>=95?9:e>=90?8.5:e>=85?8:e>=80?7.5:e>=75?7:e>=70?6.5:e>=65?6:e>=60?5.5:e>=55?5:e>=50?4.5:e>=45?4:e>=40?3.5:e>=35?3:e>=30?2.5:e>=25?2:e>=20?1.5:e>=15?1:e>=10?.5:0;return k?t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsx(i,{})}):t.jsx(l,{title:"IELTS Practice Tests",showBackButton:!0,children:t.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto px-4",children:[t.jsx("div",{className:"flex items-center mb-4",children:t.jsxs(o,{variant:"ghost",onClick:()=>h("/"),className:"text-muted-foreground px-2 py-1 h-8",children:[t.jsx(p,{className:"mr-2 h-4 w-4"})," Home"]})}),t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"IELTS Practice Tests"}),t.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Choose your skill focus and practice with authentic IELTS test materials"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:j.map(e=>{const s=g[e.skill]||{tests:0},r=e.icon;return t.jsxs(c,{className:"cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-2 hover:border-primary/20",onClick:()=>h(e.path),children:[t.jsxs(n,{className:"text-center pb-4",children:[t.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${e.color} mx-auto mb-4 flex items-center justify-center`,children:t.jsx(r,{className:"h-8 w-8 text-white"})}),t.jsx(d,{className:"text-2xl font-bold",children:e.skill}),t.jsx("p",{className:"text-muted-foreground",children:e.description})]}),t.jsxs(m,{className:"text-center space-y-3",children:[t.jsxs("div",{className:"flex justify-center items-center space-x-4",children:[t.jsxs(x,{variant:"secondary",className:"text-sm",children:[s.tests," tests available"]}),s.lastScore&&t.jsxs(x,{variant:"outline",className:"text-sm",children:["Last: ",s.lastScore]})]}),t.jsx(o,{className:"w-full",size:"lg",disabled:0===s.tests,children:0===s.tests?"Coming Soon":`Practice ${e.skill}`})]})]},e.skill)})}),t.jsxs("div",{className:"bg-muted/50 rounded-lg p-6 text-center",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Complete IELTS Preparation"}),t.jsx("p",{className:"text-muted-foreground",children:"Each skill category contains authentic IELTS practice tests with detailed feedback and scoring. Track your progress and identify areas for improvement across all four skills."})]})]})})};export{k as default};
