import{j as e,r as s,g as t,B as a,bo as r,bp as l,ac as n,a3 as i,u as o,_ as d,Z as c,k as x,C as m,a as u,a0 as p,b as h,c as g,V as b,O as f}from"./index-Cpj2qXug.js";import{S as j}from"./separator-ByvJyJCt.js";import{s as N}from"./supabase-Bqkrifq5.js";import{A as v}from"./award-BnsVOoxU.js";import{S as y}from"./sparkles-UnhxfYjP.js";import{F as _}from"./file-text-Bkg0ixRv.js";const w=(e,s,t=!1)=>"left"===s?"suggestion"===e?"bg-brand-blue/10 text-brand-blue border-b-2 border-brand-blue/50":t?"text-text-primary opacity-50":"text-text-primary":"enhancement"===e?"bg-brand-green/10 text-brand-green border-b-2 border-brand-green/50":t?"text-text-primary opacity-50":"text-text-primary",k=({originalSpans:s,suggestedSpans:t,dimNeutral:a=!1,hideOriginal:r=!1})=>{const l=e=>e.replace(/Ignore non[- ]English words and output the best English interpretation/gi,"inaudible");return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"rounded-2xl bg-surface-3 p-4 border border-border space-y-4",children:[!r&&e.jsxs("div",{children:[e.jsx("div",{className:"text-caption mb-2 text-text-tertiary",children:"Your Answer (enhancement opportunities in blue)"}),e.jsx("div",{className:"text-sm leading-relaxed text-text-secondary",children:s.map((s,t)=>e.jsx("span",{className:w(s.status,"left",a),children:l(s.text)},`o-${t}`))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-caption mb-2 text-text-tertiary",children:"Improved Version (improvements highlighted in green)"}),e.jsx("div",{className:"text-sm leading-relaxed text-text-secondary",children:t.map((s,t)=>e.jsx("span",{className:w(s.status,"right",a),children:l(s.text)},`c-${t}`))})]})]})})},S=({text:i,voiceId:o="9BWtsMINqrJLrRacOk9x",questionId:d,className:c="",autoPlay:x=!1,onPlayStart:m,onPlayEnd:u})=>{const[p,h]=s.useState(!1),[g,b]=s.useState(!1),[f,j]=s.useState(null),{toast:v}=t();s.useEffect(()=>{x&&i&&y()},[x,i]),s.useEffect(()=>()=>{f&&(f.pause(),f.removeAttribute("src"))},[f]);const y=async()=>{b(!0);try{const{data:e,error:s}=await N.functions.invoke("audio-cache",{body:{text:i,voice_id:o,question_id:d}});if(s)throw s;if(null==e?void 0:e.audio_url){const s=new Audio(e.audio_url);s.addEventListener("play",()=>{h(!0),null==m||m()}),s.addEventListener("ended",()=>{h(!1),null==u||u()}),s.addEventListener("error",()=>{v({title:"Audio Error",description:"Failed to play audio. Please try again.",variant:"destructive"}),h(!1),null==u||u()}),j(s),s.play(),h(!0),e.cached?console.log("âœ… Using cached audio"):console.log("ðŸŽµ Generated new audio")}}catch(e){console.error("Error generating audio:",e),v({title:"Audio Generation Failed",description:"Could not generate audio. Please try again.",variant:"destructive"})}finally{b(!1)}};return x?null:e.jsxs(a,{onClick:()=>{p&&f?(f.pause(),h(!1),null==u||u()):f?(f.play(),h(!0),null==m||m()):y()},disabled:g,variant:"outline",size:"sm",className:c,children:[g?e.jsx(r,{size:"sm",message:""}):p?e.jsx(l,{className:"w-4 h-4"}):e.jsx(n,{className:"w-4 h-4"}),g?"Loading...":p?"Pause":"Play Audio"]})},I=()=>{var w,I,P,A,E,q,T,$,L,F;const C=i(),R=o(),{toast:B}=t(),[O,z]=s.useState(null),[G,M]=s.useState([]),[W,Q]=s.useState(!0),[Y,D]=s.useState(null),[U,K]=s.useState({}),V=new URLSearchParams(C.search),J=V.get("test_result_id")||V.get("id"),Z=(null==(w=C.state)?void 0:w.testResultId)||(null==(I=C.state)?void 0:I.test_result_id)||J||null;s.useEffect(()=>{(async()=>{try{if(!Z)return void R("/ielts-portal");Q(!0);const{data:e,error:s}=await N.from("speaking_test_results").select("*").eq("test_result_id",Z).order("part_number",{ascending:!0}).order("id",{ascending:!0});if(s)throw s;if(!e||0===e.length)return B({title:"No Speaking Data",description:"We could not find your speaking responses for this attempt.",variant:"destructive"}),void R("/ielts-portal");const t=e.map((e,s)=>{const t=Number(e.part_number)||1;return{part:`part${t}_q${s}`,partNumber:t,questionIndex:s,questionText:e.question_text||`Part ${t} Question ${s+1}`,audio_url:e.audio_url||null}}),{data:a,error:r}=await N.functions.invoke("enhanced-speech-analysis",{body:{allRecordings:t,testData:null,analysisType:"comprehensive"}});if(r)throw r;if(!a)throw new Error("No response from analysis service");const l=Array.isArray(a.individualAnalyses)?a.individualAnalyses:Array.isArray(a.per_question)?a.per_question:[],n=l.map((e,s)=>{const a=t[s]||t[0];return{part:`Part ${e.partNumber||(null==a?void 0:a.partNumber)||1}`,partNumber:e.partNumber||(null==a?void 0:a.partNumber)||1,questionIndex:"number"==typeof e.questionIndex?e.questionIndex:(null==a?void 0:a.questionIndex)||0,questionText:e.questionText||(null==a?void 0:a.questionText)||`Question ${s+1}`,transcription:e.transcription||"",audio_url:e.audio_url||(null==a?void 0:a.audio_url)||"",feedback:e.feedback||"Keep developing your ideas with clearer structure and richer vocabulary."}});M(n);const i={};l.forEach((e,s)=>{if(e.original_spans&&e.suggested_spans){const t=n[s];if(t){const s=`${t.part}_${t.questionIndex}`;i[s]={original_spans:e.original_spans,suggested_spans:e.suggested_spans}}}}),K(i);const o=a.overall||a,d=o.criteria||a.criteria||{},c=(e,s)=>{if("number"!=typeof e)return s;if(e<0)return 0;if(e>9)return 9;const t=e-Math.floor(e);return 0===t||.5===t?e:.25===t?Math.floor(e)+.5:.75===t?Math.ceil(e):Math.round(2*e)/2},x=(e,s,t)=>{const a=d[e];return a&&"object"==typeof a&&void 0!==a.score?{score:c(a.score,s),feedback:a.feedback||a.feedbackText||t}:"number"==typeof a?{score:c(a,s),feedback:d[`${e}Feedback`]||d[`${e}_feedback`]||t}:{score:s,feedback:t}},m=c(o.overallBandScore||a.overallBandScore,5),u=Array.isArray(o.path_to_higher_score||a.path_to_higher_score)?o.path_to_higher_score||a.path_to_higher_score:["Speak for the full time and fully develop each answer.","Use a wider range of topic-specific vocabulary.","Reduce hesitations and self-corrections."];z({overall_band_score:m,fluency_coherence:x("fluency",5,"Fluency feedback not provided."),lexical_resource:x("lexical",5,"Lexical feedback not provided."),grammatical_range:x("grammar",5,"Grammar feedback not provided."),pronunciation:x("pronunciation",5,"Pronunciation feedback not provided."),path_to_higher_score:u,stress_patterns_to_improve:o.stress_patterns_to_improve||[],intonation_recommendations:o.intonation_recommendations||[],phonetic_focus_areas:o.phonetic_focus_areas||[],word_stress_issues:o.word_stress_issues||[]})}catch(e){console.error("Error loading analysis:",e),B({title:"Analysis Error",description:e.message||"Failed to analyze your speaking test. Please try again later.",variant:"destructive"}),R("/ielts-portal")}finally{Q(!1)}})()},[Z,R,B]);const H=e=>e>=8?"text-green-700 bg-green-100 border-green-300":e>=6.5?"text-blue-700 bg-blue-100 border-blue-300":e>=5?"text-yellow-700 bg-yellow-100 border-yellow-300":"text-red-700 bg-red-100 border-red-300",X=s=>s>=8?e.jsx(p,{className:"w-4 h-4"}):s>=6.5?e.jsx(f,{className:"w-4 h-4"}):e.jsx(_,{className:"w-4 h-4"});if(W)return e.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_#eff6ff,_#f9fafb)] flex items-center justify-center",children:e.jsx(r,{size:"lg",message:"Analyzing your IELTS Speaking performance..."})});if(!O)return e.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_#eff6ff,_#f9fafb)] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg text-slate-600",children:"Unable to load your IELTS Speaking results."}),e.jsxs(a,{onClick:()=>R("/ielts-portal"),className:"mt-4 rounded-xl px-5 py-2.5 text-sm",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to IELTS Portal"]})]})});const ee=(s,t)=>{var r;const i=`${s.part}_${s.questionIndex}`,o=U[i],d=Y===i;return e.jsxs("div",{className:"border border-slate-200 rounded-2xl p-5 sm:p-6 space-y-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900",children:"Part 2"===s.part?"Cue Card Response":`Question ${s.questionIndex+1}`}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-white text-slate-500 border border-slate-200",children:"IELTS Speaking Practice"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[11px] text-blue-700 mb-1 uppercase tracking-wide",children:"Part 2"===s.part?"Cue card":"Question"}),e.jsx("div",{className:"p-3 sm:p-4 bg-white rounded-xl text-xs sm:text-sm border border-slate-200/80 text-slate-800 leading-relaxed",children:s.questionText||"Question text not available"})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 sm:p-4 space-y-3",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2 text-xs text-slate-800",children:[e.jsx(b,{className:"w-3 h-3"}),"Your recorded answer"]}),s.transcription&&s.transcription.trim()?e.jsx("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:e.jsxs("p",{className:"text-xs sm:text-sm text-slate-700 leading-relaxed italic",children:['"',s.transcription,'"']})}):e.jsx("div",{className:"bg-yellow-50 rounded-lg p-3 border border-yellow-200",children:e.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 leading-relaxed italic",children:[e.jsx("span",{className:"font-medium",children:"Inaudible:"})," No audio was recorded or the audio could not be understood. Please ensure your microphone is working and try recording again."]})}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:s.audio_url?e.jsx(a,{onClick:()=>(async(e,s)=>{if(Y!==s)if(!e||e.startsWith("https://mock-r2-fallback.local")||e.startsWith("https://placeholder-r2"))B({title:"Audio Not Available",description:"The audio recording is not available or could not be loaded.",variant:"destructive"});else try{D(s);const t=new Audio(e);t.onended=()=>{D(null)},t.onerror=()=>{D(null),B({title:"Audio Error",description:"Failed to play audio recording. The audio may be inaudible or corrupted.",variant:"destructive"})},await t.play()}catch(t){console.error("Error playing audio:",t),D(null),B({title:"Audio Playback Failed",description:"Could not play the audio recording. It may be inaudible or unavailable.",variant:"destructive"})}else D(null)})(s.audio_url,i),variant:d?"default":"outline",size:"sm",className:"flex items-center gap-2 rounded-xl px-3 py-1.5 text-xs",children:d?e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"w-4 h-4"}),"Stop Audio"]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"w-4 h-4"}),"Play Your Answer"]})}):e.jsx("div",{className:"text-xs text-slate-500 italic",children:"Audio recording not available"})})]}),o&&o.original_spans&&o.suggested_spans&&e.jsxs("div",{className:"bg-white rounded-xl p-3 mt-4 border border-slate-200/80",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2 text-xs text-slate-900",children:[e.jsx(f,{className:"w-3 h-3 text-blue-600"}),"Improved version of your answer"]}),e.jsx(k,{originalSpans:o.original_spans,suggestedSpans:o.suggested_spans,dimNeutral:!1,hideOriginal:!1}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(S,{text:(null==(r=o.suggested_spans)?void 0:r.map(e=>(null==e?void 0:e.text)||"").filter(Boolean).join(""))||"",className:"text-xs",questionId:`suggestion_${i}`})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-xs sm:text-sm text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"w-3 h-3 text-blue-600"}),"Feedback for your response"]}),e.jsx("div",{className:"rounded-xl p-4 bg-white border border-slate-200/80",children:e.jsx("p",{className:"text-xs sm:text-sm leading-relaxed text-slate-800 whitespace-pre-wrap",children:s.feedback?s.feedback.replace(/\*\*/g,"").replace(/###/g,"").replace(/\*/g,""):"Feedback analysis in progress..."})})]})]},`${s.part}-${t}`)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-indigo-50",children:e.jsx(c,{title:"IELTS Speaking Results",showBackButton:!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(x,{variant:"outline",className:"mb-3 px-5 py-1.5 text-[11px] tracking-[0.2em] uppercase font-semibold text-blue-700 border-blue-200/60 bg-white/80 backdrop-blur-sm rounded-full shadow-sm",children:"IELTS SPEAKING â€¢ OFFICIAL-STYLE REPORT"}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 bg-clip-text text-transparent",children:"Speaking Test Results"}),e.jsx("p",{className:"text-base sm:text-lg text-slate-600 max-w-3xl mx-auto leading-relaxed",children:"AI examiner-style evaluation aligned with official IELTS band descriptors for Fluency & Coherence, Lexical Resource, Grammatical Range & Accuracy, and Pronunciation."})]}),e.jsx(m,{className:"border-0 rounded-3xl bg-white shadow-xl shadow-blue-100/50",children:e.jsx(u,{className:"px-8 sm:px-12 py-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsxs("div",{className:`relative flex items-center justify-center w-32 h-32 rounded-3xl bg-gradient-to-br ${se=O.overall_band_score,se>=8?"from-green-500 to-green-600":se>=6.5?"from-blue-500 to-blue-600":se>=5?"from-yellow-500 to-yellow-600":"from-red-500 to-red-600"} text-white shadow-2xl shadow-blue-500/30`,children:[e.jsx("div",{className:"text-5xl font-bold",children:O.overall_band_score}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg",children:e.jsx(v,{className:"w-5 h-5 text-blue-600"})})]}),e.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[e.jsx("div",{className:"text-sm font-bold tracking-[0.18em] text-blue-600 uppercase",children:"Overall Speaking Band"}),e.jsx("div",{className:"text-base text-slate-700 max-w-md",children:O.overall_band_score>=8?"ðŸŒŸ Excellent: Ready for high-stakes academic/professional use":O.overall_band_score>=6.5?"âœ… Good: Functional command with some gaps":O.overall_band_score>=5?"ðŸ“š Modest: Partial command with noticeable limitations":"âš ï¸ Needs improvement: Focus on fundamentals"})]})]}),e.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-3 text-sm text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-full",children:[e.jsx(y,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"AI-Powered Analysis"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{children:"Based on 4 official IELTS criteria"})]})]})]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(m,{className:"rounded-2xl border-0 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(h,{className:"pb-3",children:e.jsxs(g,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-base font-bold text-slate-900",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-md",children:X(O.fluency_coherence.score)}),"Fluency & Coherence"]}),e.jsxs(x,{className:`${H(O.fluency_coherence.score)} border-2 text-xs font-bold px-3 py-1 shadow-sm`,children:["Band ",O.fluency_coherence.score]})]})}),e.jsx(u,{className:"pt-2",children:e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:O.fluency_coherence.feedback})})]}),e.jsxs(m,{className:"rounded-2xl border-0 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(h,{className:"pb-3",children:e.jsxs(g,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-base font-bold text-slate-900",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-md",children:X(O.lexical_resource.score)}),"Lexical Resource"]}),e.jsxs(x,{className:`${H(O.lexical_resource.score)} border-2 text-xs font-bold px-3 py-1 shadow-sm`,children:["Band ",O.lexical_resource.score]})]})}),e.jsx(u,{className:"pt-2",children:e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:O.lexical_resource.feedback})})]}),e.jsxs(m,{className:"rounded-2xl border-0 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(h,{className:"pb-3",children:e.jsxs(g,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-base font-bold text-slate-900",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-md",children:X(O.grammatical_range.score)}),"Grammar & Accuracy"]}),e.jsxs(x,{className:`${H(O.grammatical_range.score)} border-2 text-xs font-bold px-3 py-1 shadow-sm`,children:["Band ",O.grammatical_range.score]})]})}),e.jsx(u,{className:"pt-2",children:e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:O.grammatical_range.feedback})})]}),e.jsxs(m,{className:"rounded-2xl border-0 bg-white shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx(h,{className:"pb-3",children:e.jsxs(g,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-3 text-base font-bold text-slate-900",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-md",children:X(O.pronunciation.score)}),"Pronunciation"]}),e.jsxs(x,{className:`${H(O.pronunciation.score)} border-2 text-xs font-bold px-3 py-1 shadow-sm`,children:["Band ",O.pronunciation.score]})]})}),e.jsx(u,{className:"pt-2",children:e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:O.pronunciation.feedback})})]})]}),((null==(P=O.stress_patterns_to_improve)?void 0:P.length)||(null==(A=O.intonation_recommendations)?void 0:A.length)||(null==(E=O.phonetic_focus_areas)?void 0:E.length)||(null==(q=O.word_stress_issues)?void 0:q.length))&&e.jsxs(m,{className:"rounded-3xl border border-slate-200/80 bg-white",children:[e.jsx(h,{className:"pb-4",children:e.jsxs(g,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-2xl bg-blue-50",children:e.jsx(b,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Enhanced Pronunciation Analysis"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Detailed feedback on speech patterns and sounds"})]})]})}),e.jsxs(u,{className:"space-y-6",children:[(null==(T=O.stress_patterns_to_improve)?void 0:T.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Word Stress Patterns to Improve"]}),e.jsx("div",{className:"grid gap-2",children:O.stress_patterns_to_improve.map((s,t)=>e.jsx("div",{className:"text-xs text-slate-600 bg-blue-50 rounded-lg px-3 py-2 font-mono",children:s},t))})]}),(null==($=O.intonation_recommendations)?void 0:$.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Intonation Recommendations"]}),e.jsx("div",{className:"grid gap-2",children:O.intonation_recommendations.map((s,t)=>e.jsx("div",{className:"text-xs text-slate-600 bg-green-50 rounded-lg px-3 py-2",children:s},t))})]}),(null==(L=O.phonetic_focus_areas)?void 0:L.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Phonetic Sounds to Focus On"]}),e.jsx("div",{className:"grid gap-2",children:O.phonetic_focus_areas.map((s,t)=>e.jsx("div",{className:"text-xs text-slate-600 bg-orange-50 rounded-lg px-3 py-2 font-mono",children:s},t))})]}),(null==(F=O.word_stress_issues)?void 0:F.length)>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Word Stress Corrections"]}),e.jsx("div",{className:"grid gap-2",children:O.word_stress_issues.map((s,t)=>e.jsx("div",{className:"text-xs text-slate-600 bg-purple-50 rounded-lg px-3 py-2",children:s},t))})]})]})]}),G.some(e=>"Part 1"===e.part)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Part 1 â€“ Introduction and Interview"}),G.filter(e=>"Part 1"===e.part).sort((e,s)=>e.questionIndex-s.questionIndex).map((e,s)=>ee(e,s))]}),G.some(e=>"Part 2"===e.part)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Part 2 â€“ Long Turn (Cue Card)"}),G.filter(e=>"Part 2"===e.part).map((e,s)=>ee(e,s))]}),G.some(e=>"Part 3"===e.part)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Part 3 â€“ Discussion"}),G.filter(e=>"Part 3"===e.part).sort((e,s)=>e.questionIndex-s.questionIndex).map((e,s)=>ee(e,s))]}),e.jsxs(m,{className:"rounded-3xl bg-gradient-to-br from-blue-50 via-slate-50 to-emerald-50 border border-blue-100",children:[e.jsxs(h,{children:[e.jsxs(g,{className:"flex items-center gap-2 text-sm font-semibold text-slate-900",children:[e.jsx(f,{className:"w-4 h-4 text-blue-600"}),"Your path to a higher band score"]}),e.jsx("p",{className:"text-xs text-slate-600",children:"Prioritized, examiner-aligned actions generated from your performance."})]}),e.jsxs(u,{children:[e.jsx("div",{className:"grid gap-3",children:O.path_to_higher_score.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 sm:p-4 bg-white/95 rounded-2xl border border-blue-100/80 shadow-sm",children:[e.jsx("div",{className:"flex-shrink-0 w-7 h-7 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full text-[10px] font-semibold text-white flex items-center justify-center",children:t+1}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-800 leading-relaxed",children:s.replace(/\*\*/g,"").replace(/###/g,"").replace(/\*/g,"")})]},t))}),e.jsx(j,{className:"my-5"}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Ready to immediately apply this feedback in another IELTS Speaking simulation?"}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[e.jsxs(a,{onClick:()=>R("/ielts-portal"),variant:"outline",className:"rounded-xl px-4 py-2 text-xs sm:text-sm border-slate-300",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to IELTS Portal"]}),e.jsx(a,{onClick:()=>R("/ielts-portal"),className:"rounded-xl px-5 py-2 text-xs sm:text-sm bg-blue-600 shadow-md",children:"Take Another Speaking Test"})]})]})]})]})]})})});var se};export{I as default};
