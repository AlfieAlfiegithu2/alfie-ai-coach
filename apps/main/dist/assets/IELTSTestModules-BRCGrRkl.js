import{ak as e,u as s,af as t,r as a,j as r,ag as n,B as o,Z as i,C as l,b as c,c as d,a as m}from"./index-R5Se49EE.js";import{s as u}from"./supabase-Bqkrifq5.js";const g=()=>{const{testId:g}=e(),x=s(),b=t(),[h,y]=a.useState(null),[p,f]=a.useState(!0),[j,k]=a.useState(!1);a.useEffect(()=>{g&&v();const e=new Image;e.onload=()=>k(!0),e.src="/lovable-uploads/38d81cb0-fd21-4737-b0f5-32bc5d0ae774.png"},[g]);const v=async()=>{f(!0);try{const{data:e,error:s}=await u.from("tests").select("*").eq("id",g).single();if(s)throw s;y(e)}catch(e){console.error("Error loading test:",e)}finally{f(!1)}};return p||!j?r.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:r.jsx(n,{})}):h?r.jsxs("div",{className:"min-h-screen relative",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:"note"===b.theme.name||"minimalist"===b.theme.name?"none":"url('/lovable-uploads/38d81cb0-fd21-4737-b0f5-32bc5d0ae774.png')",backgroundColor:b.backgroundImageColor}}),r.jsx("div",{className:"relative z-10",children:r.jsx(i,{title:h.test_name,showBackButton:!0,backPath:"/ielts-portal",children:r.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[r.jsx("div",{className:"flex items-center mb-2",children:r.jsx(o,{variant:"ghost",onClick:()=>x(-1),className:"px-2 py-1 h-8",style:{color:b.textSecondary},onMouseEnter:e=>e.currentTarget.style.color=b.buttonPrimary,onMouseLeave:e=>e.currentTarget.style.color=b.textSecondary,children:"Go Back"})}),r.jsx("div",{className:"text-center",children:r.jsx("h1",{className:"text-3xl font-bold mb-3",style:{color:b.textPrimary},children:h.test_name})}),r.jsx("section",{children:r.jsx("div",{className:"grid md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:[{id:"reading",name:"Reading",description:"Academic passages with comprehensive questions",duration:"60 minutes",sections:"3 passages",questions:"40 questions"},{id:"listening",name:"Listening",description:"Audio recordings with various question types",duration:"30 minutes",sections:"4 sections",questions:"40 questions"},{id:"writing",name:"Writing",description:"Task 1 data description and Task 2 essay",duration:"60 minutes",sections:"2 tasks",questions:"2 essays"},{id:"speaking",name:"Speaking",description:"Interactive speaking assessment with AI examiner",duration:"11-14 minutes",sections:"3 parts",questions:"3 sections"}].map(e=>{const s="writing"===e.id||"reading"===e.id||"speaking"===e.id;return r.jsxs(l,{className:"rounded-2xl shadow-soft hover:scale-105 transition-all duration-200",style:{backgroundColor:"glassmorphism"===b.theme.name||"dark"===b.theme.name?"rgba(255,255,255,0.1)":"minimalist"===b.theme.name?"#ffffff":b.theme.colors.cardBackground,borderColor:b.border,...b.cardStyle},children:[r.jsxs(c,{className:"text-center pb-3",children:[r.jsx(d,{className:"text-xl",style:{color:b.textPrimary},children:e.name}),r.jsx("p",{className:"text-sm",style:{color:b.textSecondary},children:e.description})]}),r.jsxs(m,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:b.textSecondary},children:"Duration:"}),r.jsx("span",{className:"font-medium",style:{color:b.textPrimary},children:e.duration})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:b.textSecondary},children:"Sections:"}),r.jsx("span",{className:"font-medium",style:{color:b.textPrimary},children:e.sections})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:b.textSecondary},children:"Content:"}),r.jsx("span",{className:"font-medium",style:{color:b.textPrimary},children:e.questions})]})]}),r.jsx(o,{onClick:()=>(async e=>{console.log(`ðŸ§ª Opening IELTS ${e} for test ${g}`),"writing"===e?x(`/ielts-writing-test/${g}`):"reading"===e?x(`/reading/${g}`):"listening"===e?x(`/listening/${g}`):"speaking"===e?x(`/ielts-speaking-test/${g}`):console.log(`${e} module not implemented yet`)})(e.id),className:"w-full rounded-2xl font-semibold border-2",size:"sm",disabled:!s,style:{borderColor:s?b.buttonPrimary:b.border,backgroundColor:s?b.buttonPrimary:"glassmorphism"===b.theme.name||"dark"===b.theme.name?"rgba(255,255,255,0.1)":"minimalist"===b.theme.name?"#f3f4f6":b.theme.colors.cardBackground,color:s?"white":b.textSecondary},onMouseEnter:e=>{s&&(e.currentTarget.style.backgroundColor=b.buttonPrimaryHover)},onMouseLeave:e=>{s&&(e.currentTarget.style.backgroundColor=b.buttonPrimary)},children:s?`Start ${e.name}`:"Coming Soon"})]})]},e.id)})})})]})})})]}):r.jsxs("div",{className:"min-h-screen relative",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:"note"===b.theme.name||"minimalist"===b.theme.name||"dark"===b.theme.name?"none":"url('/lovable-uploads/38d81cb0-fd21-4737-b0f5-32bc5d0ae774.png')",backgroundColor:b.backgroundImageColor}}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg",style:{color:b.textPrimary},children:"Test not found"}),r.jsx(o,{onClick:()=>x("/ielts-portal"),className:"mt-4 rounded-2xl border-2",style:{backgroundColor:b.buttonPrimary,borderColor:b.buttonPrimary,color:"white"},onMouseEnter:e=>e.currentTarget.style.backgroundColor=b.buttonPrimaryHover,onMouseLeave:e=>e.currentTarget.style.backgroundColor=b.buttonPrimary,children:"Back to IELTS Portal"})]})})]})};export{g as default};
