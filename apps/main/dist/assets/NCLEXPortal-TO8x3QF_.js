import{u as e,r as t,j as s}from"./vendor-react-rLLBBC7n.js";import{E as r,d as a,q as o,s as l,x as i,U as c,y as n,C as d,a as m,A as x,b as h,c as u,e as p,o as g,B as f}from"./index-KxDfHqNJ.js";import{aG as j,aa as b,ar as y,K as N,aj as v,ao as w,aA as k,ak as C,cx as P,cy as S,cz as E,J as _,cA as A,bE as L}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const M=[{id:"medical-surgical",title:"Medical-Surgical",description:"Adult health nursing care",icon:P,color:"from-blue-500 to-cyan-500",topics:["Cardiovascular","Respiratory","Gastrointestinal","Renal"]},{id:"pediatrics",title:"Pediatrics",description:"Child health nursing",icon:S,color:"from-pink-500 to-rose-500",topics:["Growth & Development","Immunizations","Common Illnesses"]},{id:"maternity",title:"Maternity",description:"Obstetric & newborn care",icon:E,color:"from-red-500 to-pink-500",topics:["Prenatal","Labor & Delivery","Postpartum","Newborn"]},{id:"mental-health",title:"Mental Health",description:"Psychiatric nursing",icon:_,color:"from-purple-500 to-violet-500",topics:["Mood Disorders","Anxiety","Schizophrenia","Substance Abuse"]},{id:"pharmacology",title:"Pharmacology",description:"Medication administration",icon:A,color:"from-green-500 to-emerald-500",topics:["Drug Classes","Calculations","Side Effects","Interactions"]},{id:"fundamentals",title:"Fundamentals",description:"Basic nursing skills",icon:L,color:"from-amber-500 to-orange-500",topics:["Safety","Infection Control","Documentation","Assessment"]}],q=()=>{const P=e(),{user:S}=r(),{toast:E}=a(),_=o(),A="note"===_.theme.name,[L,q]=t.useState(!0),[B,X]=t.useState(null),[D,T]=t.useState([]),[I,R]=t.useState([]),[F,z]=t.useState({});t.useEffect(()=>{G()},[S]);const G=async()=>{try{const{data:e,error:t}=await l.from("nclex_tests").select("id, title, description, category, difficulty_level, question_count, time_limit_minutes").eq("is_published",!0).order("created_at",{ascending:!1});if(t)console.error("Error loading tests:",t);else{T(e||[]);const t={};(e||[]).forEach(e=>{const s=e.category.toLowerCase().replace(/\s+/g,"-");t[s]||(t[s]={total:0,completed:0}),t[s].total++}),z(t)}if(S){const{data:t,error:s}=await l.from("nclex_test_results").select("test_id, score, completed_at").eq("user_id",S.id).order("completed_at",{ascending:!1});if(s)console.error("Error loading results:",s);else{R(t||[]);const s=new Set((t||[]).map(e=>e.test_id));z(t=>{const r={...t};return(e||[]).forEach(e=>{const t=e.category.toLowerCase().replace(/\s+/g,"-");s.has(e.id)&&r[t]&&r[t].completed++}),r})}}}catch(e){console.error("Error:",e)}finally{q(!1)}},H=e=>{if(!S)return E({title:"Sign in required",description:"Please sign in to take NCLEX practice tests",variant:"destructive"}),void P("/auth");P(`/nclex/test/${e}`)},$=e=>I.find(t=>t.test_id===e),O=e=>{if(A)return"bg-transparent border border-[#E8D5A3] text-[#5D4E37]";switch(e.toLowerCase()){case"easy":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"medium":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"hard":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return L?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:_.theme.colors.background},children:s.jsx(i,{})}):s.jsxs("div",{className:"min-h-screen relative "+(A?"font-serif":""),style:{backgroundColor:_.theme.colors.background},children:[s.jsx(c,{title:"NCLEX Practice Tests",description:"Prepare for NCLEX-RN with comprehensive practice tests. Medical-Surgical, Pediatrics, Maternity, Mental Health, Pharmacology and more. AI-powered feedback and detailed rationales.",keywords:"NCLEX, NCLEX-RN, nursing exam, practice tests, medical-surgical, pediatrics, maternity, pharmacology",type:"website"}),s.jsx(n,{title:"NCLEX Practice",showBackButton:!0,children:s.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>P("/hero"),className:"inline-flex items-center gap-1 px-2 py-1 text-sm font-medium transition-colors rounded-md hover:bg-muted",style:{color:_.textSecondary},children:[!A&&s.jsx(j,{className:"h-4 w-4"}),A&&s.jsx("span",{children:"Home"})]}),s.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",style:{color:_.textPrimary},children:"NCLEX Practice"})]}),s.jsxs("div",{className:"text-center mb-8",children:[!A&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-teal-500/10 to-cyan-500/10 border border-teal-500/20 mb-4",children:[s.jsx(y,{className:"h-5 w-5 text-teal-500"}),s.jsx("span",{className:"text-sm font-medium text-teal-600 dark:text-teal-400",children:"Nursing Excellence"})]}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-black tracking-tight mb-3 "+(A?"font-serif":""),style:{color:_.textPrimary},children:"NCLEX Practice Tests"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Master nursing concepts with SATA and multiple choice questions. Detailed rationales for every answer."})]}),S&&I.length>0&&s.jsx(d,{className:"border",style:{backgroundColor:_.theme.colors.cardBackground,borderColor:_.border},children:s.jsx(m,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[!A&&s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(N,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",style:{color:_.textPrimary},children:"Your Progress"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.length," tests completed"]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold "+(A?"":"text-teal-500"),style:{color:A?_.textPrimary:void 0},children:[Math.round(I.reduce((e,t)=>e+t.score,0)/I.length),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",style:{color:_.textPrimary},children:D.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Available"})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>{const t=e.icon,r=F[e.id]||{total:0,completed:0},a=(e=>{var t;const s=(null==(t=M.find(t=>t.id===e))?void 0:t.title)||"";return D.filter(e=>e.category.toLowerCase()===s.toLowerCase())})(e.id);return s.jsxs("div",{children:[s.jsxs(x,{className:"cursor-pointer group transition-all duration-300 hover:scale-[1.02] hover:shadow-xl",onClick:()=>{return t=e.id,void X(B===t?null:t);var t},style:{backgroundColor:_.theme.colors.cardBackground,borderColor:B===e.id?A?_.textSecondary:"rgb(20, 184, 166)":_.border,borderWidth:B===e.id?"2px":"1px"},children:[s.jsxs(h,{className:"pb-3",children:[!A&&s.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${e.color} flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(u,{className:"text-xl",style:{color:_.textPrimary},children:e.title}),r.total>0&&s.jsxs(p,{variant:"secondary",className:"text-xs",style:A?{backgroundColor:"transparent",border:`1px solid ${_.border}`,color:_.textSecondary}:void 0,children:[r.total," tests"]})]}),s.jsx(g,{className:"text-sm",children:e.description})]}),s.jsxs(m,{className:"pt-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.topics.slice(0,3).map((e,t)=>s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",style:A?{backgroundColor:"rgba(0,0,0,0.05)",color:_.textSecondary}:void 0,children:e},t)),e.topics.length>3&&s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",style:A?{backgroundColor:"rgba(0,0,0,0.05)",color:_.textSecondary}:void 0,children:["+",e.topics.length-3]})]}),r.completed>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm "+(A?"":"text-green-600 dark:text-green-400"),style:{color:A?_.textSecondary:void 0},children:[!A&&s.jsx(v,{className:"h-4 w-4"}),A&&s.jsx("span",{children:"âœ“"}),r.completed,"/",r.total," completed"]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:B===e.id?"Click to collapse":"View tests"}),!A&&s.jsx(b,{className:"h-4 w-4 text-muted-foreground transition-transform "+(B===e.id?"rotate-90":"group-hover:translate-x-1")})]})})]})]}),B===e.id&&a.length>0&&s.jsx("div",{className:"mt-4 space-y-3 pl-4 border-l-2 "+(A?"":"border-teal-500"),style:{borderColor:A?_.border:void 0},children:a.map(e=>{const t=$(e.id);return s.jsx(d,{className:"border transition-all hover:shadow-md",style:{backgroundColor:_.theme.colors.cardBackground,borderColor:_.border},children:s.jsx(m,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",style:{color:_.textPrimary},children:e.title}),s.jsx(p,{className:O(e.difficulty_level),children:e.difficulty_level})]}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[!A&&s.jsx(w,{className:"h-3 w-3"}),e.question_count," questions"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[!A&&s.jsx(k,{className:"h-3 w-3"}),e.time_limit_minutes," min"]}),t&&s.jsxs("span",{className:"flex items-center gap-1 "+(A?"":"text-green-600 dark:text-green-400"),style:{color:A?_.textSecondary:void 0},children:[!A&&s.jsx(v,{className:"h-3 w-3"}),"Best: ",Math.round(t.score),"%"]})]})]}),s.jsx(f,{onClick:t=>{t.stopPropagation(),H(e.id)},className:A?"":"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white",style:A?{backgroundColor:_.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:t?"Retake":"Start"})]})})},e.id)})}),B===e.id&&0===a.length&&s.jsx("div",{className:"mt-4 p-4 text-center text-muted-foreground border border-dashed rounded-lg",children:"No tests available in this category yet"})]},e.id)})}),!B&&D.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:_.textPrimary},children:"All Available Tests"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.slice(0,6).map(e=>{const t=$(e.id);return s.jsx(d,{className:"border transition-all hover:shadow-md cursor-pointer",style:{backgroundColor:_.theme.colors.cardBackground,borderColor:_.border},onClick:()=>H(e.id),children:s.jsx(m,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",style:{color:_.textPrimary},children:e.title}),s.jsx(p,{className:O(e.difficulty_level),children:e.difficulty_level})]}),s.jsx(p,{variant:"outline",className:"text-xs mb-2",children:e.category}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[!A&&s.jsx(w,{className:"h-3 w-3"}),e.question_count," questions"]}),t&&s.jsxs("span",{className:"flex items-center gap-1 "+(A?"":"text-green-600 dark:text-green-400"),style:{color:A?_.textSecondary:void 0},children:[!A&&s.jsx(v,{className:"h-3 w-3"}),Math.round(t.score),"%"]})]})]}),!A&&s.jsx(b,{className:"h-5 w-5 text-muted-foreground"})]})})},e.id)})})]}),s.jsx(d,{className:"mt-8 border "+(A?"":"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/20 dark:to-cyan-950/20"),style:{borderColor:_.border,backgroundColor:A?_.theme.colors.cardBackground:void 0},children:s.jsx(m,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[!A&&s.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(C,{className:"h-5 w-5 text-teal-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",style:{color:_.textPrimary},children:"About NCLEX Practice"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Our NCLEX practice tests feature both Select All That Apply (SATA) and Multiple Choice questions to prepare you for the real exam. Each question includes detailed rationales explaining why answers are correct or incorrect, helping you understand the nursing concepts deeply."})]})]})})})]})})]})};export{q as default};
