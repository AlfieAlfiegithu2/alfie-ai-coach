import{u as e,ae as r,a1 as s,r as t,j as o,a9 as a,az as i,aa as l,l as n,C as c,a as d,M as m,e as x,H as g,B as p,V as b,z as h,ao as u,F as y,f as j}from"./index-DuQba2w5.js";import{T as w,a as N,b as k,c as v}from"./tabs-B83B-OWC.js";import{s as f}from"./supabase-DLB9cOux.js";import{A as _}from"./award-DWaHlUgq.js";import{L as S}from"./list-ordered-CmWUNm4l.js";import{S as C}from"./square-check-big-B_eXv4KH.js";import{A as P}from"./arrow-left-right-i__rSg3U.js";import{T as B,H as T}from"./type-CqwWTDuc.js";import{C as A}from"./circle-alert-CDNa3pPG.js";const E=[{id:"read_aloud",name:"Read Aloud",icon:b,description:"Read text aloud clearly"},{id:"repeat_sentence",name:"Repeat Sentence",icon:h,description:"Repeat exactly what you hear"},{id:"describe_image",name:"Describe Image",icon:u,description:"Describe an image in detail"},{id:"retell_lecture",name:"Retell Lecture",icon:m,description:"Retell a lecture in your words"},{id:"answer_short_question",name:"Answer Short Question",icon:h,description:"Give a brief answer"},{id:"summarize_group_discussion",name:"Summarize Discussion",icon:h,description:"Summarize group discussion"},{id:"respond_to_situation",name:"Respond to Situation",icon:h,description:"Respond appropriately"},{id:"summarize_written_text",name:"Summarize Written Text",icon:y,description:"Write a one-sentence summary"},{id:"write_essay",name:"Write Essay",icon:j,description:"Write a 200-300 word essay"}],$=[{id:"fill_blanks_dropdown",name:"Fill Blanks (Dropdown)",icon:S,description:"Select from dropdown options"},{id:"mcq_multiple_answers",name:"MCQ Multiple Answers",icon:C,description:"Select all correct answers"},{id:"reorder_paragraph",name:"Reorder Paragraph",icon:P,description:"Arrange paragraphs correctly"},{id:"fill_blanks_drag_drop",name:"Fill Blanks (Drag & Drop)",icon:B,description:"Drag words to fill blanks"},{id:"mcq_single_answer",name:"MCQ Single Answer",icon:C,description:"Select one correct answer"}],D=[{id:"summarize_spoken_text",name:"Summarize Spoken Text",icon:y,description:"Write 50-70 word summary"},{id:"listening_mcq_multiple",name:"MCQ Multiple Answers",icon:C,description:"Select all correct answers"},{id:"fill_blanks_type_in",name:"Fill Blanks (Type In)",icon:B,description:"Type the missing words"},{id:"highlight_correct_summary",name:"Highlight Summary",icon:T,description:"Select best summary"},{id:"listening_mcq_single",name:"MCQ Single Answer",icon:C,description:"Select one correct answer"},{id:"select_missing_word",name:"Select Missing Word",icon:A,description:"Select completing word"},{id:"highlight_incorrect_words",name:"Highlight Incorrect",icon:T,description:"Click differing words"},{id:"write_from_dictation",name:"Write from Dictation",icon:j,description:"Type the sentence you hear"}],q=()=>{const b=e(),{user:h}=r(),u=s(),y="note"===u.theme.name,[j,S]=t.useState(!0),[C,P]=t.useState("speaking-writing"),[B,T]=t.useState({}),[A,q]=t.useState([]),[R,z]=t.useState({});t.useEffect(()=>{M()},[h]);const M=async()=>{S(!0);try{await Promise.all([W(),F(),h?I():Promise.resolve()])}catch(e){console.error("Error loading data:",e)}finally{S(!1)}},W=async()=>{try{const{data:e,error:r}=await f.from("pte_items").select("pte_section_type");if(r)throw r;const s={};null==e||e.forEach(e=>{s[e.pte_section_type]=(s[e.pte_section_type]||0)+1}),T(s)}catch(e){console.error("Error loading item counts:",e)}},F=async()=>{try{const{data:e,error:r}=await f.from("pte_listening_tests").select("*").order("created_at",{ascending:!1});if(r)throw r;q(e||[])}catch(e){console.error("Error loading listening tests:",e)}},I=async()=>{if(h)try{const{data:e,error:r}=await f.from("pte_user_progress").select("pte_section_type").eq("user_id",h.id).eq("completed",!0);if(r)throw r;const s={};null==e||e.forEach(e=>{s[e.pte_section_type]=(s[e.pte_section_type]||0)+1}),z(s)}catch(e){console.error("Error loading user progress:",e)}};if(j)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:u.theme.colors.background},children:o.jsx(a,{})});const L=({type:e,skill:r,count:s})=>{const t=e.icon,a=R[e.id]||0,i=s>0;return o.jsx(c,{className:`relative rounded-2xl p-4 transition-all duration-200 ${i?"cursor-pointer hover:scale-[1.02]":"opacity-50"} ${y?"":"bg-white/5 border-white/10 backdrop-blur-xl hover:bg-white/10"}`,onClick:()=>i&&((e,r)=>{0!==(B[e.id]||0)&&b("speaking_writing"===r?`/pte-speaking/${e.id}`:`/pte-reading/${e.id}`)})(e,r),style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border,borderWidth:"1px"}:void 0,children:o.jsxs(d,{className:"p-0 space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[!y&&o.jsx("div",{className:"p-2 rounded-lg "+("speaking_writing"===r?"bg-pink-500/20":"bg-blue-500/20"),children:o.jsx(t,{className:"w-5 h-5 "+("speaking_writing"===r?"text-pink-400":"text-blue-400")})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",style:{color:u.textPrimary},children:e.name}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:e.description})]})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(n,{variant:"secondary",className:"text-xs",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:{backgroundColor:i?"rgba(255,255,255,0.1)":"rgba(55,65,81,1)",color:i?"white":"rgb(156,163,175)"},children:[s," items"]}),a>0&&o.jsxs(n,{variant:"secondary",className:"text-xs",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:{backgroundColor:"rgba(34,197,94,0.2)",color:"rgb(74,222,128)"},children:[a," completed"]})]})]})})};return o.jsxs("div",{className:"min-h-screen relative "+(y?"font-serif":"bg-gray-950"),style:y?{backgroundColor:u.theme.colors.background}:void 0,children:[!y&&o.jsx(i,{raysOrigin:"top-center",raysColor:"#7C3AED",raysSpeed:.6,lightSpread:2,rayLength:1.2,pulsating:!1,fadeDistance:.8,saturation:.4,followMouse:!0,mouseInfluence:.05,noiseAmount:.02,distortion:.02,className:"absolute inset-0 z-0"}),o.jsx("div",{className:"relative z-10",children:o.jsx(l,{title:"PTE Academic Portal",showBackButton:!0,children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(n,{variant:"outline",className:"mb-4 px-4 py-1 "+(y?"":"text-violet-400 border-violet-400/20"),style:y?{borderColor:u.border,color:u.textSecondary}:void 0,children:"PTE ACADEMIC"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:u.textPrimary},children:"PTE Academic Test Preparation"}),o.jsx("p",{className:"max-w-2xl mx-auto",style:{color:y?u.textSecondary:"rgb(209 213 219)"},children:"Practice all 22 PTE question types with AI-powered feedback"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(c,{className:y?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"p-4 text-center",children:[!y&&o.jsx(m,{className:"w-6 h-6 text-pink-400 mx-auto mb-2"}),o.jsx("p",{className:"text-2xl font-bold",style:{color:u.textPrimary},children:E.reduce((e,r)=>e+(B[r.id]||0),0)}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Speaking & Writing"})]})}),o.jsx(c,{className:y?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"p-4 text-center",children:[!y&&o.jsx(x,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),o.jsx("p",{className:"text-2xl font-bold",style:{color:u.textPrimary},children:$.reduce((e,r)=>e+(B[r.id]||0),0)}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Reading Items"})]})}),o.jsx(c,{className:y?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"p-4 text-center",children:[!y&&o.jsx(g,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),o.jsx("p",{className:"text-2xl font-bold",style:{color:u.textPrimary},children:A.length}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Listening Tests"})]})}),o.jsx(c,{className:y?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"p-4 text-center",children:[!y&&o.jsx(_,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),o.jsx("p",{className:"text-2xl font-bold",style:{color:u.textPrimary},children:Object.values(R).reduce((e,r)=>e+r,0)}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Completed"})]})})]}),o.jsxs(w,{value:C,onValueChange:P,className:"space-y-6",children:[o.jsxs(N,{className:"grid w-full grid-cols-3 "+(y?"":"bg-white/5 border border-white/10"),style:y?{backgroundColor:"transparent",borderBottom:`1px solid ${u.border}`}:void 0,children:[o.jsxs(k,{value:"speaking-writing",className:y?"":"data-[state=active]:bg-pink-500/20 data-[state=active]:text-pink-400",style:y?{backgroundColor:"speaking-writing"===C?u.theme.colors.cardBackground:"transparent",color:"speaking-writing"===C?u.textPrimary:u.textSecondary,border:"speaking-writing"===C?`1px solid ${u.border}`:"none",borderBottom:"none"}:void 0,children:[!y&&o.jsx(m,{className:"w-4 h-4 mr-2"}),"Speaking & Writing"]}),o.jsxs(k,{value:"reading",className:y?"":"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",style:y?{backgroundColor:"reading"===C?u.theme.colors.cardBackground:"transparent",color:"reading"===C?u.textPrimary:u.textSecondary,border:"reading"===C?`1px solid ${u.border}`:"none",borderBottom:"none"}:void 0,children:[!y&&o.jsx(x,{className:"w-4 h-4 mr-2"}),"Reading"]}),o.jsxs(k,{value:"listening",className:y?"":"data-[state=active]:bg-green-500/20 data-[state=active]:text-green-400",style:y?{backgroundColor:"listening"===C?u.theme.colors.cardBackground:"transparent",color:"listening"===C?u.textPrimary:u.textSecondary,border:"listening"===C?`1px solid ${u.border}`:"none",borderBottom:"none"}:void 0,children:[!y&&o.jsx(g,{className:"w-4 h-4 mr-2"}),"Listening"]})]}),o.jsxs(v,{value:"speaking-writing",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",style:{color:u.textPrimary},children:"Speaking & Writing (9 types)"}),o.jsx("p",{className:"text-sm",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Practice speaking fluency and written expression"})]}),o.jsx(n,{className:y?"":"bg-pink-500/20 text-pink-400 border-pink-400/30",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:void 0,children:"77-93 minutes in real test"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>o.jsx(L,{type:e,skill:"speaking_writing",count:B[e.id]||0},e.id))})]}),o.jsxs(v,{value:"reading",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",style:{color:u.textPrimary},children:"Reading (5 types)"}),o.jsx("p",{className:"text-sm",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Test your reading comprehension skills"})]}),o.jsx(n,{className:y?"":"bg-blue-500/20 text-blue-400 border-blue-400/30",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:void 0,children:"32-41 minutes in real test"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(e=>o.jsx(L,{type:e,skill:"reading",count:B[e.id]||0},e.id))})]}),o.jsxs(v,{value:"listening",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",style:{color:u.textPrimary},children:"Listening (8 types)"}),o.jsx("p",{className:"text-sm",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Practice with audio-based questions"})]}),o.jsx(n,{className:y?"":"bg-green-500/20 text-green-400 border-green-400/30",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:void 0,children:"45-57 minutes in real test"})]}),o.jsx(c,{className:y?"":"bg-green-500/5 border-green-500/20",style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"pt-4",children:[o.jsx("h3",{className:"font-medium mb-3 "+(y?"":"text-green-400"),style:y?{color:u.textPrimary}:void 0,children:"Question Types in Each Test:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:D.map(e=>{const r=e.icon;return o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[!y&&o.jsx(r,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{style:{color:y?u.textSecondary:"rgb(209 213 219)"},children:e.name})]},e.id)})})]})}),A.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>o.jsx(c,{className:"rounded-2xl p-4 transition-all duration-200 cursor-pointer "+(y?"":"bg-white/5 border-white/10 backdrop-blur-xl hover:bg-white/10"),onClick:()=>{return r=e.id,void b(`/pte-listening/${r}`);var r},style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"p-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[!y&&o.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:o.jsx(g,{className:"w-5 h-5 text-green-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",style:{color:u.textPrimary},children:e.test_name}),o.jsx("p",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"8 question types"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[e.audio_url?o.jsx(n,{className:y?"":"bg-green-500/20 text-green-400 text-xs",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:void 0,children:"Audio ready"}):o.jsx(n,{className:y?"":"bg-yellow-500/20 text-yellow-400 text-xs",style:y?{backgroundColor:"transparent",border:`1px solid ${u.border}`,color:u.textSecondary}:void 0,children:"No audio"}),o.jsx("span",{className:"text-xs",style:{color:y?u.textSecondary:"rgb(107 114 128)"},children:new Date(e.created_at).toLocaleDateString()})]}),o.jsx(p,{className:"w-full "+(y?"":"bg-green-600 hover:bg-green-700 text-white"),size:"sm",style:y?{backgroundColor:u.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:"Start Practice"})]})},e.id))}):o.jsx(c,{className:"border-dashed "+(y?"":"bg-white/5 border-white/10"),style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs(d,{className:"py-12 text-center",children:[!y&&o.jsx(g,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),o.jsx("p",{style:{color:y?u.textPrimary:"rgb(156 163 175)"},children:"No listening tests available yet"}),o.jsx("p",{className:"text-sm",style:{color:y?u.textSecondary:"rgb(107 114 128)"},children:"Check back later for new content"})]})})]})]}),o.jsx("section",{className:"rounded-3xl p-8 backdrop-blur-xl "+(y?"":"bg-white/5 border border-white/10"),style:y?{backgroundColor:u.theme.colors.cardBackground,borderColor:u.border}:void 0,children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:u.textPrimary},children:"Ready to Start?"}),o.jsx("p",{className:"mb-6",style:{color:y?u.textSecondary:"rgb(156 163 175)"},children:"Choose a question type above to begin practicing"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(p,{onClick:()=>b("/dashboard"),variant:"outline",className:y?"":"border-white/20 text-white hover:bg-white/10",style:y?{borderColor:u.border,color:u.textPrimary}:void 0,children:"My Dashboard"}),o.jsx(p,{onClick:()=>b("/ielts-portal"),className:y?"":"bg-violet-600 hover:bg-violet-700 text-white",style:y?{backgroundColor:u.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:"Try IELTS Instead"})]})]})})]})})})]})};export{q as default};
