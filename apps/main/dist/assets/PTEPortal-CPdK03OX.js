import{u as e,r,j as s}from"./vendor-react-rLLBBC7n.js";import{E as t,q as o,s as a,x as i,M as l,y as n,e as c,C as d,a as m,B as x}from"./index-KxDfHqNJ.js";import{T as g,a as b,b as p,c as h}from"./tabs-BVz_B7Kx.js";import{aO as u,ao as y,aJ as j,bj as w,aw as v,as as N,K as k,ap as f,ax as _,a$ as S,b0 as C,b1 as P,b2 as B,b3 as E,b4 as T}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";const $=[{id:"read_aloud",name:"Read Aloud",icon:v,description:"Read text aloud clearly"},{id:"repeat_sentence",name:"Repeat Sentence",icon:N,description:"Repeat exactly what you hear"},{id:"describe_image",name:"Describe Image",icon:k,description:"Describe an image in detail"},{id:"retell_lecture",name:"Retell Lecture",icon:u,description:"Retell a lecture in your words"},{id:"answer_short_question",name:"Answer Short Question",icon:N,description:"Give a brief answer"},{id:"summarize_group_discussion",name:"Summarize Discussion",icon:N,description:"Summarize group discussion"},{id:"respond_to_situation",name:"Respond to Situation",icon:N,description:"Respond appropriately"},{id:"summarize_written_text",name:"Summarize Written Text",icon:f,description:"Write a one-sentence summary"},{id:"write_essay",name:"Write Essay",icon:_,description:"Write a 200-300 word essay"}],A=[{id:"fill_blanks_dropdown",name:"Fill Blanks (Dropdown)",icon:S,description:"Select from dropdown options"},{id:"mcq_multiple_answers",name:"MCQ Multiple Answers",icon:C,description:"Select all correct answers"},{id:"reorder_paragraph",name:"Reorder Paragraph",icon:P,description:"Arrange paragraphs correctly"},{id:"fill_blanks_drag_drop",name:"Fill Blanks (Drag & Drop)",icon:B,description:"Drag words to fill blanks"},{id:"mcq_single_answer",name:"MCQ Single Answer",icon:C,description:"Select one correct answer"}],D=[{id:"summarize_spoken_text",name:"Summarize Spoken Text",icon:f,description:"Write 50-70 word summary"},{id:"listening_mcq_multiple",name:"MCQ Multiple Answers",icon:C,description:"Select all correct answers"},{id:"fill_blanks_type_in",name:"Fill Blanks (Type In)",icon:B,description:"Type the missing words"},{id:"highlight_correct_summary",name:"Highlight Summary",icon:E,description:"Select best summary"},{id:"listening_mcq_single",name:"MCQ Single Answer",icon:C,description:"Select one correct answer"},{id:"select_missing_word",name:"Select Missing Word",icon:T,description:"Select completing word"},{id:"highlight_incorrect_words",name:"Highlight Incorrect",icon:E,description:"Click differing words"},{id:"write_from_dictation",name:"Write from Dictation",icon:_,description:"Type the sentence you hear"}],R=()=>{const v=e(),{user:N}=t(),k=o(),f="note"===k.theme.name,[_,S]=r.useState(!0),[C,P]=r.useState("speaking-writing"),[B,E]=r.useState({}),[T,R]=r.useState([]),[q,M]=r.useState({});r.useEffect(()=>{W()},[N]);const W=async()=>{S(!0);try{await Promise.all([z(),F(),N?I():Promise.resolve()])}catch(e){console.error("Error loading data:",e)}finally{S(!1)}},z=async()=>{try{const{data:e,error:r}=await a.from("pte_items").select("pte_section_type");if(r)throw r;const s={};null==e||e.forEach(e=>{s[e.pte_section_type]=(s[e.pte_section_type]||0)+1}),E(s)}catch(e){console.error("Error loading item counts:",e)}},F=async()=>{try{const{data:e,error:r}=await a.from("pte_listening_tests").select("*").order("created_at",{ascending:!1});if(r)throw r;R(e||[])}catch(e){console.error("Error loading listening tests:",e)}},I=async()=>{if(N)try{const{data:e,error:r}=await a.from("pte_user_progress").select("pte_section_type").eq("user_id",N.id).eq("completed",!0);if(r)throw r;const s={};null==e||e.forEach(e=>{s[e.pte_section_type]=(s[e.pte_section_type]||0)+1}),M(s)}catch(e){console.error("Error loading user progress:",e)}};if(_)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:k.theme.colors.background},children:s.jsx(i,{})});const L=({type:e,skill:r,count:t})=>{const o=e.icon,a=q[e.id]||0,i=t>0;return s.jsx(d,{className:`relative rounded-2xl p-4 transition-all duration-200 ${i?"cursor-pointer hover:scale-[1.02]":"opacity-50"} ${f?"":"bg-white/5 border-white/10 backdrop-blur-xl hover:bg-white/10"}`,onClick:()=>i&&((e,r)=>{0!==(B[e.id]||0)&&v("speaking_writing"===r?`/pte-speaking/${e.id}`:`/pte-reading/${e.id}`)})(e,r),style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border,borderWidth:"1px"}:void 0,children:s.jsxs(m,{className:"p-0 space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[!f&&s.jsx("div",{className:"p-2 rounded-lg "+("speaking_writing"===r?"bg-pink-500/20":"bg-blue-500/20"),children:s.jsx(o,{className:"w-5 h-5 "+("speaking_writing"===r?"text-pink-400":"text-blue-400")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",style:{color:k.textPrimary},children:e.name}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:e.description})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(c,{variant:"secondary",className:"text-xs",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:{backgroundColor:i?"rgba(255,255,255,0.1)":"rgba(55,65,81,1)",color:i?"white":"rgb(156,163,175)"},children:[t," items"]}),a>0&&s.jsxs(c,{variant:"secondary",className:"text-xs",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:{backgroundColor:"rgba(34,197,94,0.2)",color:"rgb(74,222,128)"},children:[a," completed"]})]})]})})};return s.jsxs("div",{className:"min-h-screen relative "+(f?"font-serif":"bg-gray-950"),style:f?{backgroundColor:k.theme.colors.background}:void 0,children:[!f&&s.jsx(l,{raysOrigin:"top-center",raysColor:"#7C3AED",raysSpeed:.6,lightSpread:2,rayLength:1.2,pulsating:!1,fadeDistance:.8,saturation:.4,followMouse:!0,mouseInfluence:.05,noiseAmount:.02,distortion:.02,className:"absolute inset-0 z-0"}),s.jsx("div",{className:"relative z-10",children:s.jsx(n,{title:"PTE Academic Portal",showBackButton:!0,children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(c,{variant:"outline",className:"mb-4 px-4 py-1 "+(f?"":"text-violet-400 border-violet-400/20"),style:f?{borderColor:k.border,color:k.textSecondary}:void 0,children:"PTE ACADEMIC"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:k.textPrimary},children:"PTE Academic Test Preparation"}),s.jsx("p",{className:"max-w-2xl mx-auto",style:{color:f?k.textSecondary:"rgb(209 213 219)"},children:"Practice all 22 PTE question types with AI-powered feedback"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(d,{className:f?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"p-4 text-center",children:[!f&&s.jsx(u,{className:"w-6 h-6 text-pink-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:k.textPrimary},children:$.reduce((e,r)=>e+(B[r.id]||0),0)}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Speaking & Writing"})]})}),s.jsx(d,{className:f?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"p-4 text-center",children:[!f&&s.jsx(y,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:k.textPrimary},children:A.reduce((e,r)=>e+(B[r.id]||0),0)}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Reading Items"})]})}),s.jsx(d,{className:f?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"p-4 text-center",children:[!f&&s.jsx(j,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:k.textPrimary},children:T.length}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Listening Tests"})]})}),s.jsx(d,{className:f?"":"bg-white/5 border-white/10 backdrop-blur-xl",style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"p-4 text-center",children:[!f&&s.jsx(w,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:k.textPrimary},children:Object.values(q).reduce((e,r)=>e+r,0)}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Completed"})]})})]}),s.jsxs(g,{value:C,onValueChange:P,className:"space-y-6",children:[s.jsxs(b,{className:"grid w-full grid-cols-3 "+(f?"":"bg-white/5 border border-white/10"),style:f?{backgroundColor:"transparent",borderBottom:`1px solid ${k.border}`}:void 0,children:[s.jsxs(p,{value:"speaking-writing",className:f?"":"data-[state=active]:bg-pink-500/20 data-[state=active]:text-pink-400",style:f?{backgroundColor:"speaking-writing"===C?k.theme.colors.cardBackground:"transparent",color:"speaking-writing"===C?k.textPrimary:k.textSecondary,border:"speaking-writing"===C?`1px solid ${k.border}`:"none",borderBottom:"none"}:void 0,children:[!f&&s.jsx(u,{className:"w-4 h-4 mr-2"}),"Speaking & Writing"]}),s.jsxs(p,{value:"reading",className:f?"":"data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",style:f?{backgroundColor:"reading"===C?k.theme.colors.cardBackground:"transparent",color:"reading"===C?k.textPrimary:k.textSecondary,border:"reading"===C?`1px solid ${k.border}`:"none",borderBottom:"none"}:void 0,children:[!f&&s.jsx(y,{className:"w-4 h-4 mr-2"}),"Reading"]}),s.jsxs(p,{value:"listening",className:f?"":"data-[state=active]:bg-green-500/20 data-[state=active]:text-green-400",style:f?{backgroundColor:"listening"===C?k.theme.colors.cardBackground:"transparent",color:"listening"===C?k.textPrimary:k.textSecondary,border:"listening"===C?`1px solid ${k.border}`:"none",borderBottom:"none"}:void 0,children:[!f&&s.jsx(j,{className:"w-4 h-4 mr-2"}),"Listening"]})]}),s.jsxs(h,{value:"speaking-writing",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",style:{color:k.textPrimary},children:"Speaking & Writing (9 types)"}),s.jsx("p",{className:"text-sm",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Practice speaking fluency and written expression"})]}),s.jsx(c,{className:f?"":"bg-pink-500/20 text-pink-400 border-pink-400/30",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:void 0,children:"77-93 minutes in real test"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(e=>s.jsx(L,{type:e,skill:"speaking_writing",count:B[e.id]||0},e.id))})]}),s.jsxs(h,{value:"reading",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",style:{color:k.textPrimary},children:"Reading (5 types)"}),s.jsx("p",{className:"text-sm",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Test your reading comprehension skills"})]}),s.jsx(c,{className:f?"":"bg-blue-500/20 text-blue-400 border-blue-400/30",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:void 0,children:"32-41 minutes in real test"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>s.jsx(L,{type:e,skill:"reading",count:B[e.id]||0},e.id))})]}),s.jsxs(h,{value:"listening",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",style:{color:k.textPrimary},children:"Listening (8 types)"}),s.jsx("p",{className:"text-sm",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Practice with audio-based questions"})]}),s.jsx(c,{className:f?"":"bg-green-500/20 text-green-400 border-green-400/30",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:void 0,children:"45-57 minutes in real test"})]}),s.jsx(d,{className:f?"":"bg-green-500/5 border-green-500/20",style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"pt-4",children:[s.jsx("h3",{className:"font-medium mb-3 "+(f?"":"text-green-400"),style:f?{color:k.textPrimary}:void 0,children:"Question Types in Each Test:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:D.map(e=>{const r=e.icon;return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[!f&&s.jsx(r,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{style:{color:f?k.textSecondary:"rgb(209 213 219)"},children:e.name})]},e.id)})})]})}),T.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(e=>s.jsx(d,{className:"rounded-2xl p-4 transition-all duration-200 cursor-pointer "+(f?"":"bg-white/5 border-white/10 backdrop-blur-xl hover:bg-white/10"),onClick:()=>{return r=e.id,void v(`/pte-listening/${r}`);var r},style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"p-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[!f&&s.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:s.jsx(j,{className:"w-5 h-5 text-green-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",style:{color:k.textPrimary},children:e.test_name}),s.jsx("p",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"8 question types"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[e.audio_url?s.jsx(c,{className:f?"":"bg-green-500/20 text-green-400 text-xs",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:void 0,children:"Audio ready"}):s.jsx(c,{className:f?"":"bg-yellow-500/20 text-yellow-400 text-xs",style:f?{backgroundColor:"transparent",border:`1px solid ${k.border}`,color:k.textSecondary}:void 0,children:"No audio"}),s.jsx("span",{className:"text-xs",style:{color:f?k.textSecondary:"rgb(107 114 128)"},children:new Date(e.created_at).toLocaleDateString()})]}),s.jsx(x,{className:"w-full "+(f?"":"bg-green-600 hover:bg-green-700 text-white"),size:"sm",style:f?{backgroundColor:k.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:"Start Practice"})]})},e.id))}):s.jsx(d,{className:"border-dashed "+(f?"":"bg-white/5 border-white/10"),style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs(m,{className:"py-12 text-center",children:[!f&&s.jsx(j,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),s.jsx("p",{style:{color:f?k.textPrimary:"rgb(156 163 175)"},children:"No listening tests available yet"}),s.jsx("p",{className:"text-sm",style:{color:f?k.textSecondary:"rgb(107 114 128)"},children:"Check back later for new content"})]})})]})]}),s.jsx("section",{className:"rounded-3xl p-8 backdrop-blur-xl "+(f?"":"bg-white/5 border border-white/10"),style:f?{backgroundColor:k.theme.colors.cardBackground,borderColor:k.border}:void 0,children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:k.textPrimary},children:"Ready to Start?"}),s.jsx("p",{className:"mb-6",style:{color:f?k.textSecondary:"rgb(156 163 175)"},children:"Choose a question type above to begin practicing"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(x,{onClick:()=>v("/dashboard"),variant:"outline",className:f?"":"border-white/20 text-white hover:bg-white/10",style:f?{borderColor:k.border,color:k.textPrimary}:void 0,children:"My Dashboard"}),s.jsx(x,{onClick:()=>v("/ielts-portal"),className:f?"":"bg-violet-600 hover:bg-violet-700 text-white",style:f?{backgroundColor:k.theme.colors.buttonPrimary,color:"#FFF"}:void 0,children:"Try IELTS Instead"})]})]})})]})})})]})};export{R as default};
