import{u as e,j as a,r as s}from"./vendor-react-rLLBBC7n.js";import{s as t,I as l,S as r,i,j as n,k as c,l as o,C as d,a as x,e as m,B as u}from"./index-BDl0jLJK.js";import{S as h}from"./slider-BZdCL2PQ.js";import{H as g}from"./Header-B_feYwRL.js";import{u as p}from"./vendor-i18n-gE2_DBDv.js";import{aJ as j,aW as v,cs as f,y as b,cE as y,aK as N,aL as w,cF as k,bc as C,h as S,j as V,c9 as P,aw as E}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";import"./dropdown-menu-DF6eZyHV.js";const L=()=>{const s=e(),{t:t}=p(),l=(new Date).getFullYear();return a.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12 mt-auto",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-1",children:[a.jsx("div",{className:"flex items-center gap-2 mb-4",children:a.jsx("img",{src:"/1000031328.png",alt:"English AIdol",className:"h-8 w-auto"})}),a.jsx("p",{className:"text-sm text-gray-400",children:"AI-powered English learning platform for IELTS, PTE, TOEFL, and more."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:t("footer.quickLinks",{defaultValue:"Quick Links"})}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/tests"),className:"text-sm hover:text-white transition-colors",children:t("navigation.tests",{defaultValue:"Tests"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/practice"),className:"text-sm hover:text-white transition-colors",children:t("navigation.practice",{defaultValue:"Practice"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/pricing"),className:"text-sm hover:text-white transition-colors",children:t("navigation.pricing",{defaultValue:"Pricing"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/podcasts"),className:"text-sm hover:text-white transition-colors",children:t("navigation.podcasts",{defaultValue:"Podcasts"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:t("footer.resources",{defaultValue:"Resources"})}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/en/blog"),className:"text-sm hover:text-white transition-colors",children:t("navigation.blog",{defaultValue:"Blog"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/grammar"),className:"text-sm hover:text-white transition-colors",children:t("navigation.grammar",{defaultValue:"Grammar"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/vocabulary"),className:"text-sm hover:text-white transition-colors",children:t("navigation.vocabulary",{defaultValue:"Vocabulary"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/support"),className:"text-sm hover:text-white transition-colors",children:t("navigation.support",{defaultValue:"Support"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-4",children:t("footer.legal",{defaultValue:"Legal"})}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/privacy-policy"),className:"text-sm hover:text-white transition-colors",children:t("footer.privacyPolicy",{defaultValue:"Privacy Policy"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/terms-of-service"),className:"text-sm hover:text-white transition-colors",children:t("footer.termsOfService",{defaultValue:"Terms of Service"})})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>s("/refund-policy"),className:"text-sm hover:text-white transition-colors",children:t("footer.refundPolicy",{defaultValue:"Refund Policy"})})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-500",children:a.jsxs("p",{children:["Â© ",l," English AIdol. All rights reserved."]})})]})})},T=[{value:"all",label:"All Categories"},{value:"general",label:"General English"},{value:"ielts",label:"IELTS Preparation"},{value:"business",label:"Business English"},{value:"pronunciation",label:"Pronunciation"},{value:"vocabulary",label:"Vocabulary"},{value:"grammar",label:"Grammar"},{value:"listening",label:"Listening Practice"},{value:"culture",label:"Culture & Idioms"}],_=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},{value:"intermediate",label:"Intermediate",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},{value:"advanced",label:"Advanced",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}],I=()=>{var e;p();const[I,z]=s.useState([]),[A,M]=s.useState([]),[q,B]=s.useState(!0),[F,G]=s.useState(""),[R,H]=s.useState("all"),[O,$]=s.useState("all"),[D,J]=s.useState(null),[K,Q]=s.useState(!1),[U,W]=s.useState(0),[Y,X]=s.useState(0),[Z,ee]=s.useState(.8),[ae,se]=s.useState(!1),[te,le]=s.useState(!1),re=s.useRef(null);s.useEffect(()=>{ie()},[]),s.useEffect(()=>{ne()},[I,F,R,O]),s.useEffect(()=>{re.current&&(re.current.volume=ae?0:Z)},[Z,ae]);const ie=async()=>{try{B(!0);const{data:e,error:a}=await t.from("podcasts").select("*").eq("is_published",!0).order("created_at",{ascending:!1});if(a)throw a;z(e||[])}catch(e){console.error("Error loading podcasts:",e)}finally{B(!1)}},ne=()=>{let e=[...I];if(F){const a=F.toLowerCase();e=e.filter(e=>{var s;return e.title.toLowerCase().includes(a)||(null==(s=e.description)?void 0:s.toLowerCase().includes(a))})}"all"!==R&&(e=e.filter(e=>e.category===R)),"all"!==O&&(e=e.filter(e=>e.level===O)),M(e)},ce=async e=>{(null==D?void 0:D.id)===e.id?oe():(J(e),Q(!0),le(!1),await t.from("podcasts").update({play_count:e.play_count+1}).eq("id",e.id))},oe=()=>{re.current&&(K?re.current.pause():re.current.play(),Q(!K))},de=()=>{if(!D)return;const e=A.findIndex(e=>e.id===D.id);e<A.length-1&&ce(A[e+1])},xe=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,me=e=>{var a;return(null==(a=_.find(a=>a.value===e))?void 0:a.color)||""};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-fuchsia-50 dark:from-gray-900 dark:via-purple-950 dark:to-gray-900",children:[a.jsx(g,{}),a.jsx("audio",{ref:re,src:null==D?void 0:D.audio_url,onTimeUpdate:()=>{re.current&&W(re.current.currentTime)},onLoadedMetadata:()=>{re.current&&X(re.current.duration)},onEnded:de,onPlay:()=>Q(!0),onPause:()=>Q(!1),autoPlay:K}),a.jsxs("main",{className:"container mx-auto px-4 py-8 pb-40",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 mb-6 shadow-lg",children:a.jsx(j,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"English Podcasts"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Improve your English listening skills with our curated collection of podcasts. Listen anytime, anywhere at your own pace."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(l,{placeholder:"Search podcasts...",value:F,onChange:e=>G(e.target.value),className:"pl-10 bg-white dark:bg-gray-800"})]}),a.jsxs(r,{value:R,onValueChange:H,children:[a.jsxs(i,{className:"w-full md:w-48 bg-white dark:bg-gray-800",children:[a.jsx(f,{className:"w-4 h-4 mr-2"}),a.jsx(n,{placeholder:"Category"})]}),a.jsx(c,{children:T.map(e=>a.jsx(o,{value:e.value,children:e.label},e.value))})]}),a.jsxs(r,{value:O,onValueChange:$,children:[a.jsx(i,{className:"w-full md:w-40 bg-white dark:bg-gray-800",children:a.jsx(n,{placeholder:"Level"})}),a.jsx(c,{children:_.map(e=>a.jsx(o,{value:e.value,children:e.label},e.value))})]})]}),q?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[a.jsx(b,{className:"w-10 h-10 animate-spin text-purple-500 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading podcasts..."})]}):0===A.length?a.jsxs("div",{className:"text-center py-20",children:[a.jsx(y,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Podcasts Found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:F||"all"!==R||"all"!==O?"Try adjusting your filters":"Check back soon for new episodes!"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>{var s,t;return a.jsxs(d,{className:"group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.02] overflow-hidden "+((null==D?void 0:D.id)===e.id?"ring-2 ring-purple-500 shadow-lg":""),onClick:()=>ce(e),children:[a.jsxs("div",{className:"relative aspect-square",children:[e.cover_image_url?a.jsx("img",{src:e.cover_image_url,alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center",children:a.jsx(j,{className:"w-20 h-20 text-white/80"})}),a.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:(null==D?void 0:D.id)===e.id&&K?a.jsx(N,{className:"w-8 h-8 text-purple-600"}):a.jsx(w,{className:"w-8 h-8 text-purple-600 ml-1"})})}),a.jsx("div",{className:"absolute bottom-3 right-3 bg-black/70 text-white text-sm px-2 py-1 rounded",children:xe(e.duration_seconds||0)}),(null==D?void 0:D.id)===e.id&&K&&a.jsxs("div",{className:"absolute top-3 left-3 bg-purple-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"Now Playing"]})]}),a.jsxs(x,{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 flex-1",children:e.title})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3",children:e.description||"No description available"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(m,{variant:"outline",className:me(e.level),children:null==(s=_.find(a=>a.value===e.level))?void 0:s.label}),a.jsx("span",{className:"text-xs text-gray-500",children:null==(t=T.find(a=>a.value===e.category))?void 0:t.label}),a.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1 ml-auto",children:[a.jsx(j,{className:"w-3 h-3"}),e.play_count]})]})]})]},e.id)})})]}),D&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-t border-gray-200 dark:border-gray-700 shadow-2xl z-50",children:[te&&D.transcript&&a.jsxs("div",{className:"max-h-48 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Transcript"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:D.transcript})]}),a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[D.cover_image_url?a.jsx("img",{src:D.cover_image_url,alt:D.title,className:"w-14 h-14 rounded-lg object-cover"}):a.jsx("div",{className:"w-14 h-14 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx(j,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:D.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:null==(e=T.find(e=>e.value===D.category))?void 0:e.label})]})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(u,{variant:"ghost",size:"icon",onClick:()=>{if(!D)return;const e=A.findIndex(e=>e.id===D.id);e>0&&ce(A[e-1])},className:"text-gray-600 dark:text-gray-400",children:a.jsx(k,{className:"w-5 h-5"})}),a.jsx(u,{variant:"ghost",size:"icon",onClick:()=>{re.current&&(re.current.currentTime=Math.max(re.current.currentTime-15,0))},className:"text-gray-600 dark:text-gray-400",children:a.jsx("span",{className:"text-xs font-medium",children:"-15"})}),a.jsx(u,{onClick:oe,className:"w-12 h-12 rounded-full bg-purple-600 hover:bg-purple-700 text-white",children:K?a.jsx(N,{className:"w-6 h-6"}):a.jsx(w,{className:"w-6 h-6 ml-1"})}),a.jsx(u,{variant:"ghost",size:"icon",onClick:()=>{re.current&&(re.current.currentTime=Math.min(re.current.currentTime+15,Y))},className:"text-gray-600 dark:text-gray-400",children:a.jsx("span",{className:"text-xs font-medium",children:"+15"})}),a.jsx(u,{variant:"ghost",size:"icon",onClick:de,className:"text-gray-600 dark:text-gray-400",children:a.jsx(C,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-2 w-full max-w-md",children:[a.jsx("span",{className:"text-xs text-gray-500 w-10 text-right",children:xe(U)}),a.jsx(h,{value:[U],max:Y||100,step:1,onValueChange:e=>{re.current&&(re.current.currentTime=e[0],W(e[0]))},className:"flex-1"}),a.jsx("span",{className:"text-xs text-gray-500 w-10",children:xe(Y)})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[D.transcript&&a.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>le(!te),className:"hidden md:flex gap-1",children:[te?a.jsx(S,{className:"w-4 h-4"}):a.jsx(V,{className:"w-4 h-4"}),"Transcript"]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[a.jsx(u,{variant:"ghost",size:"icon",onClick:()=>se(!ae),className:"text-gray-600 dark:text-gray-400",children:ae||0===Z?a.jsx(P,{className:"w-5 h-5"}):a.jsx(E,{className:"w-5 h-5"})}),a.jsx(h,{value:[ae?0:100*Z],max:100,step:1,onValueChange:e=>{ee(e[0]/100),se(!1)},className:"w-24"})]})]})]})})]}),!D&&a.jsx(L,{})]})};export{I as default};
