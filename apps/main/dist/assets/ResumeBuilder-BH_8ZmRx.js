import{j as e,aA as s,u as a,ae as t,h as l,a1 as i,r,a9 as n,bn as c,aa as o,a7 as d,k as m,B as x,E as h,C as p,b as j,d as u,F as g,a as N,R as f,I as v,T as b,P as y,l as w,ao as k,y as C,O as S,ax as P,D,m as L,n as E,o as A,bp as M,U as F}from"./index-CCrhrMPI.js";import{T as z,a as _,b as U,c as B}from"./tabs-BkiqQW0C.js";import{s as I}from"./supabase-DWL4C3fA.js";import T from"./html2canvas.esm-BTH0Ap93.js";import{E as R}from"./jspdf.es.min-CwqyglcI.js";import{S as G}from"./save-CGhourib.js";import{T as O}from"./trash-2-CfUw_ieB.js";import{L as W}from"./lightbulb-jf-2WB6T.js";import{C as V}from"./circle-alert-BxkfQePb.js";import{M as q}from"./mail-ClMLtALz.js";import{D as H}from"./download-B-WDB7N_.js";const J=[{id:"harvard-classic",name:"Harvard Classic",description:"Single column, serif font, minimal",bestFor:"Law, Finance, Consulting",component:({data:a,className:t})=>e.jsxs("div",{className:s("bg-white text-black p-8 font-serif max-w-[8.5in] mx-auto",t),children:[e.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-wide uppercase mb-2",children:a.fullName}),e.jsxs("div",{className:"text-sm space-x-3",children:[e.jsx("span",{children:a.email}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.phone}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.location}),a.linkedinUrl&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:"LinkedIn"})]})]})]}),a.summary&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider border-b border-gray-300 pb-1 mb-3",children:"Professional Summary"}),e.jsx("p",{className:"text-sm leading-relaxed",children:a.summary})]}),a.experience.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider border-b border-gray-300 pb-1 mb-3",children:"Experience"}),a.experience.map(s=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("h3",{className:"font-bold",children:s.company}),e.jsx("span",{className:"text-sm",children:s.location})]}),e.jsxs("div",{className:"flex justify-between items-baseline text-sm italic",children:[e.jsx("span",{children:s.position}),e.jsxs("span",{children:[s.startDate," â€“ ",s.current?"Present":s.endDate]})]}),e.jsx("ul",{className:"mt-2 list-disc list-inside text-sm space-y-1",children:s.achievements.map((s,a)=>e.jsx("li",{children:s},a))})]},s.id))]}),a.education.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider border-b border-gray-300 pb-1 mb-3",children:"Education"}),a.education.map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("h3",{className:"font-bold",children:s.institution}),e.jsx("span",{className:"text-sm",children:s.graduationDate})]}),e.jsxs("p",{className:"text-sm",children:[s.degree," in ",s.field]}),s.gpa&&e.jsxs("p",{className:"text-sm",children:["GPA: ",s.gpa]}),s.honors&&e.jsx("p",{className:"text-sm italic",children:s.honors})]},s.id))]}),a.skills.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider border-b border-gray-300 pb-1 mb-3",children:"Skills"}),e.jsx("p",{className:"text-sm",children:a.skills.join(" â€¢ ")})]}),a.certifications.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-bold uppercase tracking-wider border-b border-gray-300 pb-1 mb-3",children:"Certifications"}),e.jsx("ul",{className:"text-sm space-y-1",children:a.certifications.map(s=>e.jsxs("li",{children:[s.name," â€“ ",s.issuer," (",s.date,")"]},s.id))})]})]}),preview:"/templates/harvard-classic.png"},{id:"modern-professional",name:"Modern Professional",description:"Two columns, clean sans-serif",bestFor:"Tech, Marketing, Design",component:({data:a,className:t})=>e.jsxs("div",{className:s("bg-white text-gray-800 p-8 font-sans max-w-[8.5in] mx-auto",t),children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-4xl font-light tracking-tight text-gray-900",children:a.fullName}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center",children:"ðŸ“§"}),a.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center",children:"ðŸ“±"}),a.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center",children:"ðŸ“"}),a.location]}),a.linkedinUrl&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center",children:"ðŸ’¼"}),"LinkedIn"]})]})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex-1",children:[a.summary&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-2",children:"About"}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:a.summary})]}),a.experience.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Experience"}),a.experience.map(s=>e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.position}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.company," | ",s.location]})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[s.startDate," â€“ ",s.current?"Present":s.endDate]})]}),e.jsx("ul",{className:"mt-2 text-sm text-gray-700 space-y-1",children:s.achievements.map((s,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1.5",children:"â–¸"}),s]},a))})]},s.id))]}),a.projects.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Projects"}),a.projects.map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-700",children:s.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.technologies.join(", ")})]},s.id))]})]}),e.jsxs("div",{className:"w-56",children:[a.skills.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.skills.map((s,a)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:s},a))})]}),a.education.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Education"}),a.education.map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:s.institution}),e.jsx("p",{className:"text-xs text-gray-600",children:s.degree}),e.jsx("p",{className:"text-xs text-gray-500",children:s.graduationDate})]},s.id))]}),a.certifications.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Certifications"}),a.certifications.map(s=>e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.issuer})]},s.id))]}),a.languages.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-blue-600 mb-3",children:"Languages"}),a.languages.map((s,a)=>e.jsxs("p",{className:"text-sm text-gray-700",children:[s.language," â€“ ",e.jsx("span",{className:"text-gray-500",children:s.proficiency})]},a))]})]})]})]}),preview:"/templates/modern-professional.png"},{id:"executive",name:"Executive",description:"Bold headers, achievement-focused",bestFor:"Senior roles, Management",component:({data:a,className:t})=>e.jsxs("div",{className:s("bg-white text-gray-900 p-8 font-sans max-w-[8.5in] mx-auto",t),children:[e.jsxs("div",{className:"bg-slate-900 text-white p-6 -mx-8 -mt-8 mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:a.fullName}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-slate-300",children:[e.jsx("span",{children:a.email}),e.jsx("span",{children:a.phone}),e.jsx("span",{children:a.location})]})]}),a.summary&&e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-0.5 bg-amber-500"}),"EXECUTIVE SUMMARY"]}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-700 pl-10",children:a.summary})]}),a.experience.length>0&&a.experience[0].achievements.length>0&&e.jsxs("section",{className:"mb-8 bg-amber-50 p-4 rounded-lg border-l-4 border-amber-500",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:"KEY ACHIEVEMENTS"}),e.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:a.experience.slice(0,2).flatMap(e=>e.achievements.slice(0,2)).map((s,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-600 font-bold",children:"âœ“"}),s]},a))})]}),a.experience.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-0.5 bg-amber-500"}),"PROFESSIONAL EXPERIENCE"]}),a.experience.map(s=>e.jsxs("div",{className:"mb-6 pl-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:s.position}),e.jsx("p",{className:"text-sm font-semibold text-amber-600",children:s.company})]}),e.jsxs("div",{className:"text-right text-sm text-gray-600",children:[e.jsx("p",{children:s.location}),e.jsxs("p",{children:[s.startDate," â€“ ",s.current?"Present":s.endDate]})]})]}),e.jsx("ul",{className:"text-sm text-gray-700 space-y-1 mt-2",children:s.achievements.map((s,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"â–ª"}),s]},a))})]},s.id))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.education.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-0.5 bg-amber-500"}),"EDUCATION"]}),a.education.map(s=>e.jsxs("div",{className:"mb-3 pl-10",children:[e.jsx("h3",{className:"font-bold text-slate-900",children:s.degree}),e.jsx("p",{className:"text-sm text-gray-600",children:s.institution}),e.jsx("p",{className:"text-xs text-gray-500",children:s.graduationDate})]},s.id))]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-0.5 bg-amber-500"}),"CORE COMPETENCIES"]}),e.jsx("div",{className:"pl-10 flex flex-wrap gap-2",children:a.skills.map((s,a)=>e.jsx("span",{className:"text-xs bg-slate-100 text-slate-700 px-3 py-1 rounded-full font-medium",children:s},a))})]})]})]}),preview:"/templates/executive.png"},{id:"minimalist",name:"Minimalist",description:"Maximum whitespace, ATS-optimized",bestFor:"Any industry",component:({data:a,className:t})=>e.jsxs("div",{className:s("bg-white text-gray-800 p-10 font-sans max-w-[8.5in] mx-auto",t),children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-light tracking-tight mb-1",children:a.fullName}),e.jsxs("div",{className:"text-sm text-gray-500 space-x-2",children:[e.jsx("span",{children:a.email}),e.jsx("span",{children:"|"}),e.jsx("span",{children:a.phone}),e.jsx("span",{children:"|"}),e.jsx("span",{children:a.location})]})]}),a.summary&&e.jsx("section",{className:"mb-8",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:a.summary})}),a.experience.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Experience"}),a.experience.map(s=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[e.jsx("span",{className:"font-medium",children:s.position}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.startDate," â€“ ",s.current?"Present":s.endDate]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[s.company,", ",s.location]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:s.achievements.map((s,a)=>e.jsxs("li",{children:["â€¢ ",s]},a))})]},s.id))]}),a.education.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Education"}),a.education.map(s=>e.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:s.degree}),e.jsxs("span",{className:"text-gray-500",children:[" â€” ",s.institution]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:s.graduationDate})]},s.id))]}),a.skills.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Skills"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.skills.join(" Â· ")})]}),a.certifications.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-4",children:"Certifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.certifications.map(e=>e.name).join(" Â· ")})]})]}),preview:"/templates/minimalist.png"},{id:"creative-corporate",name:"Creative Corporate",description:"Subtle accent colors, icons",bestFor:"Startups, Creative roles",component:({data:a,className:t})=>e.jsxs("div",{className:s("bg-white text-gray-800 max-w-[8.5in] mx-auto",t),children:[e.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white p-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:a.fullName}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-violet-100",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.email]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.phone]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.location]})]})]}),e.jsxs("div",{className:"p-8",children:[a.summary&&e.jsx("section",{className:"mb-8 p-4 bg-violet-50 rounded-lg border-l-4 border-violet-500",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.summary})}),e.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[e.jsxs("div",{className:"col-span-2",children:[a.experience.length>0&&e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Experience"]}),a.experience.map(s=>e.jsxs("div",{className:"mb-5 relative pl-4 border-l-2 border-violet-200",children:[e.jsx("div",{className:"absolute -left-1.5 top-0 w-3 h-3 bg-violet-500 rounded-full"}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.position}),e.jsx("p",{className:"text-sm text-violet-600",children:s.company})]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[s.startDate," â€“ ",s.current?"Present":s.endDate]})]}),e.jsx("ul",{className:"mt-2 text-sm text-gray-600 space-y-1",children:s.achievements.map((s,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-violet-400",children:"â†’"}),s]},a))})]},s.id))]}),a.projects.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Projects"]}),a.projects.map(s=>e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.technologies.map((s,a)=>e.jsx("span",{className:"text-xs bg-violet-100 text-violet-700 px-2 py-0.5 rounded",children:s},a))})]},s.id))]})]}),e.jsxs("div",{children:[a.skills.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.skills.map((s,a)=>e.jsx("span",{className:"text-xs bg-gradient-to-r from-violet-100 to-indigo-100 text-violet-700 px-2 py-1 rounded-full",children:s},a))})]}),a.education.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-3 flex items-center gap-2",children:[e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),e.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]}),"Education"]}),a.education.map(s=>e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:s.degree}),e.jsx("p",{className:"text-xs text-gray-600",children:s.institution}),e.jsx("p",{className:"text-xs text-gray-500",children:s.graduationDate})]},s.id))]}),a.certifications.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),"Certifications"]}),a.certifications.map(s=>e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.issuer," â€¢ ",s.date]})]},s.id))]}),a.languages.length>0&&e.jsxs("section",{children:[e.jsxs("h2",{className:"text-lg font-bold text-violet-600 mb-3 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),"Languages"]}),a.languages.map((s,a)=>e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-700",children:s.language}),e.jsx("span",{className:"text-gray-500",children:s.proficiency})]},a))]})]})]})]})]}),preview:"/templates/creative-corporate.png"}],Y={fullName:"",email:"",phone:"",location:"",linkedinUrl:"",portfolioUrl:"",summary:"",experience:[],education:[],skills:[],certifications:[],projects:[],languages:[]},K=()=>{var s;const K=a(),{user:$}=t(),{toast:X}=l(),Q=i(),Z=r.useRef(null),[ee,se]=r.useState(!0),[ae,te]=r.useState(!1),[le,ie]=r.useState(!1),[re,ne]=r.useState(!1),[ce,oe]=r.useState(!1),[de,me]=r.useState("harvard-classic"),[xe,he]=r.useState(Y),[pe,je]=r.useState(null),[ue,ge]=r.useState(""),[Ne,fe]=r.useState([]),[ve,be]=r.useState(null),[ye,we]=r.useState([]),[ke,Ce]=r.useState(!1),[Se,Pe]=r.useState(""),[De,Le]=r.useState(""),[Ee,Ae]=r.useState(""),[Me,Fe]=r.useState(!1);r.useEffect(()=>{(async()=>{if($)try{const{data:e,error:s}=await I.from("resumes").select("*").eq("user_id",$.id).eq("is_primary",!0).maybeSingle();s&&"PGRST116"!==s.code&&console.error("Error loading resume:",s),e&&(je(e.id),me(e.template_id||"harvard-classic"),he({fullName:e.full_name||"",email:e.email||"",phone:e.phone||"",location:e.location||"",linkedinUrl:e.linkedin_url||"",portfolioUrl:e.portfolio_url||"",summary:e.summary||"",experience:e.experience||[],education:e.education||[],skills:e.skills||[],certifications:e.certifications||[],projects:e.projects||[],languages:e.languages||[]}),ge(e.target_job_post||""),fe(e.extracted_keywords||[]),be(e.ats_score),we(e.ats_suggestions||[]))}catch(e){console.error("Error:",e)}finally{se(!1)}else se(!1)})()},[$]),r.useEffect(()=>{!$||xe.fullName||xe.email||he(e=>({...e,email:$.email||""}))},[$]);const ze=(e,s,a)=>{he(t=>({...t,experience:t.experience.map(t=>t.id===e?{...t,[s]:a}:t)}))},_e=(e,s,a)=>{he(t=>({...t,education:t.education.map(t=>t.id===e?{...t,[s]:a}:t)}))},[Ue,Be]=r.useState(""),Ie=()=>{Ue.trim()&&!xe.skills.includes(Ue.trim())&&(he(e=>({...e,skills:[...e.skills,Ue.trim()]})),Be(""))},Te=null==(s=J.find(e=>e.id===de))?void 0:s.component;return ee?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:Q.theme.colors.background},children:e.jsx(n,{})}):e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:Q.theme.colors.background},children:[e.jsx(c,{title:"Resume Builder - Business English",description:"Create professional, ATS-friendly resumes with AI-powered suggestions. Choose from 5 beautiful templates.",keywords:"resume builder, ATS resume, professional resume, job application, cover letter"}),e.jsxs(o,{title:"Resume Builder",showBackButton:!0,backPath:"/business-portal",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("button",{onClick:()=>K("/hero"),className:"text-muted-foreground hover:text-primary",children:e.jsx(d,{className:"h-4 w-4"})}),e.jsx(m,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("button",{onClick:()=>K("/business-portal"),className:"text-muted-foreground hover:text-primary",children:"Business English"}),e.jsx(m,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{style:{color:Q.textPrimary},children:"Resume Builder"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:Q.textPrimary},children:"Resume Builder"}),e.jsx("p",{className:"text-muted-foreground",children:"Create an ATS-optimized resume that gets you interviews"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"outline",onClick:()=>Fe(!0),children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Preview"]}),e.jsxs(x,{onClick:async()=>{if($){te(!0);try{const e={user_id:$.id,template_id:de,full_name:xe.fullName,email:xe.email,phone:xe.phone,location:xe.location,linkedin_url:xe.linkedinUrl||null,portfolio_url:xe.portfolioUrl||null,summary:xe.summary,experience:xe.experience,education:xe.education,skills:xe.skills,certifications:xe.certifications,projects:xe.projects,languages:xe.languages,target_job_post:ue||null,extracted_keywords:Ne,ats_score:ve,ats_suggestions:ye,is_primary:!0,updated_at:(new Date).toISOString()};if(pe){const{error:s}=await I.from("resumes").update(e).eq("id",pe);if(s)throw s}else{const{data:s,error:a}=await I.from("resumes").insert(e).select("id").single();if(a)throw a;je(s.id)}X({title:"Resume saved!",description:"Your resume has been saved successfully."})}catch(e){console.error("Error saving resume:",e),X({title:"Error",description:"Failed to save resume. Please try again.",variant:"destructive"})}finally{te(!1)}}else X({title:"Sign in required",description:"Please sign in to save your resume",variant:"destructive"})},disabled:ae,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),ae?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(p,{style:{backgroundColor:Q.theme.colors.cardBackground},children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-blue-500"}),"Choose Template"]})}),e.jsx(N,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:J.map(s=>e.jsxs("button",{onClick:()=>me(s.id),className:"p-3 rounded-lg border-2 transition-all text-left "+(de===s.id?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-border hover:border-blue-300"),children:[e.jsx("p",{className:"font-medium text-sm",style:{color:Q.textPrimary},children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.bestFor})]},s.id))})})]}),e.jsx(p,{style:{backgroundColor:Q.theme.colors.cardBackground},children:e.jsxs(z,{defaultValue:"personal",className:"w-full",children:[e.jsx(j,{className:"pb-0",children:e.jsxs(_,{className:"grid grid-cols-5 w-full",children:[e.jsx(U,{value:"personal",className:"text-xs",children:"Personal"}),e.jsx(U,{value:"experience",className:"text-xs",children:"Experience"}),e.jsx(U,{value:"education",className:"text-xs",children:"Education"}),e.jsx(U,{value:"skills",className:"text-xs",children:"Skills"}),e.jsx(U,{value:"extra",className:"text-xs",children:"Extra"})]})}),e.jsxs(N,{className:"pt-4",children:[e.jsxs(B,{value:"personal",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(v,{id:"fullName",value:xe.fullName,onChange:e=>he(s=>({...s,fullName:e.target.value})),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"email",children:"Email *"}),e.jsx(v,{id:"email",type:"email",value:xe.email,onChange:e=>he(s=>({...s,email:e.target.value})),placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"phone",children:"Phone"}),e.jsx(v,{id:"phone",value:xe.phone,onChange:e=>he(s=>({...s,phone:e.target.value})),placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"location",children:"Location"}),e.jsx(v,{id:"location",value:xe.location,onChange:e=>he(s=>({...s,location:e.target.value})),placeholder:"San Francisco, CA"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"linkedin",children:"LinkedIn URL"}),e.jsx(v,{id:"linkedin",value:xe.linkedinUrl,onChange:e=>he(s=>({...s,linkedinUrl:e.target.value})),placeholder:"linkedin.com/in/johndoe"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"portfolio",children:"Portfolio URL"}),e.jsx(v,{id:"portfolio",value:xe.portfolioUrl,onChange:e=>he(s=>({...s,portfolioUrl:e.target.value})),placeholder:"johndoe.com"})]})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"summary",children:"Professional Summary"}),e.jsx(b,{id:"summary",value:xe.summary,onChange:e=>he(s=>({...s,summary:e.target.value})),placeholder:"A brief 2-3 sentence summary of your professional background and key achievements...",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tip: Include keywords from the job description for better ATS matching"})]})]}),e.jsxs(B,{value:"experience",className:"space-y-4 mt-0",children:[xe.experience.map((s,a)=>e.jsxs(p,{className:"p-4 relative",children:[e.jsx(x,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>{return e=s.id,void he(s=>({...s,experience:s.experience.filter(s=>s.id!==e)}));var e},children:e.jsx(O,{className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Company *"}),e.jsx(v,{value:s.company,onChange:e=>ze(s.id,"company",e.target.value),placeholder:"Company Name"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Position *"}),e.jsx(v,{value:s.position,onChange:e=>ze(s.id,"position",e.target.value),placeholder:"Job Title"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Location"}),e.jsx(v,{value:s.location,onChange:e=>ze(s.id,"location",e.target.value),placeholder:"City, State"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Start Date"}),e.jsx(v,{value:s.startDate,onChange:e=>ze(s.id,"startDate",e.target.value),placeholder:"Jan 2020"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"End Date"}),e.jsx(v,{value:s.current?"Present":s.endDate,onChange:e=>ze(s.id,"endDate",e.target.value),placeholder:"Present",disabled:s.current})]})]})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Achievements (one per line)"}),e.jsx(b,{value:s.achievements.join("\n"),onChange:e=>ze(s.id,"achievements",e.target.value.split("\n")),placeholder:"â€¢ Led team of 5 engineers to deliver project 2 weeks early\nâ€¢ Increased revenue by 25% through optimization\nâ€¢ Implemented CI/CD pipeline reducing deploy time by 50%",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start each achievement with an action verb and include metrics when possible"})]})]})]},s.id)),e.jsxs(x,{variant:"outline",onClick:()=>{const e={id:crypto.randomUUID(),company:"",position:"",location:"",startDate:"",endDate:"",current:!1,achievements:[""]};he(s=>({...s,experience:[...s.experience,e]}))},className:"w-full",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Experience"]})]}),e.jsxs(B,{value:"education",className:"space-y-4 mt-0",children:[xe.education.map(s=>e.jsxs(p,{className:"p-4 relative",children:[e.jsx(x,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>{return e=s.id,void he(s=>({...s,education:s.education.filter(s=>s.id!==e)}));var e},children:e.jsx(O,{className:"h-4 w-4"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Institution *"}),e.jsx(v,{value:s.institution,onChange:e=>_e(s.id,"institution",e.target.value),placeholder:"University Name"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Degree *"}),e.jsx(v,{value:s.degree,onChange:e=>_e(s.id,"degree",e.target.value),placeholder:"Bachelor of Science"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Field of Study"}),e.jsx(v,{value:s.field,onChange:e=>_e(s.id,"field",e.target.value),placeholder:"Computer Science"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Graduation Date"}),e.jsx(v,{value:s.graduationDate,onChange:e=>_e(s.id,"graduationDate",e.target.value),placeholder:"May 2020"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"GPA (Optional)"}),e.jsx(v,{value:s.gpa||"",onChange:e=>_e(s.id,"gpa",e.target.value),placeholder:"3.8/4.0"})]}),e.jsxs("div",{children:[e.jsx(f,{children:"Honors (Optional)"}),e.jsx(v,{value:s.honors||"",onChange:e=>_e(s.id,"honors",e.target.value),placeholder:"Magna Cum Laude"})]})]})]},s.id)),e.jsxs(x,{variant:"outline",onClick:()=>{const e={id:crypto.randomUUID(),institution:"",degree:"",field:"",location:"",graduationDate:""};he(s=>({...s,education:[...s.education,e]}))},className:"w-full",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Education"]})]}),e.jsxs(B,{value:"skills",className:"space-y-4 mt-0",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Add Skills"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{value:Ue,onChange:e=>Be(e.target.value),placeholder:"e.g., JavaScript, Project Management, Data Analysis",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Ie())}),e.jsx(x,{onClick:Ie,children:"Add"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:xe.skills.map(s=>e.jsxs(w,{variant:"secondary",className:"px-3 py-1 text-sm",children:[s,e.jsx("button",{onClick:()=>(e=>{he(s=>({...s,skills:s.skills.filter(s=>s!==e)}))})(s),className:"ml-2 hover:text-red-500",children:"Ã—"})]},s))}),0===xe.skills.length&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No skills added yet. Add skills that match the job requirements."})]}),e.jsxs(B,{value:"extra",className:"space-y-4 mt-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add certifications, projects, and languages to strengthen your resume."}),e.jsx(p,{className:"p-4",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Coming soon: Certifications, Projects, and Languages editors"})})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{style:{backgroundColor:Q.theme.colors.cardBackground},children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-orange-500"}),"Job Post Analyzer"]}),e.jsx(C,{children:"Paste a job description to optimize your resume"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsx(b,{value:ue,onChange:e=>ge(e.target.value),placeholder:"Paste the job description here...",rows:6}),e.jsx(x,{onClick:async()=>{if(ue.trim()){ie(!0);try{const{data:e,error:s}=await I.functions.invoke("resume-ai-assistant",{body:{action:"analyze_job",jobPost:ue,resumeData:xe}});if(s)throw s;if(!e.success)throw new Error(e.error||"Analysis failed");fe(e.keywords||[]),be(e.atsScore||0),we(e.suggestions||[]),X({title:"Analysis complete!",description:`Your resume matches ${e.atsScore}% of the job requirements`})}catch(e){console.error("Error analyzing job:",e),X({title:"Analysis failed",description:"Could not analyze the job post. Please try again.",variant:"destructive"})}finally{ie(!1)}}else X({title:"Job post required",description:"Please paste a job description to analyze",variant:"destructive"})},disabled:le||!ue.trim(),className:"w-full",children:le?e.jsx(e.Fragment,{children:"Analyzing..."}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Analyze & Optimize"]})}),null!==ve&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:"ATS Match Score"}),e.jsxs("span",{className:"text-2xl font-bold "+(ve>=70?"text-green-600":ve>=50?"text-yellow-600":"text-red-600"),children:[ve,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full "+(ve>=70?"bg-green-500":ve>=50?"bg-yellow-500":"bg-red-500"),style:{width:`${ve}%`}})})]}),Ne.length>0&&e.jsxs("div",{children:[e.jsxs(f,{className:"flex items-center gap-2 mb-2",children:[e.jsx(P,{className:"h-4 w-4 text-green-500"}),"Key Skills to Include"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Ne.map((s,a)=>e.jsx(w,{variant:xe.skills.some(e=>e.toLowerCase().includes(s.toLowerCase()))?"default":"outline",className:"text-xs",children:s},a))})]}),ye.length>0&&e.jsxs("div",{children:[e.jsxs(f,{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"h-4 w-4 text-yellow-500"}),"Suggestions"]}),e.jsx("ul",{className:"space-y-2",children:ye.map((s,a)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(V,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-yellow-500"}),s]},a))})]})]})]}),e.jsxs(p,{style:{backgroundColor:Q.theme.colors.cardBackground},children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-500"}),"Cover Letter"]})}),e.jsx(N,{children:e.jsxs(x,{variant:"outline",onClick:()=>Ce(!0),className:"w-full",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Generate Cover Letter"]})})]}),e.jsxs(p,{style:{backgroundColor:Q.theme.colors.cardBackground},children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-lg flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-yellow-500"}),"ATS Tips"]})}),e.jsxs(N,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"âœ“ Use standard section headings"}),e.jsx("p",{children:"âœ“ Include keywords from the job description"}),e.jsx("p",{children:"âœ“ Avoid graphics, tables, or columns"}),e.jsx("p",{children:"âœ“ Use common fonts like Arial or Calibri"}),e.jsx("p",{children:"âœ“ Save as PDF for best compatibility"}),e.jsx("p",{children:"âœ“ Keep it to 1-2 pages maximum"})]})]})]})]})]}),e.jsx(D,{open:Me,onOpenChange:Fe,children:e.jsxs(L,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[e.jsx(E,{children:e.jsx(A,{children:"Resume Preview"})}),e.jsx("div",{ref:Z,className:"border rounded-lg overflow-hidden bg-white",style:{minWidth:"8.5in"},children:Te&&e.jsx(Te,{data:xe})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(x,{variant:"outline",onClick:()=>Fe(!1),children:"Close"}),e.jsxs(x,{onClick:async()=>{if(Z.current){oe(!0);try{const e=Z.current,s=await T(e,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:e.scrollWidth,height:e.scrollHeight}),a=210,t=s.height*a/s.width,l=new R("p","mm","a4"),i=297;let r=t,n=0;for(l.addImage(s.toDataURL("image/png"),"PNG",0,n,a,t),r-=i;r>0;)n=r-t,l.addPage(),l.addImage(s.toDataURL("image/png"),"PNG",0,n,a,t),r-=i;const c=xe.fullName?`${xe.fullName.replace(/\s+/g,"_")}_Resume.pdf`:"Resume.pdf";l.save(c),X({title:"PDF Downloaded!",description:"Your resume has been downloaded successfully"})}catch(e){console.error("Error generating PDF:",e),X({title:"PDF Generation Failed",description:"Could not generate PDF. Please try again.",variant:"destructive"})}finally{oe(!1)}}else X({title:"Error",description:"Please preview your resume first",variant:"destructive"})},disabled:ce,children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),ce?"Generating PDF...":"Download PDF"]})]})]})}),e.jsx(D,{open:ke,onOpenChange:Ce,children:e.jsxs(L,{className:"max-w-2xl",children:[e.jsxs(E,{children:[e.jsx(A,{children:"Generate Cover Letter"}),e.jsx(M,{children:"Create a personalized cover letter based on your resume"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"company",children:"Company Name *"}),e.jsx(v,{id:"company",value:De,onChange:e=>Le(e.target.value),placeholder:"Google"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"position",children:"Position *"}),e.jsx(v,{id:"position",value:Ee,onChange:e=>Ae(e.target.value),placeholder:"Software Engineer"})]})]}),e.jsx(x,{onClick:async()=>{if(De&&Ee){ne(!0);try{const{data:e,error:s}=await I.functions.invoke("resume-ai-assistant",{body:{action:"generate_cover_letter",resumeData:xe,jobPost:ue,companyName:De,position:Ee}});if(s)throw s;if(!e.success||!e.coverLetter)throw new Error(e.error||"Generation failed");Pe(e.coverLetter),X({title:"Cover letter generated!",description:"Your personalized cover letter is ready"})}catch(e){console.error("Error generating cover letter:",e),X({title:"Generation failed",description:"Could not generate cover letter. Please try again.",variant:"destructive"})}finally{ne(!1)}}else X({title:"Missing information",description:"Please enter the company name and position",variant:"destructive"})},disabled:re,className:"w-full",children:re?"Generating...":"Generate Cover Letter"}),Se&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{children:"Generated Cover Letter"}),e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(Se),X({title:"Copied to clipboard!"})},children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),e.jsx(b,{value:Se,onChange:e=>Pe(e.target.value),rows:12,className:"font-mono text-sm"})]})]})]})})]})]})};export{K as default};
