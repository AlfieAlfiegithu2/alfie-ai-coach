import{y as e,u as a,g as s,A as n,r as t,j as i,C as l,c as r,Z as d,b as c,U as m,a as o,a8 as x,I as h,Q as u,S as g,o as j,p,q as v,s as f,G as y,a9 as N,k as b,B as C,K as w}from"./index-DHj924Wd.js";import{S as B}from"./switch-BF3IfDRo.js";import{S as k}from"./separator-b175wR_1.js";import{s as S}from"./supabase-DUkWVuqu.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_=e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),F=()=>{const e=a(),{toast:F}=s(),{user:T}=n(),[D,U]=t.useState(!0),[E,G]=t.useState({name:"",email:"",targetBand:"7.5",testDate:"",translationLanguage:"English",notifications:!0,emailUpdates:!1,reminderTime:"09:00",studyGoal:"30"});t.useEffect(()=>{(async()=>{var e;if(T)try{const{data:a}=await S.from("profiles").select("full_name, native_language").eq("id",T.id).single(),{data:s}=await S.from("user_preferences").select("*").eq("user_id",T.id).single();G({name:(null==a?void 0:a.full_name)||T.email||"",email:T.email||"",targetBand:(null==(e=null==s?void 0:s.target_score)?void 0:e.toString())||"7.5",testDate:(null==s?void 0:s.target_deadline)||"",translationLanguage:(null==a?void 0:a.native_language)||"English",notifications:!0,emailUpdates:!1,reminderTime:"09:00",studyGoal:"30"})}catch(a){console.error("Error loading settings:",a)}finally{U(!1)}else U(!1)})()},[T]);return D?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(l,{className:"p-8 text-center",children:i.jsx(r,{className:"text-2xl mb-4",children:"Loading Settings..."})})}):i.jsx(d,{title:"Settings",showBackButton:!0,children:i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsxs(l,{className:"card-modern",children:[i.jsx(c,{children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(m,{className:"w-5 h-5 text-brand-blue"}),"Profile Information"]})}),i.jsx(o,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(x,{htmlFor:"name",children:"Full Name"}),i.jsx(h,{id:"name",value:E.name,onChange:e=>G({...E,name:e.target.value}),className:"input-modern"})]}),i.jsxs("div",{children:[i.jsx(x,{htmlFor:"email",children:"Email Address"}),i.jsx(h,{id:"email",type:"email",value:E.email,onChange:e=>G({...E,email:e.target.value}),className:"input-modern"})]})]})})]}),i.jsxs(l,{className:"card-modern",children:[i.jsx(c,{children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(u,{className:"w-5 h-5 text-brand-green"}),"Study Goals"]})}),i.jsxs(o,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(x,{htmlFor:"targetBand",children:"Target IELTS Band"}),i.jsxs(g,{value:E.targetBand,onValueChange:e=>G({...E,targetBand:e}),children:[i.jsx(j,{className:"glass-button",children:i.jsx(p,{})}),i.jsxs(v,{children:[i.jsx(f,{value:"6.0",children:"Band 6.0"}),i.jsx(f,{value:"6.5",children:"Band 6.5"}),i.jsx(f,{value:"7.0",children:"Band 7.0"}),i.jsx(f,{value:"7.5",children:"Band 7.5"}),i.jsx(f,{value:"8.0",children:"Band 8.0"}),i.jsx(f,{value:"8.5",children:"Band 8.5"}),i.jsx(f,{value:"9.0",children:"Band 9.0"})]})]})]}),i.jsxs("div",{children:[i.jsx(x,{htmlFor:"testDate",children:"Target Test Date"}),i.jsx(h,{id:"testDate",type:"date",value:E.testDate,onChange:e=>G({...E,testDate:e.target.value}),className:"input-modern"})]})]}),i.jsxs("div",{children:[i.jsx(x,{htmlFor:"studyGoal",children:"Daily Study Goal (minutes)"}),i.jsxs(g,{value:E.studyGoal,onValueChange:e=>G({...E,studyGoal:e}),children:[i.jsx(j,{className:"glass-button",children:i.jsx(p,{})}),i.jsxs(v,{children:[i.jsx(f,{value:"15",children:"15 minutes"}),i.jsx(f,{value:"30",children:"30 minutes"}),i.jsx(f,{value:"45",children:"45 minutes"}),i.jsx(f,{value:"60",children:"1 hour"}),i.jsx(f,{value:"90",children:"1.5 hours"}),i.jsx(f,{value:"120",children:"2 hours"})]})]})]})]})]}),i.jsxs(l,{className:"card-modern",children:[i.jsx(c,{children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(y,{className:"w-5 h-5 text-brand-purple"}),"Language & Translation"]})}),i.jsx(o,{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(x,{htmlFor:"translationLanguage",children:"Translation Language"}),i.jsxs(g,{value:E.translationLanguage,onValueChange:e=>G({...E,translationLanguage:e}),children:[i.jsx(j,{className:"glass-button",children:i.jsx(p,{})}),i.jsx(v,{children:N().map(e=>i.jsx(f,{value:e.value,children:e.label},e.value))})]}),i.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Choose your preferred language for word translations during reading practice"})]})})]}),i.jsxs(l,{className:"card-modern",children:[i.jsx(c,{children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(_,{className:"w-5 h-5 text-blue-600"}),"Membership Status"]})}),i.jsxs(o,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-800",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-lg",children:"premium"===E.translationLanguage?"Pro Plan":"Free Plan"}),i.jsx("p",{className:"text-sm text-gray-500",children:"premium"===E.translationLanguage?"Your subscription is active.":"Upgrade to unlock all features."})]}),i.jsx(b,{variant:"premium"===E.translationLanguage?"default":"secondary",children:"premium"===E.translationLanguage?"Active":"Free"})]}),"premium"===E.translationLanguage?i.jsx("div",{className:"flex justify-end",children:i.jsx(C,{variant:"destructive",onClick:()=>{F({title:"Cancellation Requested",description:"Please contact support at hello@englishaidol.com to cancel your subscription."})},children:"Cancel Membership"})}):i.jsx("div",{className:"flex justify-end",children:i.jsx(C,{onClick:()=>e("/pricing"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Upgrade to Pro"})})]})]}),i.jsxs(l,{className:"card-modern",children:[i.jsx(c,{children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(L,{className:"w-5 h-5 text-brand-orange"}),"Notifications & Reminders"]})}),i.jsxs(o,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(x,{htmlFor:"notifications",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-text-secondary",children:"Receive study reminders and progress updates"})]}),i.jsx(B,{id:"notifications",checked:E.notifications,onCheckedChange:e=>G({...E,notifications:e})})]}),i.jsx(k,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(x,{htmlFor:"emailUpdates",children:"Email Updates"}),i.jsx("p",{className:"text-sm text-text-secondary",children:"Weekly progress reports and study tips"})]}),i.jsx(B,{id:"emailUpdates",checked:E.emailUpdates,onCheckedChange:e=>G({...E,emailUpdates:e})})]}),i.jsxs("div",{children:[i.jsx(x,{htmlFor:"reminderTime",children:"Daily Reminder Time"}),i.jsx(h,{id:"reminderTime",type:"time",value:E.reminderTime,onChange:e=>G({...E,reminderTime:e.target.value}),className:"input-modern"})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(C,{onClick:async()=>{if(T)try{await S.from("profiles").update({full_name:E.name,native_language:E.translationLanguage}).eq("id",T.id),await S.from("user_preferences").upsert({user_id:T.id,target_score:parseFloat(E.targetBand),target_deadline:E.testDate||null,preferred_name:E.name}),F({title:"Settings Saved",description:"Your preferences have been updated successfully."})}catch(e){console.error("Error saving settings:",e),F({title:"Error",description:"Failed to save settings. Please try again."})}},className:"btn-primary",children:[i.jsx(w,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{F as default};
