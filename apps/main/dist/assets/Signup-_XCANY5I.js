import{A as e,u as t,r as s,j as a,N as l,_ as d,a2 as o}from"./index-B_bFcAM1.js";import"./supabase-Bqkrifq5.js";const i=()=>{const{user:i,signUp:r,loading:n}=e(),c=t(),[u,m]=s.useState(""),[f,x]=s.useState(""),[b,h]=s.useState(""),[w,p]=s.useState(""),[g,j]=s.useState(!1),[v,k]=s.useState(null);return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f2e8]",children:a.jsx("div",{className:"text-[#2d2d2d] font-serif",children:"Loading…"})}):!n&&i?a.jsx(l,{to:"/dashboard",replace:!0}):a.jsxs("div",{className:"min-h-screen w-full font-sans bg-[#f5f2e8] text-[#3c3c3c]",children:[a.jsx("div",{className:"fixed inset-0 bg-[#f5f2e8] -z-10"}),a.jsxs("div",{className:"relative z-10 w-full min-h-screen flex flex-col items-center justify-center px-4 py-10",children:[a.jsxs("button",{type:"button",onClick:()=>c(-1),className:"absolute top-4 left-4 inline-flex items-center gap-2 text-sm text-[#3c3c3c] hover:text-black bg-white/80 backdrop-blur px-3 py-2 rounded-xl border border-[#e6e0d4] font-medium","aria-label":"Go back",children:[a.jsx(d,{className:"w-4 h-4"}),"Back"]}),a.jsx("div",{className:"w-full max-w-md rounded-2xl overflow-hidden shadow-sm bg-white border-2 border-[#d97757]/20 mx-auto",children:a.jsxs("div",{className:"p-8 md:p-10 bg-white",children:[a.jsx("h3",{className:"text-2xl font-serif font-medium text-[#d97757] text-center mb-6",children:"Create account"}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),k(null),b!==w)return void k("Passwords do not match");j(!0);const{error:t}=await r(f,b,u);t?k(t):c("/dashboard"),j(!1)},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[#3c3c3c] mb-2 font-sans",children:"Your nickname"}),a.jsx("input",{id:"name",type:"text",required:!0,value:u,onChange:e=>m(e.target.value),className:"w-full p-3 rounded-xl border border-[#d97757]/20 bg-white text-[#2d2d2d] shadow-sm focus:outline-none focus:ring-2 focus:ring-[#d97757]/20 focus:border-[#d97757] transition-all font-sans placeholder-[#666666]/50 [&:-webkit-autofill]:bg-white [&:-webkit-autofill]:shadow-[0_0_0_1000px_white_inset] [&:-webkit-autofill]:-webkit-text-fill-color-[#2d2d2d]",placeholder:"Your name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#3c3c3c] mb-2 font-sans",children:"Email address"}),a.jsx("input",{id:"email",type:"email",required:!0,value:f,onChange:e=>x(e.target.value),className:"w-full p-3 rounded-xl border border-[#d97757]/20 bg-white text-[#2d2d2d] shadow-sm focus:outline-none focus:ring-2 focus:ring-[#d97757]/20 focus:border-[#d97757] transition-all font-sans placeholder-[#666666]/50 [&:-webkit-autofill]:bg-white [&:-webkit-autofill]:shadow-[0_0_0_1000px_white_inset] [&:-webkit-autofill]:-webkit-text-fill-color-[#2d2d2d]",placeholder:""}),a.jsx("p",{className:"mt-2 text-xs text-[#666666] font-sans",children:"We'll send a verification email after you sign up."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#3c3c3c] mb-2 font-sans",children:"Password"}),a.jsx("input",{id:"password",type:"password",required:!0,value:b,onChange:e=>h(e.target.value),className:"w-full p-3 rounded-xl border border-[#d97757]/20 bg-white text-[#2d2d2d] shadow-sm focus:outline-none focus:ring-2 focus:ring-[#d97757]/20 focus:border-[#d97757] transition-all font-sans placeholder-[#666666]/50 [&:-webkit-autofill]:bg-white [&:-webkit-autofill]:shadow-[0_0_0_1000px_white_inset] [&:-webkit-autofill]:-webkit-text-fill-color-[#2d2d2d]",placeholder:"••••••••"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirm",className:"block text-sm font-medium text-[#3c3c3c] mb-2 font-sans",children:"Confirm password"}),a.jsx("input",{id:"confirm",type:"password",required:!0,value:w,onChange:e=>p(e.target.value),className:"w-full p-3 rounded-xl border border-[#d97757]/20 bg-white text-[#2d2d2d] shadow-sm focus:outline-none focus:ring-2 focus:ring-[#d97757]/20 focus:border-[#d97757] transition-all font-sans placeholder-[#666666]/50 [&:-webkit-autofill]:bg-white [&:-webkit-autofill]:shadow-[0_0_0_1000px_white_inset] [&:-webkit-autofill]:-webkit-text-fill-color-[#2d2d2d]",placeholder:"••••••••"})]}),v&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-100",children:v}),a.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 px-4 bg-[#d97757] text-white font-medium rounded-xl shadow-md hover:bg-[#c56a4b] transform hover:-translate-y-0.5 transition-all font-sans",children:g?"Creating…":"Create account"}),a.jsxs("div",{className:"text-center text-sm text-[#666666] font-sans",children:["Already have an account? ",a.jsx(o,{className:"text-[#2d2d2d] font-medium hover:underline",to:"/auth",children:"Sign in"})]})]})]})})]})]})};export{i as default};
