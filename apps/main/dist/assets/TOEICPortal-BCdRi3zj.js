import{u as e,a8 as s,a1 as a,r,J as t,j as l,a9 as o,aa as n,a7 as c,ab as d,S as i,p as m,q as x,s as h,ac as g,t as b,H as y,ad as f,b as u,d as j,l as p,a as N,W as k,B as v,e as C}from"./index-DuQba2w5.js";import{s as w}from"./supabase-DLB9cOux.js";const S=()=>{const S=e(),{themeName:T,setTheme:P}=s(),B=a(),E="note"===B.theme.name,[_,I]=r.useState([]),[O,q]=r.useState([]),[L,z]=r.useState(!0);r.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:e,error:s}=await w.from("tests").select("*").eq("test_type","TOEIC").eq("skill_category","Listening").order("created_at",{ascending:!1});if(s)throw s;I(e||[]);const{data:a,error:r}=await w.from("tests").select("*").eq("test_type","TOEIC").eq("skill_category","Reading").order("created_at",{ascending:!1});if(r)throw r;q(a||[])}catch(e){console.error("Error loading tests:",e),t.error("Failed to load tests")}finally{z(!1)}};return L?l.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"dark"===B.theme.name?B.theme.colors.background:"transparent"},children:l.jsx(o,{})}):l.jsxs("div",{className:"min-h-screen relative "+(E?"font-serif":""),style:{backgroundColor:"dark"===B.theme.name?B.theme.colors.background:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:E||"minimalist"===B.theme.name||"dark"===B.theme.name?"none":"url('/lovable-uploads/38d81cb0-fd21-4737-b0f5-32bc5d0ae774.png')",backgroundColor:B.backgroundImageColor}}),l.jsx("div",{className:"relative z-10",children:l.jsx(n,{title:"TOEIC Test Portal",showBackButton:!0,children:l.jsxs("div",{className:"space-y-3 md:space-y-4 max-w-6xl mx-auto px-3 md:px-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>S("/hero"),className:"inline-flex items-center gap-2 px-2 py-1 h-8 text-sm font-medium transition-colors rounded-md",style:{color:B.textSecondary,backgroundColor:"transparent"},onMouseEnter:e=>{e.currentTarget.style.color=B.buttonPrimary,e.currentTarget.style.backgroundColor=B.hoverBg},onMouseLeave:e=>{e.currentTarget.style.color=B.textSecondary,e.currentTarget.style.backgroundColor="transparent"},children:[!E&&l.jsx(c,{className:"h-4 w-4"}),E&&l.jsx("span",{children:"Home"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!E&&l.jsx(d,{className:"h-4 w-4",style:{color:B.textSecondary}}),l.jsxs(i,{value:T,onValueChange:e=>P(e),children:[l.jsx(m,{className:"w-[140px] h-8 text-sm border transition-colors",style:{backgroundColor:"glassmorphism"===B.theme.name?"rgba(255,255,255,0.8)":"dark"===B.theme.name?"rgba(255,255,255,0.1)":"minimalist"===B.theme.name?"#ffffff":B.theme.colors.cardBackground,borderColor:B.border,color:B.textPrimary},children:l.jsx(x,{placeholder:"Theme"})}),l.jsx(h,{children:Object.values(g).map(e=>l.jsx(b,{value:e.name,children:e.label},e.name))})]})]})]}),l.jsxs("div",{className:"text-center space-y-4 mb-8",children:[l.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-black text-center tracking-tight font-nunito",style:{color:B.textPrimary},children:"TOEIC Test Portal"}),l.jsx("p",{className:"text-sm md:text-base max-w-2xl mx-auto",style:{color:B.textSecondary},children:"Practice authentic TOEIC Listening and Reading tests and track your progress"})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-4 flex items-center gap-2 font-nunito",style:{color:B.textPrimary},children:[l.jsx(y,{className:"w-6 h-6",style:{color:B.buttonPrimary}}),"Listening Tests"]}),_.length>0?l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:_.map(e=>l.jsxs(f,{className:"cursor-pointer hover:scale-[1.02] transition-all duration-300 hover:shadow-lg",onClick:()=>S(`/toeic/listening/${e.id}`),style:{backgroundColor:"glassmorphism"===B.theme.name?"rgba(255,255,255,0.8)":"dark"===B.theme.name?"rgba(255,255,255,0.1)":"minimalist"===B.theme.name?"#ffffff":B.theme.colors.cardBackground,borderColor:B.border,...B.cardStyle},children:[l.jsx(u,{className:"pb-2",children:l.jsxs(j,{className:"text-base md:text-lg flex items-center justify-between",style:{color:B.textPrimary},children:[l.jsx("span",{children:e.test_name}),l.jsx(p,{variant:"secondary",className:"text-xs",style:{backgroundColor:B.hoverBg,color:B.textSecondary,borderColor:B.border},children:"100 Q"})]})}),l.jsxs(N,{className:"pt-0",children:[l.jsx("div",{className:"flex items-center justify-between text-sm mb-4",style:{color:B.textSecondary},children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(k,{className:"w-3 h-3"}),"45 min"]})}),l.jsx(v,{className:"w-full",size:"sm",style:{backgroundColor:B.buttonPrimary,color:"#ffffff"},children:"Start Test"})]})]},e.id))}):l.jsx("div",{className:"text-center py-8 rounded-lg border border-dashed",style:{backgroundColor:"glassmorphism"===B.theme.name?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.05)",borderColor:B.border},children:l.jsx("p",{style:{color:B.textSecondary},children:"No listening tests available yet."})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-4 flex items-center gap-2 font-nunito",style:{color:B.textPrimary},children:[l.jsx(C,{className:"w-6 h-6",style:{color:B.buttonPrimary}}),"Reading Tests"]}),O.length>0?l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:O.map(e=>l.jsxs(f,{className:"cursor-pointer hover:scale-[1.02] transition-all duration-300 hover:shadow-lg",onClick:()=>S(`/toeic/reading/${e.id}`),style:{backgroundColor:"glassmorphism"===B.theme.name?"rgba(255,255,255,0.8)":"dark"===B.theme.name?"rgba(255,255,255,0.1)":"minimalist"===B.theme.name?"#ffffff":B.theme.colors.cardBackground,borderColor:B.border,...B.cardStyle},children:[l.jsx(u,{className:"pb-2",children:l.jsxs(j,{className:"text-base md:text-lg flex items-center justify-between",style:{color:B.textPrimary},children:[l.jsx("span",{children:e.test_name}),l.jsx(p,{variant:"secondary",className:"text-xs",style:{backgroundColor:B.hoverBg,color:B.textSecondary,borderColor:B.border},children:"100 Q"})]})}),l.jsxs(N,{className:"pt-0",children:[l.jsx("div",{className:"flex items-center justify-between text-sm mb-4",style:{color:B.textSecondary},children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(k,{className:"w-3 h-3"}),"75 min"]})}),l.jsx(v,{className:"w-full",size:"sm",style:{backgroundColor:B.buttonPrimary,color:"#ffffff"},children:"Start Test"})]})]},e.id))}):l.jsx("div",{className:"text-center py-8 rounded-lg border border-dashed",style:{backgroundColor:"glassmorphism"===B.theme.name?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.05)",borderColor:B.border},children:l.jsx("p",{style:{color:B.textSecondary},children:"No reading tests available yet."})})]})]})})})]})};export{S as default};
