import{c as e,b as s,u as t,r as a,j as n,L as l}from"./vendor-react-rLLBBC7n.js";import{w as i,y as o,B as c,C as r,a as d,a1 as m,s as h}from"./index-BDl0jLJK.js";import{b as v,f as u}from"./d1Client-DHU_uMQx.js";import{az as x}from"./vendor-ui-BGi_EvHx.js";import"./vendor-react-dom-CgqbTh6h.js";import"./vendor-charts-0DeywwxG.js";import"./vendor-i18n-gE2_DBDv.js";import"./vendor-utils-Cn4gX4Gv.js";import"./vendor-supabase-DcWtwiPX.js";import"./vendor-animation-DlplP_f6.js";import"./vendor-date-DT7Rq6D9.js";function g(){var g,p,j,b,f,N,S,w,k,y;const{deckId:_}=e(),[C]=s(),T=C.get("lang"),q=t(),{theme:E}=i(),[$,L]=a.useState("Deck Test"),[z,M]=a.useState([]),[I,V]=a.useState(0),[A,D]=a.useState({});a.useEffect(()=>{if(!T||0===z.length)return;(async()=>{console.log(`VocabTest: Fetching translations for ${T} from D1`);const e=z.map(e=>e.id);try{const s=await v(e,T),t={},a={};s.forEach(e=>{e.translations&&e.translations.length>0&&(t[e.card_id]=e.translations[0],a[e.card_id]=e.translations)}),D(t),M(e=>e.map(e=>({...e,translation:t[e.id]||e.translation,translations:a[e.id]||[]})))}catch(s){console.error("VocabTest: Error fetching translations from D1:",s)}})()},[T,0===z.length?0:z[0].id]);const[F,O]=a.useState({}),[B,R]=a.useState(""),[J,P]=a.useState(!1),[U,X]=a.useState([]),[W,G]=a.useState(null),[H,K]=a.useState(null),[Q,Y]=a.useState(null),[Z,ee]=a.useState(!1),[se,te]=a.useState(!1),[ae,ne]=a.useState(!1),[le,ie]=a.useState(0),[oe,ce]=a.useState({}),[re,de]=a.useState(0),[me,he]=a.useState(!1),[ve,ue]=a.useState([]),[xe,ge]=a.useState(null),[pe,je]=a.useState(null),[be,fe]=a.useState(0),[Ne,Se]=a.useState(null),[we,ke]=a.useState([]),[ye,_e]=a.useState({}),[Ce,Te]=a.useState([]),[qe,Ee]=a.useState(!1),[$e,Le]=a.useState(!1),[ze,Me]=a.useState("");a.useState(()=>{const e=localStorage.getItem("vocab-shuffle-enabled");return!!e&&JSON.parse(e)});const Ie=z.length,Ve=z[I]||null,Ae=Z?z[re]:null,De=2===le?z[be]:null,Fe=2===le&&Ce[be]||null,Oe="note"===E.name,Be=a.useMemo(()=>Oe?{"--behind-gradient":"linear-gradient(to bottom, #E6D29D 0%, #D4C08B 100%)","--inner-gradient":"linear-gradient(145deg, #FEF9E7 0%, #FFFDF5 100%)"}:{"--behind-gradient":"radial-gradient(farthest-side circle at 50% 50%, hsla(220,15%,70%,0.1) 4%, hsla(220,10%,60%,0.05) 10%, hsla(220,5%,50%,0.02) 50%, hsla(220,0%,40%,0) 100%), radial-gradient(35% 52% at 55% 20%, hsla(210,20%,60%,0.1) 0%, hsla(210,15%,50%,0) 100%), radial-gradient(100% 100% at 50% 50%, hsla(200,25%,55%,0.05) 1%, hsla(200,20%,45%,0) 76%), conic-gradient(from 124deg at 50% 50%, hsla(215,20%,65%,0.1) 0%, hsla(215,15%,55%,0.08) 40%, hsla(215,15%,55%,0.08) 60%, hsla(215,20%,65%,0.1) 100%)","--inner-gradient":"linear-gradient(145deg, hsla(220,10%,15%,0.6) 0%, hsla(210,15%,20%,0.4) 100%)"},[Oe]),Re=a.useMemo(()=>Oe?Be:{"--behind-gradient":"radial-gradient(farthest-side circle at 50% 50%, hsla(220,15%,70%,0.1) 4%, hsla(220,10%,60%,0.05) 10%, hsla(220,5%,50%,0.02) 50%, hsla(220,0%,40%,0) 100%), radial-gradient(35% 52% at 55% 20%, hsla(210,20%,60%,0.1) 0%, hsla(210,15%,50%,0) 100%), radial-gradient(100% 100% at 50% 50%, hsla(200,25%,55%,0.05) 1%, hsla(200,20%,45%,0) 76%), conic-gradient(from 124deg at 50% 50%, hsla(215,20%,65%,0.1) 0%, hsla(215,15%,55%,0.08) 40%, hsla(215,15%,55%,0.08) 60%, hsla(215,20%,65%,0.1) 100%)","--inner-gradient":"linear-gradient(145deg, hsla(220,10%,15%,0.6) 0%, hsla(210,15%,20%,0.4) 100%)"},[Oe,Be]);a.useEffect(()=>{(async()=>{var e,s,t;if(!_)return void console.log("VocabTest: No deckId provided");console.log("VocabTest: Loading deckId:",_),await h.auth.getSession();const a=decodeURIComponent(String(_)).trim();console.log("VocabTest: Safe deckId:",a);const n=a.match(/^(\d+)-(\d+)$/);if(n){const e=parseInt(n[1]),s=parseInt(n[2]),t=20,a=4,l=["Level 1","Level 2","Level 3","Level 4"][e-1]||`Level ${e}`;console.log(`VocabTest: Synthetic deck detected - Level ${e}, Set ${s}`);const i=await u({limit:1e4});console.log("VocabTest: Total cards loaded from D1:",i.length);const o=Math.ceil(i.length/a),c=i.map((e,s)=>{let t=e.level||1;return(t>a||t<1)&&(t=Math.floor(s/o)+1,t>a&&(t=a)),{id:e.id,term:e.term,translation:e.term,translations:[],pos:e.pos,ipa:e.ipa,context_sentence:e.context_sentence,examples_json:e.examples_json||[],level:t}}).filter(s=>s.level===e);console.log(`VocabTest: Cards in level ${e}:`,c.length);const r=(s-1)*t;let d=c.slice(r,r+t);console.log(`VocabTest: Cards in set ${s}:`,d.length),L(`${l} - Test ${s}`);const m=localStorage.getItem("vocab-shuffle-enabled");return m&&JSON.parse(m)&&(d=d.sort(()=>Math.random()-.5)),M(d),void V(0)}const{data:l}=await h.auth.getUser(),i=null==(e=null==l?void 0:l.user)?void 0:e.id,[o,c]=await Promise.all([h.from("vocab_cards").select("id, term, translation, pos, ipa, context_sentence, examples_json").eq("deck_id",a).or(`user_id.eq.${i||"null"},is_public.eq.true`).order("created_at",{ascending:!0}).limit(1e3),h.from("vocab_cards").select("vocab_decks!inner(name)").eq("deck_id",a).limit(1)]);console.log("VocabTest: Cards query result:",o),console.log("VocabTest: Deck name query result:",c);const r=null==(t=null==(s=((null==c?void 0:c.data)||[])[0])?void 0:s.vocab_decks)?void 0:t.name;L(r||"Deck Test");let d=(null==o?void 0:o.data)||[];if(console.log("VocabTest: Initial rows count:",d.length),0===d.length){const{data:e}=await h.from("vocab_cards").select("id, term, translation, pos, ipa, context_sentence, examples_json").eq("deck_id",a).eq("is_public",!0).order("created_at",{ascending:!0}).limit(1e3);d=e||[],console.log("VocabTest: Public fallback rows count:",d.length)}if(0===d.length){const{data:e}=await h.from("vocab_cards").select("id, term, translation, pos, ipa, context_sentence, examples_json, vocab_decks!inner(id)").eq("vocab_decks.id",a).order("created_at",{ascending:!0}).limit(1e3);d=(e||[]).map(e=>({id:e.id,term:e.term,translation:e.translation,translations:[],pos:e.pos,ipa:e.ipa,context_sentence:e.context_sentence,examples_json:e.examples_json})),console.log("VocabTest: Join fallback rows count:",d.length)}console.log("VocabTest: Final rows count:",d.length);const m=localStorage.getItem("vocab-shuffle-enabled");m&&JSON.parse(m)&&(d=d.sort(()=>Math.random()-.5)),M(d),V(0)})()},[_]);const Je=a.useMemo(()=>Ve?Array.isArray(Ve.examples_json)&&Ve.examples_json[0]?Ve.examples_json[0]:Ve.context_sentence||"":"",[Ve]);a.useMemo(()=>Ae?Array.isArray(Ae.examples_json)&&Ae.examples_json[0]?Ae.examples_json[0]:Ae.context_sentence||"":"",[Ae]);a.useEffect(()=>{const e=localStorage.getItem("vocab-notes");if(e)try{O(JSON.parse(e))}catch(s){console.error("Error loading notes:",s)}},[]),a.useEffect(()=>{Object.keys(F).length>0&&(localStorage.setItem("vocab-notes",JSON.stringify(F)),R("Saved"),setTimeout(()=>R(""),2e3))},[F]);const Pe=Ve&&F[Ve.id]||"";a.useEffect(()=>{J&&Ve&&Ue()},[J,Ve]),a.useEffect(()=>{me&&Ae&&Xe()},[me,Ae]),a.useEffect(()=>{2===le&&(Fe||De)&&We()},[le,Fe,De]),a.useEffect(()=>{1===le&&Ae&&Xe()},[le,Ae,re]);const Ue=()=>{if(!Ve)return;const e=z.filter(e=>e.id!==Ve.id&&e.translation).map(e=>e.translation).filter(e=>e!==Ve.translation).slice(0,3),s=[Ve.translation,...e].sort(()=>Math.random()-.5);X(s),G(null),K(null)},Xe=()=>{if(!Ae)return;const e=(Ae.translation||"").toString(),s=new Set;z.forEach(t=>{if(!t||t.id===Ae.id)return;const a=(t.translation||"").toString().trim();a&&a.toLowerCase()!==e.toLowerCase()&&(s.has(a.toLowerCase())||s.add(a.toLowerCase()))});let t=Array.from(s).map(e=>{const s=z.find(s=>(s.translation||"").toString().trim().toLowerCase()===e);return((null==s?void 0:s.translation)||"").toString()});t=t.sort(()=>Math.random()-.5).slice(0,3);const a=["A temporary or short-lived occurrence","An idea that lacks practical application","Something rare or infrequently encountered","A minor detail with little significance","A device used to measure performance"],n=new Set([e.toLowerCase(),...t.map(e=>e.toLowerCase())]);for(const i of a){if(t.length>=3)break;n.has(i.toLowerCase())||(t.push(i),n.add(i.toLowerCase()))}for(;t.length<3;){const e=`Option ${t.length+1}`;if(n.has(e.toLowerCase()))break;t.push(e),n.add(e.toLowerCase())}const l=[e,...t].filter(e=>"string"==typeof e&&e.trim().length>0).sort(()=>Math.random()-.5);ue(l),ge(null),je(null)},We=()=>{const e=Fe||De;if(!e)return;const s=z.filter(s=>s.id!==e.id&&s.translation).map(e=>e.translation).filter(s=>s!==e.translation).slice(0,3),t=[e.translation,...s].sort(()=>Math.random()-.5);ke(t),Se(null)},Ge=async(e,s)=>{try{const{data:t}=await h.auth.getUser();if(!(null==t?void 0:t.user))return;const{error:a}=await h.from("vocab_reviews").insert({user_id:t.user.id,card_id:e,rating:s?3:1});a&&console.error("Error saving SRS data:",a)}catch(t){console.error("Error saving SRS data:",t)}};return a.useEffect(()=>{P(!1),K(null),G(null)},[I]),n.jsx(o,{title:$,transparentBackground:Oe,children:n.jsxs("div",{className:"space-y-4 "+(Oe?"bg-[#FEF9E7] min-h-screen -m-4 p-4 md:-m-6 md:p-6":""),children:[n.jsx(c,{asChild:!0,variant:Oe?"ghost":"secondary",size:"sm",className:"vocab-back-button mb-4 "+(Oe?"hover:bg-[#A68B5B] hover:text-white transition-colors":""),style:Oe?{color:"#5D4E37"}:{},onClick:e=>e.stopPropagation(),children:n.jsxs(l,{to:"/vocabulary",className:"flex items-center gap-2",children:[n.jsx(x,{className:"w-4 h-4"}),"Back"]})}),se&&n.jsx("div",{className:"vocab-screen-container",children:n.jsx(r,{children:n.jsxs(d,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"text-lg font-semibold",children:"Get ready for two quick tests"}),n.jsxs("ul",{className:"text-sm text-muted-foreground list-disc pl-6 space-y-1",children:[n.jsx("li",{children:"Test 1: See the English word with the same image from learning, choose the correct meaning."}),n.jsx("li",{children:"Test 2: See only the English word, choose the correct meaning."})]}),n.jsx("div",{className:"flex gap-2 justify-center pt-2",children:n.jsx(c,{onClick:()=>{te(!1),ee(!0),ie(1),de(0),ce({}),he(!1),Te(z)},children:"Start Test 1"})})]})})}),ae&&n.jsx("div",{className:"vocab-screen-container",children:n.jsx(r,{children:n.jsxs(d,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"text-lg font-semibold",children:"Next: Word-only test"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Now you will only see the English word. Choose the correct meaning."}),n.jsx("div",{className:"flex gap-2 justify-center pt-2",children:n.jsx(c,{onClick:()=>{ne(!1),ie(2),fe(0),_e({})},children:"Start Test 2"})})]})})}),Z&&Ae&&1===le?n.jsxs("div",{className:"vocab-screen-container","data-theme":E.name,onClick:e=>{if(e.target.closest(".vocab-progress, .vocab-back-button"))return;const s=e.currentTarget.getBoundingClientRect(),t=e.clientX-s.left,a=s.width,n=.6*a;t<.4*a?re>0&&(Y("prev"),setTimeout(()=>Y(null),600),de(re-1),he(!1)):t>n&&re<Ie-1&&(Y("next"),setTimeout(()=>Y(null),600),de(re+1),he(!1))},children:[n.jsxs("div",{className:"vocab-progress",children:[n.jsxs("div",{className:"text-sm text-white/80 font-medium",children:["Test 1: ",re+1," / ",Ie]}),n.jsxs("div",{className:"text-xs text-white/60 mt-1",children:["Score: ",Object.values(oe).filter(e=>!0===e).length," correct"]})]}),n.jsx("div",{className:"vocab-card-container "+(Q?`page-turn-${Q}`:""),children:n.jsx("div",{className:"vocab-card-wrapper test1-mode",style:Be,children:n.jsx("div",{className:"vocab-card-inner",children:n.jsx("section",{className:"vocab-card front",children:n.jsxs("div",{className:"vocab-inside",children:[n.jsx("div",{className:"vocab-shine"}),n.jsx("div",{className:"vocab-glare"}),n.jsx("div",{className:"vocab-image-content",children:n.jsx("div",{className:"word-image-placeholder",children:n.jsx("div",{className:"text-6xl font-bold text-white/80 select-none",children:(null==(p=null==(g=Ae.term)?void 0:g.slice(0,1))?void 0:p.toUpperCase())||"A"})})}),n.jsxs("div",{className:"vocab-content",children:[n.jsxs("div",{className:"vocab-details",children:[n.jsx("h3",{className:"vocab-term",children:Ae.term}),n.jsx("p",{className:"vocab-pos",children:Ae.pos||"word"}),Ae.ipa&&n.jsxs("p",{className:"vocab-ipa",children:["/",Ae.ipa,"/"]})]}),n.jsxs("div",{className:"vocab-quiz mt-4",children:[n.jsx("div",{className:"quiz-options",children:ve.map((e,s)=>n.jsx("button",{className:"quiz-option "+(xe===e?"correct"===pe?"correct":"incorrect"===pe?"incorrect":"selected":""),onClick:()=>!xe&&(e=>{ge(e);const s=e===(null==Ae?void 0:Ae.translation);je(s?"correct":"incorrect"),Ae&&(ce({...oe,[Ae.id]:s}),Ge(Ae.id,s))})(e),disabled:!!xe,children:e},s))}),pe&&"incorrect"===pe&&n.jsx("div",{className:`quiz-feedback ${pe}`,children:"✗ Incorrect"})]})]})]})})})})}),n.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:n.jsx(c,{variant:"outline",onClick:()=>{const e=Object.values(oe).filter(e=>!0===e).length;if(1===le)ee(!1),ne(!0);else{const s=`Test Results:\n${e} out of ${Ie} correct (${Math.round(e/Ie*100)}%)`;alert(s),ee(!1)}},children:1===le?"Continue to Test 2":"Finish Test"})})]}):2===le?n.jsxs("div",{className:"vocab-screen-container","data-theme":E.name,onClick:e=>{if(e.target.closest(".vocab-progress, .vocab-back-button, .vocab-add-button, .quiz-option"))return;if(!Ne)return;const s=e.currentTarget.getBoundingClientRect();if(e.clientX-s.left>.6*s.width){const e=Ce.length||Ie;be<e-1?(Y("next"),setTimeout(()=>Y(null),600),fe(be+1),Se(null)):Ee(!0)}},children:[n.jsxs("div",{className:"vocab-progress",children:[n.jsxs("div",{className:"text-sm text-white/80 font-medium",children:["Test 2: ",Math.min(be+1,Ce.length||Ie)," / ",Ce.length||Ie]}),n.jsxs("div",{className:"text-xs text-white/60 mt-1",children:["Score: ",Object.values(ye).filter(e=>!0===e).length," correct"]})]}),n.jsx("div",{className:"vocab-card-container "+(Q?`page-turn-${Q}`:""),children:n.jsx("div",{className:"vocab-card-wrapper test2-mode",style:Re,children:n.jsx("div",{className:"vocab-card-inner",children:n.jsx("section",{className:"vocab-card front",children:n.jsxs("div",{className:"vocab-inside",children:[n.jsx("div",{className:"vocab-shine"}),n.jsx("div",{className:"vocab-glare"}),n.jsxs("div",{className:"vocab-content",children:[n.jsxs("div",{className:"vocab-details",children:[n.jsx("h3",{className:"vocab-term",children:null==(j=Fe||De)?void 0:j.term}),n.jsx("p",{className:"vocab-pos",children:(null==(b=Fe||De)?void 0:b.pos)||"word"}),(null==(f=Fe||De)?void 0:f.ipa)&&n.jsxs("p",{className:"vocab-ipa",children:["/",null==(N=Fe||De)?void 0:N.ipa,"/"]})]}),n.jsx("div",{className:"vocab-quiz",children:n.jsx("div",{className:"quiz-options",children:we.map((e,s)=>{var t;return n.jsx("button",{className:"quiz-option "+(Ne===e?e===(null==(t=Fe||De)?void 0:t.translation)?"correct":"incorrect":""),onClick:()=>!Ne&&(e=>{Se(e);const s=Fe||De,t=e===(null==s?void 0:s.translation);s&&(_e({...ye,[s.id]:!!t}),Ge(s.id,!!t))})(e),disabled:!!Ne,children:e},s)})})})]})]})})})})}),qe&&n.jsx("div",{className:"mt-4",children:n.jsx(r,{className:"w-full max-w-2xl mx-auto",children:n.jsxs(d,{className:"p-6 space-y-4",children:[n.jsx("div",{className:"text-lg font-semibold text-center",children:"Results"}),n.jsxs("div",{className:"text-center text-muted-foreground",children:["Correct: ",Object.values(ye).filter(e=>!0===e).length," / ",Ce.length||Ie]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium mb-2",children:"Need more practice"}),n.jsx("div",{className:"grid gap-2",children:(Ce.length?Ce:z).filter(e=>!ye[e.id]).map(e=>n.jsxs("div",{className:"rounded-md border p-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium",children:e.term}),n.jsx("div",{className:"text-xs text-muted-foreground",children:e.translation})]},e.id))})]}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx(c,{onClick:()=>{const e=(Ce.length?Ce:z).filter(e=>!ye[e.id]);if(0===e.length)return Ee(!1),void q("/vocabulary");Te(e),_e({}),fe(0),Se(null),Ee(!1)},children:0===(Ce.length?Ce:z).filter(e=>!ye[e.id]).length?"Done":"Retake wrong only"}),n.jsx(c,{variant:"secondary",onClick:()=>q("/vocabulary"),children:"Back to Vocabulary"})]})]})})})]}):Ve?n.jsxs("div",{className:"vocab-screen-container","data-theme":E.name,onClick:e=>{if(e.target.closest(".vocab-navigation, .vocab-notes-section, .vocab-progress, .vocab-back-button"))return;const s=e.currentTarget.getBoundingClientRect(),t=e.clientX-s.left,a=s.width,n=.6*a;t<.4*a?I>0&&(Y("prev"),setTimeout(()=>Y(null),600),V(e=>Math.max(e-1,0))):t>n&&(I<Ie-1?(Y("next"),setTimeout(()=>Y(null),600),V(e=>Math.min(e+1,Math.max(0,Ie-1)))):I===Ie-1&&te(!0))},children:[n.jsx("div",{className:"vocab-progress",children:n.jsx("div",{className:"text-sm text-white/80 font-medium",children:Ie?`${I+1} / ${Ie}`:"0 / 0"})}),n.jsxs("div",{className:"vocab-card-container "+(Q?`page-turn-${Q}`:""),children:[n.jsx("div",{className:"vocab-card-wrapper "+(J?"flipped":""),onClick:e=>{e.target.closest(".quiz-option")||(e.stopPropagation(),P(!J))},style:Be,children:n.jsxs("div",{className:"vocab-card-inner",children:[n.jsx("section",{className:"vocab-card front",children:n.jsxs("div",{className:"vocab-inside",children:[n.jsx("div",{className:"vocab-shine"}),n.jsx("div",{className:"vocab-glare"}),n.jsx("div",{className:"vocab-image-content",children:n.jsx("div",{className:"word-image-placeholder",children:n.jsx("div",{className:"text-6xl font-bold text-white/80 select-none",children:(null==(w=null==(S=Ve.term)?void 0:S.slice(0,1))?void 0:w.toUpperCase())||"A"})})}),n.jsxs("div",{className:"vocab-content",children:[n.jsxs("div",{className:"vocab-details",children:[n.jsx("h3",{className:"vocab-term",children:Ve.term}),n.jsx("p",{className:"vocab-pos",children:Ve.pos||"word"}),Ve.ipa&&n.jsxs("p",{className:"vocab-ipa",children:["/",Ve.ipa,"/"]})]}),((null==(k=Ve.translations)?void 0:k.length)>0||Ve.translation)&&n.jsx("div",{className:"vocab-translation",children:(null==(y=Ve.translations)?void 0:y.length)>1?n.jsx("div",{className:"translation-text",children:Ve.translations.map((e,s)=>n.jsxs("span",{children:[e,s<Ve.translations.length-1?", ":""]},s))}):n.jsx("div",{className:"translation-text",children:Ve.translation})}),Je&&n.jsx("div",{className:"vocab-example",children:n.jsx("div",{className:"example-text",dangerouslySetInnerHTML:{__html:((e,s)=>{if(!e||!s)return e;const t=new RegExp(`\\b(${s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})\\b`,"gi");return e.replace(t,e=>`<mark class="highlighted-word">${e}</mark>`)})(Je,(null==Ve?void 0:Ve.term)||"")}})})]})]})}),n.jsx("section",{className:"vocab-card back",children:n.jsxs("div",{className:"vocab-inside",children:[n.jsx("div",{className:"vocab-shine"}),n.jsx("div",{className:"vocab-glare"}),n.jsxs("div",{className:"vocab-quiz",children:[n.jsxs("div",{className:"quiz-header",children:[n.jsx("h3",{className:"quiz-question",children:"What is the translation of:"}),n.jsx("div",{className:"quiz-word",children:Ve.term})]}),n.jsx("div",{className:"quiz-options",children:U.map((e,s)=>n.jsx("button",{className:"quiz-option "+(W===e?"correct"===H?"correct":"incorrect"===H?"incorrect":"selected":""),onClick:()=>!W&&(e=>{G(e);const s=e===(null==Ve?void 0:Ve.translation);K(s?"correct":"incorrect"),Ve&&Ge(Ve.id,s)})(e),disabled:!!W,children:e},s))}),H&&"incorrect"===H&&n.jsx("div",{className:`quiz-feedback ${H}`,children:"✗ Incorrect"})]})]})})]})}),n.jsxs("div",{className:"vocab-notes-section",onClick:e=>e.stopPropagation(),children:[n.jsx("textarea",{className:"notes-textarea",placeholder:"",value:Pe,onChange:e=>{return Ve&&(s=Ve.id,t=e.target.value,void O(e=>({...e,[s]:t})));var s,t},rows:3}),B&&n.jsx("div",{className:"notes-save-indicator "+("Saved"===B?"notes-saved":""),children:B})]})]})]}):n.jsx(r,{children:n.jsx(d,{className:"p-6 text-sm text-muted-foreground flex justify-center items-center min-h-[200px]",children:n.jsx(m,{})})}),$e&&n.jsx("div",{className:"vocab-toast",children:ze})]})})}export{g as default};
