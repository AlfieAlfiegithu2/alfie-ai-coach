import{av as e,r as t,aB as a,aw as r,j as s,ay as n,az as o,aA as c,bb as d,bc as i,at as l,w as u}from"./index-B5Em92Z4.js";var f="Checkbox",[b,p]=e(f),[h,m]=b(f),k=t.forwardRef((e,c)=>{const{__scopeCheckbox:d,name:i,checked:l,defaultChecked:u,required:f,disabled:b,value:p="on",onCheckedChange:m,form:k,...v}=e,[y,C]=t.useState(null),j=a(c,e=>C(e)),E=t.useRef(!1),N=!y||(k||!!y.closest("form")),[R=!1,D]=r({prop:l,defaultProp:u,onChange:m}),P=t.useRef(R);return t.useEffect(()=>{const e=null==y?void 0:y.form;if(e){const t=()=>D(P.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[y,D]),s.jsxs(h,{scope:d,state:R,disabled:b,children:[s.jsx(n.button,{type:"button",role:"checkbox","aria-checked":g(R)?"mixed":R,"aria-required":f,"data-state":w(R),"data-disabled":b?"":void 0,disabled:b,value:p,...v,ref:j,onKeyDown:o(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:o(e.onClick,e=>{D(e=>!!g(e)||!e),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),N&&s.jsx(x,{control:y,bubbles:!E.current,name:i,value:p,checked:R,required:f,disabled:b,form:k,style:{transform:"translateX(-100%)"},defaultChecked:!g(u)&&u})]})});k.displayName=f;var v="CheckboxIndicator",y=t.forwardRef((e,t)=>{const{__scopeCheckbox:a,forceMount:r,...o}=e,d=m(v,a);return s.jsx(c,{present:r||g(d.state)||!0===d.state,children:s.jsx(n.span,{"data-state":w(d.state),"data-disabled":d.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=v;var x=e=>{const{control:a,checked:r,bubbles:n=!0,defaultChecked:o,...c}=e,l=t.useRef(null),u=d(r),f=i(a);t.useEffect(()=>{const e=l.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==r&&a){const t=new Event("click",{bubbles:n});e.indeterminate=g(r),a.call(e,!g(r)&&r),e.dispatchEvent(t)}},[u,r,n]);const b=t.useRef(!g(r)&&r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,...c,tabIndex:-1,ref:l,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(e){return"indeterminate"===e}function w(e){return g(e)?"indeterminate":e?"checked":"unchecked"}var C=k,j=y;const E=t.forwardRef(({className:e,...t},a)=>s.jsx(C,{ref:a,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(j,{className:l("flex items-center justify-center text-current"),children:s.jsx(u,{className:"h-4 w-4"})})}));E.displayName=C.displayName;export{E as C};
