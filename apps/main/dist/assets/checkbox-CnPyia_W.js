import{aB as e,r as t,aH as a,aC as r,j as s,aE as n,aF as o,aG as c,bl as d,bm as i,aA as l,x as u}from"./index-moKnyc00.js";var f="Checkbox",[b,p]=e(f),[h,m]=b(f),k=t.forwardRef((e,c)=>{const{__scopeCheckbox:d,name:i,checked:l,defaultChecked:u,required:f,disabled:b,value:p="on",onCheckedChange:m,form:k,...x}=e,[v,j]=t.useState(null),w=a(c,e=>j(e)),E=t.useRef(!1),N=!v||(k||!!v.closest("form")),[R=!1,D]=r({prop:l,defaultProp:u,onChange:m}),P=t.useRef(R);return t.useEffect(()=>{const e=null==v?void 0:v.form;if(e){const t=()=>D(P.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,D]),s.jsxs(h,{scope:d,state:R,disabled:b,children:[s.jsx(n.button,{type:"button",role:"checkbox","aria-checked":C(R)?"mixed":R,"aria-required":f,"data-state":g(R),"data-disabled":b?"":void 0,disabled:b,value:p,...x,ref:w,onKeyDown:o(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:o(e.onClick,e=>{D(e=>!!C(e)||!e),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),N&&s.jsx(y,{control:v,bubbles:!E.current,name:i,value:p,checked:R,required:f,disabled:b,form:k,style:{transform:"translateX(-100%)"},defaultChecked:!C(u)&&u})]})});k.displayName=f;var x="CheckboxIndicator",v=t.forwardRef((e,t)=>{const{__scopeCheckbox:a,forceMount:r,...o}=e,d=m(x,a);return s.jsx(c,{present:r||C(d.state)||!0===d.state,children:s.jsx(n.span,{"data-state":g(d.state),"data-disabled":d.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=x;var y=e=>{const{control:a,checked:r,bubbles:n=!0,defaultChecked:o,...c}=e,l=t.useRef(null),u=d(r),f=i(a);t.useEffect(()=>{const e=l.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==r&&a){const t=new Event("click",{bubbles:n});e.indeterminate=C(r),a.call(e,!C(r)&&r),e.dispatchEvent(t)}},[u,r,n]);const b=t.useRef(!C(r)&&r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,...c,tabIndex:-1,ref:l,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return"indeterminate"===e}function g(e){return C(e)?"indeterminate":e?"checked":"unchecked"}var j=k,w=v;const E=t.forwardRef(({className:e,...t},a)=>s.jsx(j,{ref:a,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(w,{className:l("flex items-center justify-center text-current"),children:s.jsx(u,{className:"h-4 w-4"})})}));E.displayName=j.displayName;export{E as C};
