const t="https://alfie-translations-api.ryanbigbang15.workers.dev";async function r(r){var n;try{const a=new URLSearchParams;(null==r?void 0:r.limit)&&a.set("limit",r.limit.toString()),(null==(n=null==r?void 0:r.ids)?void 0:n.length)&&a.set("ids",r.ids.join(",")),(null==r?void 0:r.term)&&a.set("term",r.term);const o=`${t}/cards${a.toString()?"?"+a.toString():""}`,s=await fetch(o);if(!s.ok)return console.error("D1 cards fetch failed:",s.status),[];return(await s.json()).data||[]}catch(a){return console.error("Error fetching cards from D1:",a),[]}}async function n(r){try{const n=await fetch(`${t}/translations/all?lang=${encodeURIComponent(r)}`);if(!n.ok)return console.error("D1 translations fetch failed:",n.status),{first:{},all:{}};const a=await n.json();return{first:a.data||{},all:a.allTranslations||{}}}catch(n){return console.error("Error fetching translations from D1:",n),{first:{},all:{}}}}async function a(r,n){if(0===r.length)return[];try{const a=r.join(","),o=await fetch(`${t}/translations?lang=${encodeURIComponent(n)}&card_ids=${encodeURIComponent(a)}`);if(!o.ok)return console.error("D1 translations fetch failed:",o.status),[];return(await o.json()).data||[]}catch(a){return console.error("Error fetching translations from D1:",a),[]}}export{n as a,a as b,r as f};
