const t="https://alfie-translations-api.ryanbigbang15.workers.dev";async function r(r){var n;try{const o=new URLSearchParams;(null==r?void 0:r.limit)&&o.set("limit",r.limit.toString()),(null==r?void 0:r.offset)&&o.set("offset",r.offset.toString()),(null==(n=null==r?void 0:r.ids)?void 0:n.length)&&o.set("ids",r.ids.join(",")),(null==r?void 0:r.term)&&o.set("term",r.term);const a=`${t}/cards${o.toString()?"?"+o.toString():""}`,s=await fetch(a);if(!s.ok)return console.error("D1 cards fetch failed:",s.status),[];return(await s.json()).data||[]}catch(o){return console.error("Error fetching cards from D1:",o),[]}}async function n(r){try{const n=await fetch(`${t}/translations/all?lang=${encodeURIComponent(r)}`);if(!n.ok)return console.error("D1 translations fetch failed:",n.status),{first:{},all:{}};const o=await n.json();return{first:o.data||{},all:o.allTranslations||{}}}catch(n){return console.error("Error fetching translations from D1:",n),{first:{},all:{}}}}async function o(r,n){if(0===r.length)return[];try{const o=r.join(","),a=await fetch(`${t}/translations?lang=${encodeURIComponent(n)}&card_ids=${encodeURIComponent(o)}`);if(!a.ok)return console.error("D1 translations fetch failed:",a.status),[];return(await a.json()).data||[]}catch(o){return console.error("Error fetching translations from D1:",o),[]}}export{n as a,o as b,r as f};
