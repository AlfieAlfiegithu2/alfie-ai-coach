const t="https://alfie-translations-api.ryanbigbang15.workers.dev";async function r(r){var n;try{const o=new URLSearchParams;(null==r?void 0:r.limit)&&o.set("limit",r.limit.toString()),(null==(n=null==r?void 0:r.ids)?void 0:n.length)&&o.set("ids",r.ids.join(",")),(null==r?void 0:r.term)&&o.set("term",r.term);const a=`${t}/cards${o.toString()?"?"+o.toString():""}`,e=await fetch(a);if(!e.ok)return console.error("D1 cards fetch failed:",e.status),[];return(await e.json()).data||[]}catch(o){return console.error("Error fetching cards from D1:",o),[]}}async function n(r){try{const n=await fetch(`${t}/translations/all?lang=${encodeURIComponent(r)}`);if(!n.ok)return console.error("D1 translations fetch failed:",n.status),{};return(await n.json()).data||{}}catch(n){return console.error("Error fetching translations from D1:",n),{}}}async function o(r,n){if(0===r.length)return[];try{const o=r.join(","),a=await fetch(`${t}/translations?lang=${encodeURIComponent(n)}&card_ids=${encodeURIComponent(o)}`);if(!a.ok)return console.error("D1 translations fetch failed:",a.status),[];return(await a.json()).data||[]}catch(o){return console.error("Error fetching translations from D1:",o),[]}}export{n as a,o as b,r as f};
