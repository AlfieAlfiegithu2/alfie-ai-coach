import{b2 as e,aB as n,r as t,aC as o,j as r,aF as i,aH as a,aM as s,aE as l,bm as d,bl as u,bj as c}from"./index-DsPg4zpT.js";var f=["PageUp","PageDown"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],p={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},v="Slider",[h,w,S]=e(v),[g,x]=n(v,[S]),[b,y]=g(v),D=t.forwardRef((e,n)=>{const{name:a,min:s=0,max:l=100,step:d=1,orientation:u="horizontal",disabled:p=!1,minStepsBetweenThumbs:v=0,defaultValue:w=[s],value:S,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:y=!1,form:D,...E}=e,R=t.useRef(new Set),M=t.useRef(0),P="horizontal"===u?_:j,[K=[],A]=o({prop:S,defaultProp:w,onChange:e=>{var n;null==(n=[...R.current][M.current])||n.focus(),g(e)}}),C=t.useRef(K);function I(e,n,{commit:t}={commit:!1}){const o=function(e){return(String(e).split(".")[1]||"").length}(d),r=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-s)/d)*d+s,o),i=c(r,[s,l]);A((e=[])=>{const o=function(e=[],n,t){const o=[...e];return o[t]=n,o.sort((e,n)=>e-n)}(e,i,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(o,v*d)){M.current=o.indexOf(i);const n=String(o)!==String(e);return n&&t&&x(o),n?o:e}return e})}return r.jsx(b,{scope:e.__scopeSlider,name:a,disabled:p,min:s,max:l,valueIndexToChangeRef:M,thumbs:R.current,values:K,orientation:u,form:D,children:r.jsx(h.Provider,{scope:e.__scopeSlider,children:r.jsx(h.Slot,{scope:e.__scopeSlider,children:r.jsx(P,{"aria-disabled":p,"data-disabled":p?"":void 0,...E,ref:n,onPointerDown:i(E.onPointerDown,()=>{p||(C.current=K)}),min:s,max:l,inverted:y,onSlideStart:p?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),o=Math.min(...t);return t.indexOf(o)}(K,e);I(e,n)},onSlideMove:p?void 0:function(e){I(e,M.current)},onSlideEnd:p?void 0:function(){const e=C.current[M.current];K[M.current]!==e&&x(K)},onHomeKeyDown:()=>!p&&I(s,0,{commit:!0}),onEndKeyDown:()=>!p&&I(l,K.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!p){const t=f.includes(e.key)||e.shiftKey&&m.includes(e.key)?10:1,o=M.current;I(K[o]+d*t*n,o,{commit:!0})}}})})})})});D.displayName=v;var[E,R]=g(v,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=t.forwardRef((e,n)=>{const{min:o,max:i,dir:l,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...v}=e,[h,w]=t.useState(null),S=a(n,e=>w(e)),g=t.useRef(),x=s(l),b="ltr"===x,y=b&&!d||!b&&d;function D(e){const n=g.current||h.getBoundingClientRect(),t=L([0,n.width],y?[o,i]:[i,o]);return g.current=n,t(e-n.left)}return r.jsx(E,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:r.jsx(M,{dir:x,"data-orientation":"horizontal",...v,ref:S,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);null==u||u(n)},onSlideMove:e=>{const n=D(e.clientX);null==c||c(n)},onSlideEnd:()=>{g.current=void 0,null==f||f()},onStepKeyDown:e=>{const n=p[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:n?-1:1})}})})}),j=t.forwardRef((e,n)=>{const{min:o,max:i,inverted:s,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=t.useRef(null),v=a(n,m),h=t.useRef(),w=!s;function S(e){const n=h.current||m.current.getBoundingClientRect(),t=L([0,n.height],w?[i,o]:[o,i]);return h.current=n,t(e-n.top)}return r.jsx(E,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:r.jsx(M,{"data-orientation":"vertical",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=S(e.clientY);null==l||l(n)},onSlideMove:e=>{const n=S(e.clientY);null==d||d(n)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const n=p[w?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:n?-1:1})}})})}),M=t.forwardRef((e,n)=>{const{__scopeSlider:t,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...p}=e,h=y(v,t);return r.jsx(l.span,{...p,ref:n,onKeyDown:i(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):f.concat(m).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:i(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(n)?n.focus():o(e)}),onPointerMove:i(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:i(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),s(e))})})}),P="SliderTrack",K=t.forwardRef((e,n)=>{const{__scopeSlider:t,...o}=e,i=y(P,t);return r.jsx(l.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:n})});K.displayName=P;var A="SliderRange",C=t.forwardRef((e,n)=>{const{__scopeSlider:o,...i}=e,s=y(A,o),d=R(A,o),u=t.useRef(null),c=a(n,u),f=s.values.length,m=s.values.map(e=>T(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return r.jsx(l.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});C.displayName=A;var I="SliderThumb",H=t.forwardRef((e,n)=>{const o=w(e.__scopeSlider),[i,s]=t.useState(null),l=a(n,e=>s(e)),d=t.useMemo(()=>i?o().findIndex(e=>e.ref.current===i):-1,[o,i]);return r.jsx(k,{...e,ref:l,index:d})}),k=t.forwardRef((e,n)=>{const{__scopeSlider:o,index:s,name:u,...c}=e,f=y(I,o),m=R(I,o),[p,v]=t.useState(null),w=a(n,e=>v(e)),S=!p||(f.form||!!p.closest("form")),g=d(p),x=f.values[s],b=void 0===x?0:T(x,f.min,f.max),D=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(s,f.values.length),E=null==g?void 0:g[m.size],_=E?function(e,n,t){const o=e/2,r=L([0,50],[0,o]);return(o-r(n)*t)*t}(E,b,m.direction):0;return t.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${b}% + ${_}px)`},children:[r.jsx(h.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(l.span,{role:"slider","aria-label":e["aria-label"]||D,"aria-valuemin":f.min,"aria-valuenow":x,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:w,style:void 0===x?{display:"none"}:e.style,onFocus:i(e.onFocus,()=>{f.valueIndexToChangeRef.current=s})})}),S&&r.jsx(z,{name:u??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:x},s)]})});H.displayName=I;var z=e=>{const{value:n,...o}=e,i=t.useRef(null),a=u(n);return t.useEffect(()=>{const e=i.current,t=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(t,"value").set;if(a!==n&&o){const t=new Event("input",{bubbles:!0});o.call(e,n),e.dispatchEvent(t)}},[a,n]),r.jsx("input",{style:{display:"none"},...o,ref:i,defaultValue:n})};function T(e,n,t){return c(100/(t-n)*(e-n),[0,100])}function L(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(t-e[0])}}var U=D,V=K,B=C,N=H;export{U as R,V as T,B as a,N as b};
