import{b2 as e,aB as n,r as t,aC as o,j as r,aF as i,aH as a,aM as s,aE as l,bm as d,bl as u,bj as c,aA as f}from"./index-B8xhCrLy.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,g,S]=e(h),[b,x]=n(h,[S]),[y,D]=b(h),j=t.forwardRef((e,n)=>{const{name:a,min:s=0,max:l=100,step:d=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[s],value:g,onValueChange:S=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:D,...j}=e,E=t.useRef(new Set),R=t.useRef(0),P="horizontal"===u?_:M,[A=[],K]=o({prop:g,defaultProp:h,onChange:e=>{var n;null==(n=[...E.current][R.current])||n.focus(),S(e)}}),C=t.useRef(A);function k(e,n,{commit:t}={commit:!1}){const o=function(e){return(String(e).split(".")[1]||"").length}(d),r=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-s)/d)*d+s,o),i=c(r,[s,l]);K((e=[])=>{const o=function(e=[],n,t){const o=[...e];return o[t]=n,o.sort((e,n)=>e-n)}(e,i,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(o,v*d)){R.current=o.indexOf(i);const n=String(o)!==String(e);return n&&t&&b(o),n?o:e}return e})}return r.jsx(y,{scope:e.__scopeSlider,name:a,disabled:f,min:s,max:l,valueIndexToChangeRef:R,thumbs:E.current,values:A,orientation:u,form:D,children:r.jsx(w.Provider,{scope:e.__scopeSlider,children:r.jsx(w.Slot,{scope:e.__scopeSlider,children:r.jsx(P,{"aria-disabled":f,"data-disabled":f?"":void 0,...j,ref:n,onPointerDown:i(j.onPointerDown,()=>{f||(C.current=A)}),min:s,max:l,inverted:x,onSlideStart:f?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),o=Math.min(...t);return t.indexOf(o)}(A,e);k(e,n)},onSlideMove:f?void 0:function(e){k(e,R.current)},onSlideEnd:f?void 0:function(){const e=C.current[R.current];A[R.current]!==e&&b(A)},onHomeKeyDown:()=>!f&&k(s,0,{commit:!0}),onEndKeyDown:()=>!f&&k(l,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!f){const t=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,o=R.current;k(A[o]+d*t*n,o,{commit:!0})}}})})})})});j.displayName=h;var[E,R]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=t.forwardRef((e,n)=>{const{min:o,max:i,dir:l,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=e,[h,w]=t.useState(null),g=a(n,e=>w(e)),S=t.useRef(),b=s(l),x="ltr"===b,y=x&&!d||!x&&d;function D(e){const n=S.current||h.getBoundingClientRect(),t=L([0,n.width],y?[o,i]:[i,o]);return S.current=n,t(e-n.left)}return r.jsx(E,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:r.jsx(P,{dir:b,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);null==u||u(n)},onSlideMove:e=>{const n=D(e.clientX);null==c||c(n)},onSlideEnd:()=>{S.current=void 0,null==f||f()},onStepKeyDown:e=>{const n=v[y?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:n?-1:1})}})})}),M=t.forwardRef((e,n)=>{const{min:o,max:i,inverted:s,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=t.useRef(null),p=a(n,m),h=t.useRef(),w=!s;function g(e){const n=h.current||m.current.getBoundingClientRect(),t=L([0,n.height],w?[i,o]:[o,i]);return h.current=n,t(e-n.top)}return r.jsx(E,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:r.jsx(P,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=g(e.clientY);null==l||l(n)},onSlideMove:e=>{const n=g(e.clientY);null==d||d(n)},onSlideEnd:()=>{h.current=void 0,null==u||u()},onStepKeyDown:e=>{const n=v[w?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:n?-1:1})}})})}),P=t.forwardRef((e,n)=>{const{__scopeSlider:t,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=D(h,t);return r.jsx(l.span,{...f,ref:n,onKeyDown:i(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:i(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(n)?n.focus():o(e)}),onPointerMove:i(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:i(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),s(e))})})}),A="SliderTrack",K=t.forwardRef((e,n)=>{const{__scopeSlider:t,...o}=e,i=D(A,t);return r.jsx(l.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:n})});K.displayName=A;var C="SliderRange",k=t.forwardRef((e,n)=>{const{__scopeSlider:o,...i}=e,s=D(C,o),d=R(C,o),u=t.useRef(null),c=a(n,u),f=s.values.length,m=s.values.map(e=>T(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return r.jsx(l.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...i,ref:c,style:{...e.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});k.displayName=C;var N="SliderThumb",I=t.forwardRef((e,n)=>{const o=g(e.__scopeSlider),[i,s]=t.useState(null),l=a(n,e=>s(e)),d=t.useMemo(()=>i?o().findIndex(e=>e.ref.current===i):-1,[o,i]);return r.jsx(H,{...e,ref:l,index:d})}),H=t.forwardRef((e,n)=>{const{__scopeSlider:o,index:s,name:u,...c}=e,f=D(N,o),m=R(N,o),[p,v]=t.useState(null),h=a(n,e=>v(e)),g=!p||(f.form||!!p.closest("form")),S=d(p),b=f.values[s],x=void 0===b?0:T(b,f.min,f.max),y=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(s,f.values.length),j=null==S?void 0:S[m.size],E=j?function(e,n,t){const o=e/2,r=L([0,50],[0,o]);return(o-r(n)*t)*t}(j,x,m.direction):0;return t.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${E}px)`},children:[r.jsx(w.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(l.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":f.min,"aria-valuenow":b,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:h,style:void 0===b?{display:"none"}:e.style,onFocus:i(e.onFocus,()=>{f.valueIndexToChangeRef.current=s})})}),g&&r.jsx(z,{name:u??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:b},s)]})});I.displayName=N;var z=e=>{const{value:n,...o}=e,i=t.useRef(null),a=u(n);return t.useEffect(()=>{const e=i.current,t=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(t,"value").set;if(a!==n&&o){const t=new Event("input",{bubbles:!0});o.call(e,n),e.dispatchEvent(t)}},[a,n]),r.jsx("input",{style:{display:"none"},...o,ref:i,defaultValue:n})};function T(e,n,t){return c(100/(t-n)*(e-n),[0,100])}function L(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(t-e[0])}}var U=j,V=K,B=k,O=I;const $=t.forwardRef(({className:e,...n},t)=>r.jsxs(U,{ref:t,className:f("relative flex w-full touch-none select-none items-center",e),...n,children:[r.jsx(V,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(B,{className:"absolute h-full bg-primary"})}),r.jsx(O,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));$.displayName=U.displayName;export{$ as S};
